<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Code coverage for Porolog</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src='./assets/0.10.2/application.js' type='text/javascript'></script>    
    <link href='./assets/0.10.2/application.css' media='screen, projection, print' rel='stylesheet' type='text/css'>
    <link rel="shortcut icon" type="image/png" href="./assets/0.10.2/favicon_green.png" />
    <link rel="icon" type="image/png" href="./assets/0.10.2/favicon.png" />
  </head>
  
  <body>
    <div id="loading">
      <img src="./assets/0.10.2/loading.gif" alt="loading"/>
    </div>
    <div id="wrapper" style="display:none;">
      <div class="timestamp">Generated <abbr class="timeago" title="2020-08-02T18:04:00+10:00">2020-08-02T18:04:00+10:00</abbr></div>
      <ul class="group_tabs"></ul>

      <div id="content">
        <div class="file_list_container" id="AllFiles">
  <h2>
    <span class="group_name">All Files</span>
    (<span class="covered_percent"><span class="green">100.0%</span></span>
     covered at
     <span class="covered_strength">
       <span class="green">
         17779.06
       </span>
    </span> hits/line)
  </h2>
  <a name="AllFiles"></a>
  <div>
    <b>25</b> files in total.
    <b>5773</b> relevant lines. 
    <span class="green"><b>5773</b> lines covered</span> and
    <span class="red"><b>0</b> lines missed </span>
  </div>
  <table class="file_list">
    <thead>
      <tr>
        <th>File</th>
        <th>% covered</th>
        <th>Lines</th>
        <th>Relevant Lines</th>
        <th>Lines covered</th>
        <th>Lines missed</th>
        <th>Avg. Hits / Line</th>
      </tr>
    </thead>
    <tbody>
      
      <tr>
        <td class="strong"><a href="#41affffe2a6da2bfd1b3f757b857bf2b62747784" class="src_link" title="lib/porolog.rb">lib/porolog.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>1170</td>
        <td>609</td>
        <td>609</td>
        <td>0</td>
        <td>8926.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#9025830706c26c7c9aeb091802592d13103e9a4a" class="src_link" title="lib/porolog/arguments.rb">lib/porolog/arguments.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>177</td>
        <td>59</td>
        <td>59</td>
        <td>0</td>
        <td>1221.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#6e0d5c7f9f10f73d8901653d30b98bff5e4558c2" class="src_link" title="lib/porolog/core_ext.rb">lib/porolog/core_ext.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>188</td>
        <td>74</td>
        <td>74</td>
        <td>0</td>
        <td>115809.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#fd16fdc9d6b0b94bf47951f193785951b9d9bb48" class="src_link" title="lib/porolog/error.rb">lib/porolog/error.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>22</td>
        <td>4</td>
        <td>4</td>
        <td>0</td>
        <td>1.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#401ee06f6089cd52cd5e304b1a64688e2ff7a95f" class="src_link" title="lib/porolog/goal.rb">lib/porolog/goal.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>357</td>
        <td>146</td>
        <td>146</td>
        <td>0</td>
        <td>14683.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#0242edb9dcc3c227bcbd5564ff9d900c0708e6ce" class="src_link" title="lib/porolog/instantiation.rb">lib/porolog/instantiation.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>346</td>
        <td>146</td>
        <td>146</td>
        <td>0</td>
        <td>159315.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#6a9b9f605540e91937c2e20600638e425bfd765f" class="src_link" title="lib/porolog/predicate.rb">lib/porolog/predicate.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>178</td>
        <td>60</td>
        <td>60</td>
        <td>0</td>
        <td>879.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#313e74025777e67a58f11103657463da1d235ce4" class="src_link" title="lib/porolog/predicate/builtin.rb">lib/porolog/predicate/builtin.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>825</td>
        <td>315</td>
        <td>315</td>
        <td>0</td>
        <td>41.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a757ef6ff8fffd8fc988adf32f7fa90aa46219fb" class="src_link" title="lib/porolog/rule.rb">lib/porolog/rule.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>162</td>
        <td>59</td>
        <td>59</td>
        <td>0</td>
        <td>1188.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#89c82b10a6409feecd26e7483a13a8a8a223de9d" class="src_link" title="lib/porolog/scope.rb">lib/porolog/scope.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>89</td>
        <td>26</td>
        <td>26</td>
        <td>0</td>
        <td>384.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#9cf1583ebf82fbd7d8a13bde097788ee65941d4e" class="src_link" title="lib/porolog/tail.rb">lib/porolog/tail.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>57</td>
        <td>14</td>
        <td>14</td>
        <td>0</td>
        <td>16314.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#8ca489cd9733286b998d678d0329d94ca5020e6c" class="src_link" title="lib/porolog/value.rb">lib/porolog/value.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>105</td>
        <td>33</td>
        <td>33</td>
        <td>0</td>
        <td>142303.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#9d510437b31f47023ff71037d7379a8ccb509437" class="src_link" title="lib/porolog/variable.rb">lib/porolog/variable.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>325</td>
        <td>129</td>
        <td>129</td>
        <td>0</td>
        <td>450212.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#43c0c7a240f9c1e1424951dcf745950f566e3572" class="src_link" title="test/porolog/core_ext_test.rb">test/porolog/core_ext_test.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>290</td>
        <td>166</td>
        <td>166</td>
        <td>0</td>
        <td>1.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#8e03f55aad5a0e4807f98988a10d608025119e33" class="src_link" title="test/porolog/goal_test.rb">test/porolog/goal_test.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>891</td>
        <td>379</td>
        <td>379</td>
        <td>0</td>
        <td>1.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#206ddef9a545ccf7733a0f7396116192abfa392d" class="src_link" title="test/porolog/instantiation_test.rb">test/porolog/instantiation_test.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>910</td>
        <td>453</td>
        <td>453</td>
        <td>0</td>
        <td>1.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#029606da68e2f930c84e8be84e43975f87a55841" class="src_link" title="test/porolog/porolog_test.rb">test/porolog/porolog_test.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>2429</td>
        <td>955</td>
        <td>955</td>
        <td>0</td>
        <td>2.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a734cbee67cc046ff91cdf05c1cc23374446867b" class="src_link" title="test/porolog/predicate/builtin_test.rb">test/porolog/predicate/builtin_test.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>1340</td>
        <td>575</td>
        <td>575</td>
        <td>0</td>
        <td>1.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#8de3f3b4648d5cb7c8eff6b5e067a63e809963ec" class="src_link" title="test/porolog/predicate_test.rb">test/porolog/predicate_test.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>407</td>
        <td>200</td>
        <td>200</td>
        <td>0</td>
        <td>1.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#685a22ce6cc869a4f39ad1a22a51c3df003fc0b1" class="src_link" title="test/porolog/rule_test.rb">test/porolog/rule_test.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>527</td>
        <td>269</td>
        <td>269</td>
        <td>0</td>
        <td>1.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#66229a78f1884500775c3a5adea04c13196e1ebf" class="src_link" title="test/porolog/scope_test.rb">test/porolog/scope_test.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>256</td>
        <td>140</td>
        <td>140</td>
        <td>0</td>
        <td>1.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#9847e80592236e372b2bf49bfa0d7c726a8361ee" class="src_link" title="test/porolog/tail_test.rb">test/porolog/tail_test.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>127</td>
        <td>57</td>
        <td>57</td>
        <td>0</td>
        <td>1.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#f2ba36f5ed1fa1cb9e2a4dc7862bbb78b135be23" class="src_link" title="test/porolog/value_test.rb">test/porolog/value_test.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>315</td>
        <td>160</td>
        <td>160</td>
        <td>0</td>
        <td>1.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#4f03f8f77c23cb8de15c2dc44038781f19bea352" class="src_link" title="test/porolog/variable_test.rb">test/porolog/variable_test.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>1614</td>
        <td>651</td>
        <td>651</td>
        <td>0</td>
        <td>1.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#621e73d5443d492f7ef83056e1c5dee65ddb2155" class="src_link" title="test/samples_test.rb">test/samples_test.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>277</td>
        <td>94</td>
        <td>94</td>
        <td>0</td>
        <td>13.1</td>
      </tr>
      
    </tbody>
  </table>
</div>


        
      </div>
    
      <div id="footer">
        Generated by <a href="http://github.com/colszowka/simplecov">simplecov</a> v0.16.1 
        and simplecov-html v0.10.2<br/>
        using Unit Tests
      </div>
    
      <div class="source_files">
      
        <div class="source_table" id="41affffe2a6da2bfd1b3f757b857bf2b62747784">
  <div class="header">
    <h3>lib/porolog.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>609</b> relevant lines. 
      <span class="green"><b>609</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   lib/porolog.rb      - Plain Old Ruby Objects Prolog Engine</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban   2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"># @author Luis Esteban</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="11">
          <span class="hits">1</span>
          
          <code class="ruby">module Porolog</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  # The most recent version of the Porolog gem.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="14">
          <span class="hits">1</span>
          
          <code class="ruby">  VERSION      = &#39;1.0.0&#39;.freeze</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  # The most recent date of when the VERSION changed.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="16">
          <span class="hits">1</span>
          
          <code class="ruby">  VERSION_DATE = &#39;2020-08-02&#39;.freeze</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  # Represents an unknown tail of a list.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="19">
          <span class="hits">1</span>
          
          <code class="ruby">  UNKNOWN_TAIL = Object.new</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  # Defines pretty version of an unknown tail.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="22">
          <span class="hits">1</span>
          
          <code class="ruby">  def UNKNOWN_TAIL.inspect</code>
        </li>
      
        <li class="covered" data-hits="120" data-linenumber="23">
          <span class="hits">120</span>
          
          <code class="ruby">    &#39;...&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">  # Specifies that the unknown tail is a tail.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="27">
          <span class="hits">1</span>
          
          <code class="ruby">  def UNKNOWN_TAIL.type</code>
        </li>
      
        <li class="covered" data-hits="49735" data-linenumber="28">
          <span class="hits">49735</span>
          
          <code class="ruby">    :tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">  # @param _head_size [Integer] specifies the size of the head</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">  # @return [Object] the tail of the Array</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="33">
          <span class="hits">1</span>
          
          <code class="ruby">  def UNKNOWN_TAIL.tail(_head_size = 1)</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="34">
          <span class="hits">3</span>
          
          <code class="ruby">    self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="37">
          <span class="hits">1</span>
          
          <code class="ruby">  UNKNOWN_TAIL.freeze</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">  # Represents a list where all elements are unknown.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="40">
          <span class="hits">1</span>
          
          <code class="ruby">  UNKNOWN_ARRAY = [UNKNOWN_TAIL].freeze</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">  # Stores the next unique anonymous variable name.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="43">
          <span class="hits">1</span>
          
          <code class="ruby">  ANONYMOUS = [&#39;_a&#39;]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">  # A convenience method to create a Predicate, along with a method</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">  # that returns an Arguments based on the arguments provided to</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">  # the method.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">  # @param names [Array&lt;#to_sym&gt;] names of the Predicates to create.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">  # @param class_base [Class] class to define the method in.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">  # @return [Porolog::Predicate] Predicate created if only one name is provided</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">  # @return [Array&lt;Porolog::Predicate&gt;] Predicates created if multiple names are provided</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">  # @example</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">  #     predicate :combobulator</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">  #     combobulator(:x,:y)       # --&gt; Porolog::Arguments</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="55">
          <span class="hits">1</span>
          
          <code class="ruby">  def predicate(*names, class_base: Object)</code>
        </li>
      
        <li class="covered" data-hits="65" data-linenumber="56">
          <span class="hits">65</span>
          
          <code class="ruby">    names = [names].flatten</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="65" data-linenumber="58">
          <span class="hits">65</span>
          
          <code class="ruby">    predicates = names.map{|name|</code>
        </li>
      
        <li class="covered" data-hits="87" data-linenumber="59">
          <span class="hits">87</span>
          
          <code class="ruby">      method     = name.to_sym</code>
        </li>
      
        <li class="covered" data-hits="87" data-linenumber="60">
          <span class="hits">87</span>
          
          <code class="ruby">      predicate  = Predicate.new(name)</code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="61">
          <span class="hits">85</span>
          
          <code class="ruby">      class_base.class_eval{</code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="62">
          <span class="hits">85</span>
          
          <code class="ruby">        remove_method(method) if public_method_defined?(method)</code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="63">
          <span class="hits">85</span>
          
          <code class="ruby">        define_method(method){|*args|</code>
        </li>
      
        <li class="covered" data-hits="290" data-linenumber="64">
          <span class="hits">290</span>
          
          <code class="ruby">          predicate.(*args)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">        }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="67">
          <span class="hits">2</span>
          
          <code class="ruby">      (class &lt;&lt; class_base; self; end).instance_eval {</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="68">
          <span class="hits">1</span>
          
          <code class="ruby">        remove_method(method) if public_method_defined?(method)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="69">
          <span class="hits">1</span>
          
          <code class="ruby">        define_method(method){|*args|</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="70">
          <span class="hits">2</span>
          
          <code class="ruby">          predicate.(*args)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">        }</code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="72">
          <span class="hits">85</span>
          
          <code class="ruby">      } unless class_base == Object</code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="73">
          <span class="hits">85</span>
          
          <code class="ruby">      predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="63" data-linenumber="76">
          <span class="hits">63</span>
          
          <code class="ruby">    predicates.size &gt; 1 &amp;&amp; predicates || predicates.first</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">  # A method to declare use of a standard / builtin Predicate, along with a method</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">  # that returns an Arguments based on the arguments provided to</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">  # the method.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">  # @param names [Array&lt;#to_sym&gt;] names of the Predicates to declare.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">  # @param class_base [Class] class to define the method in.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">  # @return [Porolog::Predicate] Predicate created if only one name is provided</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">  # @return [Array&lt;Porolog::Predicate&gt;] Predicates created if multiple names are provided</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">  # @example</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">  #     builtin :is, :member, :append</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">  #     member(:e,:l)       # --&gt; Porolog::Arguments</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="89">
          <span class="hits">1</span>
          
          <code class="ruby">  def builtin(*names, class_base: Object)</code>
        </li>
      
        <li class="covered" data-hits="157" data-linenumber="90">
          <span class="hits">157</span>
          
          <code class="ruby">    names = [names].flatten</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="157" data-linenumber="92">
          <span class="hits">157</span>
          
          <code class="ruby">    predicates = names.map{|name|</code>
        </li>
      
        <li class="covered" data-hits="190" data-linenumber="93">
          <span class="hits">190</span>
          
          <code class="ruby">      method     = name.to_sym</code>
        </li>
      
        <li class="covered" data-hits="190" data-linenumber="94">
          <span class="hits">190</span>
          
          <code class="ruby">      raise NameError, &quot;Undefined builtin predicate #{name.inspect}&quot; unless Predicate::Builtin.instance_methods.include?(method)</code>
        </li>
      
        <li class="covered" data-hits="190" data-linenumber="95">
          <span class="hits">190</span>
          
          <code class="ruby">      predicate  = Predicate.new(name, builtin: true)</code>
        </li>
      
        <li class="covered" data-hits="190" data-linenumber="96">
          <span class="hits">190</span>
          
          <code class="ruby">      class_base.class_eval{</code>
        </li>
      
        <li class="covered" data-hits="190" data-linenumber="97">
          <span class="hits">190</span>
          
          <code class="ruby">        remove_method(method) if public_method_defined?(method)</code>
        </li>
      
        <li class="covered" data-hits="190" data-linenumber="98">
          <span class="hits">190</span>
          
          <code class="ruby">        define_method(method){|*args, &amp;block|</code>
        </li>
      
        <li class="covered" data-hits="232" data-linenumber="99">
          <span class="hits">232</span>
          
          <code class="ruby">          predicate.(*args, &amp;block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">        }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="102">
          <span class="hits">2</span>
          
          <code class="ruby">      (class &lt;&lt; class_base; self; end).instance_eval {</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="103">
          <span class="hits">1</span>
          
          <code class="ruby">        remove_method(method) if public_method_defined?(method)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="104">
          <span class="hits">1</span>
          
          <code class="ruby">        define_method(method){|*args, &amp;block|</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="105">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate.(*args, &amp;block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">        }</code>
        </li>
      
        <li class="covered" data-hits="190" data-linenumber="107">
          <span class="hits">190</span>
          
          <code class="ruby">      } unless class_base == Object</code>
        </li>
      
        <li class="covered" data-hits="190" data-linenumber="108">
          <span class="hits">190</span>
          
          <code class="ruby">      predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="157" data-linenumber="111">
          <span class="hits">157</span>
          
          <code class="ruby">    predicates.size &gt; 1 &amp;&amp; predicates || predicates.first</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">  # @return [Symbol] a unique variable name.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="115">
          <span class="hits">1</span>
          
          <code class="ruby">  def anonymous</code>
        </li>
      
        <li class="covered" data-hits="217" data-linenumber="116">
          <span class="hits">217</span>
          
          <code class="ruby">    anonymous = ANONYMOUS[0].to_sym</code>
        </li>
      
        <li class="covered" data-hits="217" data-linenumber="117">
          <span class="hits">217</span>
          
          <code class="ruby">    ANONYMOUS[0].succ!</code>
        </li>
      
        <li class="covered" data-hits="217" data-linenumber="118">
          <span class="hits">217</span>
          
          <code class="ruby">    anonymous</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="121">
          <span class="hits">1</span>
          
          <code class="ruby">  alias _ anonymous</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">  # Unify the Arguments of a Goal and a sub-Goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">  # @param goal [Porolog::Goal] a Goal to solve a Predicate for specific Arguments.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">  # @param subgoal [Porolog::Goal] a sub-Goal to solve the Goal following the Rules of the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">  # @return [Array&lt;Porolog::Instantiation&gt;] the instantiations if the goals can be unified and instantiated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">  # @return [false] if they cannot be unified.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">  # @return [nil] if they can be unified but the instantiations are inconsistent.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="129">
          <span class="hits">1</span>
          
          <code class="ruby">  def unify_goals(goal, subgoal)</code>
        </li>
      
        <li class="covered" data-hits="2592" data-linenumber="130">
          <span class="hits">2592</span>
          
          <code class="ruby">    if goal.arguments.predicate == subgoal.arguments.predicate</code>
        </li>
      
        <li class="covered" data-hits="2590" data-linenumber="131">
          <span class="hits">2590</span>
          
          <code class="ruby">      unifications = unify(goal.arguments.arguments, subgoal.arguments.arguments, goal, subgoal)</code>
        </li>
      
        <li class="covered" data-hits="2590" data-linenumber="132">
          <span class="hits">2590</span>
          
          <code class="ruby">      if unifications</code>
        </li>
      
        <li class="covered" data-hits="2249" data-linenumber="133">
          <span class="hits">2249</span>
          
          <code class="ruby">        instantiate_unifications(unifications)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="341" data-linenumber="135">
          <span class="hits">341</span>
          
          <code class="ruby">        msg = &quot;Could not unify goals: #{goal.arguments.arguments.inspect} !~ #{subgoal.arguments.arguments.inspect}&quot;</code>
        </li>
      
        <li class="covered" data-hits="341" data-linenumber="136">
          <span class="hits">341</span>
          
          <code class="ruby">        goal.log &lt;&lt; msg</code>
        </li>
      
        <li class="covered" data-hits="341" data-linenumber="137">
          <span class="hits">341</span>
          
          <code class="ruby">        subgoal.log &lt;&lt; msg</code>
        </li>
      
        <li class="covered" data-hits="341" data-linenumber="138">
          <span class="hits">341</span>
          
          <code class="ruby">        false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="141">
          <span class="hits">2</span>
          
          <code class="ruby">      msg = &quot;Cannot unify goals because they are for different predicates: #{goal.arguments.predicate.name.inspect} and #{subgoal.arguments.predicate.name.inspect}&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="142">
          <span class="hits">2</span>
          
          <code class="ruby">      goal.log &lt;&lt; msg</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="143">
          <span class="hits">2</span>
          
          <code class="ruby">      subgoal.log &lt;&lt; msg</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="144">
          <span class="hits">2</span>
          
          <code class="ruby">      false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="148">
          
          
          <code class="ruby">  # Instantiates the unifications from an attempt to unify.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">  # @param unifications [Array] unifications to instantiate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby">  # @return [Boolean] whether the instantiations could be made.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="151">
          <span class="hits">1</span>
          
          <code class="ruby">  def instantiate_unifications(unifications)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby">    # -- Gather Unifications --</code>
        </li>
      
        <li class="covered" data-hits="6074" data-linenumber="153">
          <span class="hits">6074</span>
          
          <code class="ruby">    goals_variables = {}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="6074" data-linenumber="155">
          <span class="hits">6074</span>
          
          <code class="ruby">    return_false = false</code>
        </li>
      
        <li class="covered" data-hits="6074" data-linenumber="156">
          <span class="hits">6074</span>
          
          <code class="ruby">    unifications.each do |unification|</code>
        </li>
      
        <li class="covered" data-hits="28386" data-linenumber="157">
          <span class="hits">28386</span>
          
          <code class="ruby">      left, right, left_goal, right_goal = unification</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="28386" data-linenumber="159">
          <span class="hits">28386</span>
          
          <code class="ruby">      goals_variables[left_goal]       ||= {}</code>
        </li>
      
        <li class="covered" data-hits="28386" data-linenumber="160">
          <span class="hits">28386</span>
          
          <code class="ruby">      goals_variables[left_goal][left] ||= []</code>
        </li>
      
        <li class="covered" data-hits="28386" data-linenumber="161">
          <span class="hits">28386</span>
          
          <code class="ruby">      goals_variables[left_goal][left] &lt;&lt; [right_goal,right]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">      # -- Check Consistency --</code>
        </li>
      
        <li class="covered" data-hits="28386" data-linenumber="164">
          <span class="hits">28386</span>
          
          <code class="ruby">      goals_variables[left_goal][left].map(&amp;:last).map(&amp;:value)</code>
        </li>
      
        <li class="covered" data-hits="28386" data-linenumber="165">
          <span class="hits">28386</span>
          
          <code class="ruby">      values = goals_variables[left_goal][left].map{|value|</code>
        </li>
      
        <li class="covered" data-hits="28733" data-linenumber="166">
          <span class="hits">28733</span>
          
          <code class="ruby">        value.last.value.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="covered" data-hits="28386" data-linenumber="168">
          <span class="hits">28386</span>
          
          <code class="ruby">      next if values.size &lt; 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1010" data-linenumber="170">
          <span class="hits">1010</span>
          
          <code class="ruby">      arrays = values.any?{|value| value.is_a?(Array) }</code>
        </li>
      
        <li class="covered" data-hits="343" data-linenumber="171">
          <span class="hits">343</span>
          
          <code class="ruby">      if arrays &amp;&amp; !values.variables.empty?</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="172">
          <span class="hits">8</span>
          
          <code class="ruby">        zipped_values = values[0].zip(*values[1..-1])</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="173">
          <span class="hits">8</span>
          
          <code class="ruby">        zipped_values.each do |zipped_value|</code>
        </li>
      
        <li class="covered" data-hits="63" data-linenumber="174">
          <span class="hits">63</span>
          
          <code class="ruby">          vars, atomics = zipped_value.partition{|v| v.type == :variable }</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="175">
          <span class="hits">21</span>
          
          <code class="ruby">          return_false = true if atomics.uniq.size &gt; 1</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="176">
          <span class="hits">21</span>
          
          <code class="ruby">          vars.each do |var|</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="177">
          <span class="hits">14</span>
          
          <code class="ruby">            goals_variables[var.goal]      ||= {}</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="178">
          <span class="hits">14</span>
          
          <code class="ruby">            goals_variables[var.goal][var] ||= []</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="179">
          <span class="hits">14</span>
          
          <code class="ruby">            goals_variables[var.goal][var] &lt;&lt; [([left_goal,right_goal]-[var.goal]).first,atomics.first]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="180">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="181">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="335" data-linenumber="183">
          <span class="hits">335</span>
          
          <code class="ruby">        return_false = values.reject{|value|</code>
        </li>
      
        <li class="covered" data-hits="674" data-linenumber="184">
          <span class="hits">674</span>
          
          <code class="ruby">          value.is_a?(Variable) || value.is_a?(Symbol)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">        }.uniq.size &gt; 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="186">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="187">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="343" data-linenumber="188">
          <span class="hits">343</span>
          
          <code class="ruby">      return false if return_false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="190">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby">    # -- Make Instantiations --</code>
        </li>
      
        <li class="covered" data-hits="5814" data-linenumber="192">
          <span class="hits">5814</span>
          
          <code class="ruby">    instantiations = []</code>
        </li>
      
        <li class="covered" data-hits="5814" data-linenumber="193">
          <span class="hits">5814</span>
          
          <code class="ruby">    consistent     = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="194">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="5814" data-linenumber="195">
          <span class="hits">5814</span>
          
          <code class="ruby">    goals_variables.each do |goal, variables|</code>
        </li>
      
        <li class="covered" data-hits="6384" data-linenumber="196">
          <span class="hits">6384</span>
          
          <code class="ruby">      variables.each do |name, others|</code>
        </li>
      
        <li class="covered" data-hits="27780" data-linenumber="197">
          <span class="hits">27780</span>
          
          <code class="ruby">        others.each do |other_goal, other|</code>
        </li>
      
        <li class="covered" data-hits="27860" data-linenumber="198">
          <span class="hits">27860</span>
          
          <code class="ruby">          instantiation = goal.instantiate(name, other, other_goal)</code>
        </li>
      
        <li class="covered" data-hits="27860" data-linenumber="199">
          <span class="hits">27860</span>
          
          <code class="ruby">          if instantiation</code>
        </li>
      
        <li class="covered" data-hits="27859" data-linenumber="200">
          <span class="hits">27859</span>
          
          <code class="ruby">            instantiations &lt;&lt; instantiation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="202">
          <span class="hits">1</span>
          
          <code class="ruby">            consistent = false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="203">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="208">
          
          
          <code class="ruby">    # -- Revert if inconsistent --</code>
        </li>
      
        <li class="covered" data-hits="5814" data-linenumber="209">
          <span class="hits">5814</span>
          
          <code class="ruby">    if consistent</code>
        </li>
      
        <li class="covered" data-hits="5813" data-linenumber="210">
          <span class="hits">5813</span>
          
          <code class="ruby">      instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="212">
          <span class="hits">1</span>
          
          <code class="ruby">      instantiations.each(&amp;:remove)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="213">
          
          
          <code class="ruby">      nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="214">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="215">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="217">
          
          
          <code class="ruby">  # Attempt to unify two entities of two goals.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="218">
          
          
          <code class="ruby">  # @param left [Object] left hand side entity.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="219">
          
          
          <code class="ruby">  # @param right [Object] right hand side entity.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby">  # @param left_goal [Porolog::Goal] goal of left hand side entity.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="221">
          
          
          <code class="ruby">  # @param right_goal [Porolog::Goal] goal of right hand side entity.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="222">
          
          
          <code class="ruby">  # @param visited [Array] prevents infinite recursion.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="223">
          
          
          <code class="ruby">  # @return [Array] an Array of unifications when the left hand side can be unified with the right hand.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="224">
          
          
          <code class="ruby">  # @return [nil] nil if they cannot be unified.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="225">
          <span class="hits">1</span>
          
          <code class="ruby">  def unify(left, right, left_goal, right_goal = left_goal, visited = [])</code>
        </li>
      
        <li class="covered" data-hits="81325" data-linenumber="226">
          <span class="hits">81325</span>
          
          <code class="ruby">    right_goal ||= left_goal</code>
        </li>
      
        <li class="covered" data-hits="81325" data-linenumber="227">
          <span class="hits">81325</span>
          
          <code class="ruby">    goals     = [left_goal, right_goal].uniq</code>
        </li>
      
        <li class="covered" data-hits="81325" data-linenumber="228">
          <span class="hits">81325</span>
          
          <code class="ruby">    signature = [left.type, right.type]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="229">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="230">
          
          
          <code class="ruby">    # -- Nil is Uninstantiated (can always unify) --</code>
        </li>
      
        <li class="covered" data-hits="81325" data-linenumber="231">
          <span class="hits">81325</span>
          
          <code class="ruby">    return [] unless left &amp;&amp; right</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="232">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby">    # -- Set HeadTail Goals --</code>
        </li>
      
        <li class="covered" data-hits="81320" data-linenumber="234">
          <span class="hits">81320</span>
          
          <code class="ruby">    case signature</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="235">
          
          
          <code class="ruby">      when [:atomic, :atomic]</code>
        </li>
      
        <li class="covered" data-hits="113" data-linenumber="236">
          <span class="hits">113</span>
          
          <code class="ruby">        if left == right</code>
        </li>
      
        <li class="covered" data-hits="96" data-linenumber="237">
          <span class="hits">96</span>
          
          <code class="ruby">          []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="238">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="239">
          <span class="hits">17</span>
          
          <code class="ruby">          msg = &quot;Cannot unify because #{left.inspect} != #{right.inspect} (atomic != atomic)&quot;</code>
        </li>
      
        <li class="covered" data-hits="36" data-linenumber="240">
          <span class="hits">36</span>
          
          <code class="ruby">          goals.each{|goal| goal.log &lt;&lt; msg }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="241">
          
          
          <code class="ruby">          nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="242">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="243">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="244">
          
          
          <code class="ruby">      when [:array, :array], [:tail, :tail]</code>
        </li>
      
        <li class="covered" data-hits="2754" data-linenumber="245">
          <span class="hits">2754</span>
          
          <code class="ruby">        _merged, unifications = unify_arrays(left, right, left_goal, right_goal, visited)</code>
        </li>
      
        <li class="covered" data-hits="2754" data-linenumber="246">
          <span class="hits">2754</span>
          
          <code class="ruby">        if unifications</code>
        </li>
      
        <li class="covered" data-hits="2294" data-linenumber="247">
          <span class="hits">2294</span>
          
          <code class="ruby">          unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="248">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="460" data-linenumber="249">
          <span class="hits">460</span>
          
          <code class="ruby">          msg = &quot;Cannot unify because #{left.inspect} != #{right.inspect} (array != array)&quot;</code>
        </li>
      
        <li class="covered" data-hits="1261" data-linenumber="250">
          <span class="hits">1261</span>
          
          <code class="ruby">          goals.each{|goal| goal.log &lt;&lt; msg }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="251">
          
          
          <code class="ruby">          nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="252">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="253">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="254">
          
          
          <code class="ruby">      when [:array, :tail]</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="255">
          <span class="hits">4</span>
          
          <code class="ruby">        _merged, unifications = unify_arrays([left], right.value, left_goal, right_goal, visited)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="256">
          <span class="hits">4</span>
          
          <code class="ruby">        if unifications</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="257">
          <span class="hits">3</span>
          
          <code class="ruby">          unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="258">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="259">
          <span class="hits">1</span>
          
          <code class="ruby">          msg = &quot;Cannot unify because #{left.inspect} != #{right.inspect} (array != tail)&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="260">
          <span class="hits">2</span>
          
          <code class="ruby">          goals.each{|goal| goal.log &lt;&lt; msg }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="261">
          
          
          <code class="ruby">          nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="262">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="263">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="264">
          
          
          <code class="ruby">      when [:tail, :array]</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="265">
          <span class="hits">2</span>
          
          <code class="ruby">        _merged, unifications = unify_arrays(left.value, [right], left_goal, right_goal, visited)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="266">
          <span class="hits">2</span>
          
          <code class="ruby">        if unifications</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="267">
          <span class="hits">1</span>
          
          <code class="ruby">          unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="269">
          <span class="hits">1</span>
          
          <code class="ruby">          msg = &quot;Cannot unify because #{left.inspect} != #{right.inspect} (tail != array)&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="270">
          <span class="hits">2</span>
          
          <code class="ruby">          goals.each{|goal| goal.log &lt;&lt; msg }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby">          nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="272">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="273">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="274">
          
          
          <code class="ruby">      when [:variable, :atomic]</code>
        </li>
      
        <li class="covered" data-hits="25599" data-linenumber="275">
          <span class="hits">25599</span>
          
          <code class="ruby">        left_value  = left_goal.value_of(left, nil, visited)</code>
        </li>
      
        <li class="covered" data-hits="25599" data-linenumber="276">
          <span class="hits">25599</span>
          
          <code class="ruby">        right_value = right</code>
        </li>
      
        <li class="covered" data-hits="25599" data-linenumber="277">
          <span class="hits">25599</span>
          
          <code class="ruby">        if left_value == right_value || left_value.is_a?(Variable) || left_value.nil?</code>
        </li>
      
        <li class="covered" data-hits="25594" data-linenumber="278">
          <span class="hits">25594</span>
          
          <code class="ruby">          [[left, right, left_goal, right_goal]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="279">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="280">
          <span class="hits">5</span>
          
          <code class="ruby">          msg = &quot;Cannot unify because #{left_value.inspect} != #{right_value.inspect} (variable != atomic)&quot;</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="281">
          <span class="hits">12</span>
          
          <code class="ruby">          goals.each{|goal| goal.log &lt;&lt; msg }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="282">
          
          
          <code class="ruby">          nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="283">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="284">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="285">
          
          
          <code class="ruby">      when [:atomic, :variable]</code>
        </li>
      
        <li class="covered" data-hits="3450" data-linenumber="286">
          <span class="hits">3450</span>
          
          <code class="ruby">        left_value  = left</code>
        </li>
      
        <li class="covered" data-hits="3450" data-linenumber="287">
          <span class="hits">3450</span>
          
          <code class="ruby">        right_value = right_goal.value_of(right, nil, visited)</code>
        </li>
      
        <li class="covered" data-hits="3450" data-linenumber="288">
          <span class="hits">3450</span>
          
          <code class="ruby">        if left == right_value || right_value.is_a?(Variable) || right_value.nil?</code>
        </li>
      
        <li class="covered" data-hits="3449" data-linenumber="289">
          <span class="hits">3449</span>
          
          <code class="ruby">          [[right,left,right_goal,left_goal]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="290">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="291">
          <span class="hits">1</span>
          
          <code class="ruby">          msg = &quot;Cannot unify because #{left_value.inspect} != #{right_value.inspect} (atomic != variable)&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="292">
          <span class="hits">2</span>
          
          <code class="ruby">          goals.each{|goal| goal.log &lt;&lt; msg }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="293">
          
          
          <code class="ruby">          nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="294">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="295">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="296">
          
          
          <code class="ruby">      when [:variable, :variable]</code>
        </li>
      
        <li class="covered" data-hits="24092" data-linenumber="297">
          <span class="hits">24092</span>
          
          <code class="ruby">        left_value  = left_goal.value_of(left, nil, visited).value</code>
        </li>
      
        <li class="covered" data-hits="24092" data-linenumber="298">
          <span class="hits">24092</span>
          
          <code class="ruby">        right_value = right_goal.value_of(right, nil, visited).value</code>
        </li>
      
        <li class="covered" data-hits="24092" data-linenumber="299">
          <span class="hits">24092</span>
          
          <code class="ruby">        if left_value == right_value || left_value.is_a?(Variable) || right_value.is_a?(Variable) || left_value.nil? || right_value.nil?</code>
        </li>
      
        <li class="covered" data-hits="24071" data-linenumber="300">
          <span class="hits">24071</span>
          
          <code class="ruby">          [[left, right, left_goal, right_goal]]</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="301">
          <span class="hits">21</span>
          
          <code class="ruby">        elsif left_value == UNKNOWN_ARRAY &amp;&amp; (right_value.is_a?(Variable) || right_value.nil? || right_value.is_a?(Array))</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="302">
          <span class="hits">14</span>
          
          <code class="ruby">          [[left, right, left_goal, right_goal]]</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="303">
          <span class="hits">7</span>
          
          <code class="ruby">        elsif right_value == UNKNOWN_ARRAY &amp;&amp; (left_value.is_a?(Variable) || left_value.nil? || left_value.is_a?(Array))</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="304">
          <span class="hits">1</span>
          
          <code class="ruby">          [[left, right, left_goal, right_goal]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="305">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="306">
          <span class="hits">6</span>
          
          <code class="ruby">          msg = &quot;Cannot unify because #{left_value.inspect} != #{right_value.inspect} (variable != variable)&quot;</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="307">
          <span class="hits">17</span>
          
          <code class="ruby">          goals.each{|goal| goal.log &lt;&lt; msg }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="308">
          
          
          <code class="ruby">          nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="309">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="310">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="311">
          
          
          <code class="ruby">      when [:variable, :array], [:variable, :tail]</code>
        </li>
      
        <li class="covered" data-hits="25142" data-linenumber="312">
          <span class="hits">25142</span>
          
          <code class="ruby">        left_value  = left_goal.value_of(left, nil, visited)</code>
        </li>
      
        <li class="covered" data-hits="25142" data-linenumber="313">
          <span class="hits">25142</span>
          
          <code class="ruby">        right_value = right</code>
        </li>
      
        <li class="covered" data-hits="25142" data-linenumber="314">
          <span class="hits">25142</span>
          
          <code class="ruby">        if left_value == right_value || left_value.is_a?(Variable) || left_value == UNKNOWN_ARRAY || left_value.nil?</code>
        </li>
      
        <li class="covered" data-hits="25128" data-linenumber="315">
          <span class="hits">25128</span>
          
          <code class="ruby">          [[left, right, left_goal, right_goal]]</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="316">
          <span class="hits">14</span>
          
          <code class="ruby">        elsif left_value.type == :array</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="317">
          <span class="hits">13</span>
          
          <code class="ruby">          _merged, unifications = unify_arrays(left_value, right, left_goal, right_goal, visited)</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="318">
          <span class="hits">13</span>
          
          <code class="ruby">          if unifications</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="319">
          <span class="hits">10</span>
          
          <code class="ruby">            unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="320">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="321">
          <span class="hits">3</span>
          
          <code class="ruby">            msg = &quot;Cannot unify because #{left_value.inspect} != #{right.inspect} (variable/array != array)&quot;</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="322">
          <span class="hits">8</span>
          
          <code class="ruby">            goals.each{|goal| goal.log &lt;&lt; msg }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="323">
          
          
          <code class="ruby">            nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="324">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="325">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="326">
          <span class="hits">1</span>
          
          <code class="ruby">          msg = &quot;Cannot unify because #{left_value.inspect} != #{right_value.inspect} (variable != array)&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="327">
          <span class="hits">2</span>
          
          <code class="ruby">          goals.each{|goal| goal.log &lt;&lt; msg }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="328">
          
          
          <code class="ruby">          nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="329">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="330">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="331">
          
          
          <code class="ruby">      when [:array, :variable], [:tail, :variable]</code>
        </li>
      
        <li class="covered" data-hits="162" data-linenumber="332">
          <span class="hits">162</span>
          
          <code class="ruby">        left_value  = left</code>
        </li>
      
        <li class="covered" data-hits="162" data-linenumber="333">
          <span class="hits">162</span>
          
          <code class="ruby">        right_value = right_goal.value_of(right, nil, visited)</code>
        </li>
      
        <li class="covered" data-hits="162" data-linenumber="334">
          <span class="hits">162</span>
          
          <code class="ruby">        if left_value == right_value || right_value.is_a?(Variable) || right_value == UNKNOWN_ARRAY || right_value.nil?</code>
        </li>
      
        <li class="covered" data-hits="159" data-linenumber="335">
          <span class="hits">159</span>
          
          <code class="ruby">          [[right, left, right_goal, left_goal]]</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="336">
          <span class="hits">3</span>
          
          <code class="ruby">        elsif right_value.type == :array</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="337">
          <span class="hits">2</span>
          
          <code class="ruby">          _merged, unifications = unify_arrays(left, right_value, left_goal, right_goal, visited)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="338">
          <span class="hits">2</span>
          
          <code class="ruby">          if unifications</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="339">
          <span class="hits">1</span>
          
          <code class="ruby">            unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="340">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="341">
          <span class="hits">1</span>
          
          <code class="ruby">            msg = &quot;Cannot unify because #{left.inspect} != #{right_value.inspect} (variable/array != array)&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="342">
          <span class="hits">2</span>
          
          <code class="ruby">            goals.each{|goal| goal.log &lt;&lt; msg }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="343">
          
          
          <code class="ruby">            nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="344">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="345">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="346">
          <span class="hits">1</span>
          
          <code class="ruby">          msg = &quot;Cannot unify because #{left_value.inspect} != #{right_value.inspect} (array != variable)&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="347">
          <span class="hits">2</span>
          
          <code class="ruby">          goals.each{|goal| goal.log &lt;&lt; msg }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="348">
          
          
          <code class="ruby">          nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="349">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="350">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="351">
          
          
          <code class="ruby">      when [:array, :atomic], [:atomic, :array], [:tail, :atomic], [:atomic, :tail]</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="352">
          <span class="hits">2</span>
          
          <code class="ruby">        msg = &quot;Cannot unify #{left.inspect} with #{right.inspect} (#{signature.join(&#39; != &#39;)})&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="353">
          <span class="hits">4</span>
          
          <code class="ruby">        goals.each{|goal| goal.log &lt;&lt; msg }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="354">
          
          
          <code class="ruby">        nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="355">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="356">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="357">
          
          <span class="hits">skipped</span>
          <code class="ruby">        # :nocov:</code>
        </li>
      
        <li class="skipped" data-hits="0" data-linenumber="358">
          
          <span class="hits">skipped</span>
          <code class="ruby">        raise UnknownUnificationSignature, &quot;UNKNOWN UNIFICATION SIGNATURE: #{signature.inspect}&quot;</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="359">
          
          <span class="hits">skipped</span>
          <code class="ruby">        # :nocov:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="360">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="361">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="362">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="363">
          
          
          <code class="ruby">  # Attempt to unify two Arrays.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="364">
          
          
          <code class="ruby">  # @param left [Array] left hand side Array.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="365">
          
          
          <code class="ruby">  # @param right [Array] right hand side Array.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="366">
          
          
          <code class="ruby">  # @param left_goal [Porolog::Goal] goal of left hand side Array.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="367">
          
          
          <code class="ruby">  # @param right_goal [Porolog::Goal] goal of right hand side Array.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="368">
          
          
          <code class="ruby">  # @param visited [Array] prevents infinite recursion.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="369">
          
          
          <code class="ruby">  # @return [Array&lt;Array, Array&gt;] the merged Array and the unifications to be instantiated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="370">
          
          
          <code class="ruby">  # @return [nil] if the Arrays cannot be unified.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="371">
          <span class="hits">1</span>
          
          <code class="ruby">  def unify_arrays(left, right, left_goal, right_goal = left_goal, visited = [])</code>
        </li>
      
        <li class="covered" data-hits="40586" data-linenumber="372">
          <span class="hits">40586</span>
          
          <code class="ruby">    arrays        = [left,       right]</code>
        </li>
      
        <li class="covered" data-hits="40586" data-linenumber="373">
          <span class="hits">40586</span>
          
          <code class="ruby">    arrays_goals  = [left_goal,  right_goal]</code>
        </li>
      
        <li class="covered" data-hits="121758" data-linenumber="374">
          <span class="hits">121758</span>
          
          <code class="ruby">    arrays_values = arrays.map{|array| array.value(visited) }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="375">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="376">
          
          
          <code class="ruby">    # -- Trivial Unifications --</code>
        </li>
      
        <li class="covered" data-hits="40586" data-linenumber="377">
          <span class="hits">40586</span>
          
          <code class="ruby">    return [left_goal. variablise(left),  []] if right == UNKNOWN_ARRAY</code>
        </li>
      
        <li class="covered" data-hits="40577" data-linenumber="378">
          <span class="hits">40577</span>
          
          <code class="ruby">    return [right_goal.variablise(right), []] if left  == UNKNOWN_ARRAY</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="379">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="380">
          
          
          <code class="ruby">    # -- Validate Arrays --</code>
        </li>
      
        <li class="covered" data-hits="121706" data-linenumber="381">
          <span class="hits">121706</span>
          
          <code class="ruby">    unless arrays_values.all?{|array| array.is_a?(Array) || array == UNKNOWN_TAIL }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="382">
          <span class="hits">2</span>
          
          <code class="ruby">      msg = &quot;Cannot unify a non-array with an array: #{left.inspect} with #{right.inspect}&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="383">
          <span class="hits">6</span>
          
          <code class="ruby">      arrays_goals.uniq.each{|goal| goal.log  &lt;&lt; msg }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="384">
          <span class="hits">2</span>
          
          <code class="ruby">      return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="385">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="386">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="387">
          
          
          <code class="ruby">    # -- Count Tails --</code>
        </li>
      
        <li class="covered" data-hits="40567" data-linenumber="388">
          <span class="hits">40567</span>
          
          <code class="ruby">    number_of_arrays = arrays.size</code>
        </li>
      
        <li class="covered" data-hits="121701" data-linenumber="389">
          <span class="hits">121701</span>
          
          <code class="ruby">    number_of_tails  = arrays.count{|array| has_tail?(array) }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="390">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="391">
          
          
          <code class="ruby">    # -- Handle Tails --</code>
        </li>
      
        <li class="covered" data-hits="40567" data-linenumber="392">
          <span class="hits">40567</span>
          
          <code class="ruby">    if number_of_tails.zero?</code>
        </li>
      
        <li class="covered" data-hits="2839" data-linenumber="393">
          <span class="hits">2839</span>
          
          <code class="ruby">      unify_arrays_with_no_tails(arrays, arrays_goals, visited)</code>
        </li>
      
        <li class="covered" data-hits="37728" data-linenumber="394">
          <span class="hits">37728</span>
          
          <code class="ruby">    elsif number_of_tails == number_of_arrays</code>
        </li>
      
        <li class="covered" data-hits="24884" data-linenumber="395">
          <span class="hits">24884</span>
          
          <code class="ruby">      unify_arrays_with_all_tails(arrays, arrays_goals, visited)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="396">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="12844" data-linenumber="397">
          <span class="hits">12844</span>
          
          <code class="ruby">      unify_arrays_with_some_tails(arrays, arrays_goals, visited)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="398">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="399">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="400">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="401">
          
          
          <code class="ruby">  # Attempt to unify multiple Arrays.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="402">
          
          
          <code class="ruby">  # @param arrays [Array&lt;Array&gt;] the Arrays to be unified.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="403">
          
          
          <code class="ruby">  # @param arrays_goals [Array&lt;Porolog::Goal&gt;] the Goals of the Arrays.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="404">
          
          
          <code class="ruby">  # @param visited [Array] prevents infinite recursion.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="405">
          
          
          <code class="ruby">  # @return [Array&lt;Array, Array&gt;] the merged Array and the unifications to be instantiated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="406">
          
          
          <code class="ruby">  # @return [nil] if the Arrays cannot be unified.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="407">
          <span class="hits">1</span>
          
          <code class="ruby">  def unify_many_arrays(arrays, arrays_goals, visited = [])</code>
        </li>
      
        <li class="covered" data-hits="3304" data-linenumber="408">
          <span class="hits">3304</span>
          
          <code class="ruby">    arrays_values = arrays.</code>
        </li>
      
        <li class="covered" data-hits="9382" data-linenumber="409">
          <span class="hits">9382</span>
          
          <code class="ruby">      map{|array| expand_splat(array) }.</code>
        </li>
      
        <li class="covered" data-hits="9382" data-linenumber="410">
          <span class="hits">9382</span>
          
          <code class="ruby">      map{|array| array.is_a?(Array) ? array.map(&amp;:value) : array.value }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="411">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="12685" data-linenumber="412">
          <span class="hits">12685</span>
          
          <code class="ruby">    unless arrays_values.all?{|array_values| [:array,:variable].include?(array_values.type) }</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="413">
          <span class="hits">1</span>
          
          <code class="ruby">      msg = &quot;Cannot unify: #{arrays.map(&amp;:inspect).join(&#39; with &#39;)}&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="414">
          <span class="hits">2</span>
          
          <code class="ruby">      arrays_goals.uniq.each{|goal| goal.log &lt;&lt; msg }</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="415">
          <span class="hits">1</span>
          
          <code class="ruby">      return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="416">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="417">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="418">
          
          
          <code class="ruby">    # TODO: Fix / improve</code>
        </li>
      
        <li class="covered" data-hits="4299" data-linenumber="419">
          <span class="hits">4299</span>
          
          <code class="ruby">    if arrays_values.size == 2 &amp;&amp; arrays_values.any?{|array| array == UNKNOWN_ARRAY }</code>
        </li>
      
        <li class="covered" data-hits="219" data-linenumber="420">
          <span class="hits">219</span>
          
          <code class="ruby">      merged = arrays_values.reject{|array| array == UNKNOWN_ARRAY }.first</code>
        </li>
      
        <li class="covered" data-hits="73" data-linenumber="421">
          <span class="hits">73</span>
          
          <code class="ruby">      return [merged,[]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="422">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="423">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="3230" data-linenumber="424">
          <span class="hits">3230</span>
          
          <code class="ruby">    number_of_arrays = arrays.size</code>
        </li>
      
        <li class="covered" data-hits="12463" data-linenumber="425">
          <span class="hits">12463</span>
          
          <code class="ruby">    number_of_tails  = arrays.count{|array| has_tail?(array) }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="426">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="3230" data-linenumber="427">
          <span class="hits">3230</span>
          
          <code class="ruby">    if number_of_tails.zero?</code>
        </li>
      
        <li class="covered" data-hits="71" data-linenumber="428">
          <span class="hits">71</span>
          
          <code class="ruby">      unify_arrays_with_no_tails(arrays, arrays_goals, visited)</code>
        </li>
      
        <li class="covered" data-hits="3159" data-linenumber="429">
          <span class="hits">3159</span>
          
          <code class="ruby">    elsif number_of_tails == number_of_arrays</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="430">
          <span class="hits">2</span>
          
          <code class="ruby">      unify_arrays_with_all_tails(arrays, arrays_goals, visited)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="431">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="3157" data-linenumber="432">
          <span class="hits">3157</span>
          
          <code class="ruby">      unify_arrays_with_some_tails(arrays, arrays_goals, visited)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="433">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="434">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="435">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="436">
          
          
          <code class="ruby">  # @return [Boolean] whether the provided value has a Tail.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="437">
          
          
          <code class="ruby">  # @param value [Object] the provided value.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="438">
          <span class="hits">1</span>
          
          <code class="ruby">  def has_tail?(value, apply_value = true)</code>
        </li>
      
        <li class="covered" data-hits="130994" data-linenumber="439">
          <span class="hits">130994</span>
          
          <code class="ruby">    value = value.value if value.respond_to?(:value) &amp;&amp; apply_value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="440">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="130994" data-linenumber="441">
          <span class="hits">130994</span>
          
          <code class="ruby">    if value.is_a?(Array)</code>
        </li>
      
        <li class="covered" data-hits="130970" data-linenumber="442">
          <span class="hits">130970</span>
          
          <code class="ruby">      value.last == UNKNOWN_TAIL || value.last.is_a?(Tail)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="443">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="444">
          <span class="hits">24</span>
          
          <code class="ruby">      false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="445">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="446">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="447">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="448">
          
          
          <code class="ruby">  # Expands a superfluous splat.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="449">
          
          
          <code class="ruby">  # @param array [Array] the given Array.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="450">
          
          
          <code class="ruby">  # @return [Array] the given Array with any superfluous splats expanded.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="451">
          <span class="hits">1</span>
          
          <code class="ruby">  def expand_splat(array)</code>
        </li>
      
        <li class="covered" data-hits="190996" data-linenumber="452">
          <span class="hits">190996</span>
          
          <code class="ruby">    array = array.first.value if array.is_a?(Array) &amp;&amp; array.length == 1 &amp;&amp; array.first.is_a?(Tail)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="453">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="190996" data-linenumber="454">
          <span class="hits">190996</span>
          
          <code class="ruby">    if array.is_a?(Array) &amp;&amp; array.last.is_a?(Tail) &amp;&amp; array.last.value.is_a?(Array)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="455">
          <span class="hits">5</span>
          
          <code class="ruby">      array = [*array[0...-1], *array.last.value]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="456">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="457">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="190996" data-linenumber="458">
          <span class="hits">190996</span>
          
          <code class="ruby">    if array.is_a?(Array)</code>
        </li>
      
        <li class="covered" data-hits="63162" data-linenumber="459">
          <span class="hits">63162</span>
          
          <code class="ruby">      array = array.map{|element|</code>
        </li>
      
        <li class="covered" data-hits="125957" data-linenumber="460">
          <span class="hits">125957</span>
          
          <code class="ruby">        expand_splat(element)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="461">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="462">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="463">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="190996" data-linenumber="464">
          <span class="hits">190996</span>
          
          <code class="ruby">    array</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="465">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="466">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="467">
          
          
          <code class="ruby">  # Unifies Arrays where no Array has a Tail.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="468">
          
          
          <code class="ruby">  # @param arrays [Array&lt;Array&gt;] the Arrays to be unified.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="469">
          
          
          <code class="ruby">  # @param arrays_goals [Array&lt;Porolog::Goal&gt;] the Goals of the Arrays to be unified.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="470">
          
          
          <code class="ruby">  # @param visited [Array] prevents infinite recursion.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="471">
          
          
          <code class="ruby">  # @return [Array&lt;Array, Array&gt;] the merged Array and the unifications to be instantiated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="472">
          
          
          <code class="ruby">  # @return [nil] if the Arrays cannot be unified.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="473">
          <span class="hits">1</span>
          
          <code class="ruby">  def unify_arrays_with_no_tails(arrays, arrays_goals, visited)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="474">
          
          
          <code class="ruby">    # -- Validate Arrays --</code>
        </li>
      
        <li class="covered" data-hits="8767" data-linenumber="475">
          <span class="hits">8767</span>
          
          <code class="ruby">    if arrays.any?{|array| has_tail?(array) }</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="476">
          <span class="hits">1</span>
          
          <code class="ruby">      msg = &quot;Wrong unification method called: no_tails but one or more of #{arrays.inspect} has a tail&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="477">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals.uniq.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="478">
          <span class="hits">4</span>
          
          <code class="ruby">        goal.log &lt;&lt; msg</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="479">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="480">
          <span class="hits">1</span>
          
          <code class="ruby">      return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="481">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="482">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="483">
          
          
          <code class="ruby">    # -- Trivial Unifications --</code>
        </li>
      
        <li class="covered" data-hits="2913" data-linenumber="484">
          <span class="hits">2913</span>
          
          <code class="ruby">    return [[],[]] if arrays.empty?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="485">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="486">
          
          
          <code class="ruby">    # -- Ensure Arrays elements have Goals --</code>
        </li>
      
        <li class="covered" data-hits="2913" data-linenumber="487">
          <span class="hits">2913</span>
          
          <code class="ruby">    arrays_values = arrays.dup</code>
        </li>
      
        <li class="covered" data-hits="2913" data-linenumber="488">
          <span class="hits">2913</span>
          
          <code class="ruby">    arrays_goals  = arrays_goals.dup</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="489">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="2913" data-linenumber="490">
          <span class="hits">2913</span>
          
          <code class="ruby">    arrays.each_with_index do |array, index|</code>
        </li>
      
        <li class="covered" data-hits="5851" data-linenumber="491">
          <span class="hits">5851</span>
          
          <code class="ruby">      if array.is_a?(Value)</code>
        </li>
      
        <li class="covered" data-hits="43" data-linenumber="492">
          <span class="hits">43</span>
          
          <code class="ruby">        arrays_goals[index] ||= array.goal</code>
        </li>
      
        <li class="covered" data-hits="43" data-linenumber="493">
          <span class="hits">43</span>
          
          <code class="ruby">        arrays_values[index]  = array.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="494">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="495">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="5851" data-linenumber="496">
          <span class="hits">5851</span>
          
          <code class="ruby">      if arrays_goals[index].nil?</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="497">
          <span class="hits">5</span>
          
          <code class="ruby">        value_with_goal = array.find{|element| element.respond_to?(:goal) }</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="498">
          <span class="hits">1</span>
          
          <code class="ruby">        arrays_goals[index] = value_with_goal.goal if value_with_goal&amp;.goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="499">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="500">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="5851" data-linenumber="501">
          <span class="hits">5851</span>
          
          <code class="ruby">      if arrays_goals[index].nil?</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="502">
          
          <span class="hits">skipped</span>
          <code class="ruby">        # :nocov:</code>
        </li>
      
        <li class="skipped" data-hits="0" data-linenumber="503">
          
          <span class="hits">skipped</span>
          <code class="ruby">        raise NoGoalError, &quot;Array #{array.inspect} has no goal for unification&quot;</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="504">
          
          <span class="hits">skipped</span>
          <code class="ruby">        # :nocov:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="505">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="506">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="5851" data-linenumber="507">
          <span class="hits">5851</span>
          
          <code class="ruby">      arrays_values[index] = expand_splat(arrays_values[index])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="508">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="509">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="510">
          
          
          <code class="ruby">    # -- Check whether all arrays are an Array --</code>
        </li>
      
        <li class="covered" data-hits="8763" data-linenumber="511">
          <span class="hits">8763</span>
          
          <code class="ruby">    unless arrays_values.all?{|array| array.is_a?(Array) }</code>
        </li>
      
        <li class="covered" data-hits="23" data-linenumber="512">
          <span class="hits">23</span>
          
          <code class="ruby">      merged, unifications = unify_many_arrays(arrays.map{|array| [array] }, arrays_goals, visited)</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="513">
          <span class="hits">6</span>
          
          <code class="ruby">      return [merged] + [unifications]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="514">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="515">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="2907" data-linenumber="516">
          <span class="hits">2907</span>
          
          <code class="ruby">    arrays_variables = arrays_goals.zip(arrays)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="517">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="518">
          
          
          <code class="ruby">    # -- Remap Arrays so that they are variablised and valuised with their Goals --</code>
        </li>
      
        <li class="covered" data-hits="2907" data-linenumber="519">
          <span class="hits">2907</span>
          
          <code class="ruby">    new_arrays = []</code>
        </li>
      
        <li class="covered" data-hits="2907" data-linenumber="520">
          <span class="hits">2907</span>
          
          <code class="ruby">    arrays_variables.each do |goal, variables|</code>
        </li>
      
        <li class="covered" data-hits="5834" data-linenumber="521">
          <span class="hits">5834</span>
          
          <code class="ruby">      new_array = variables.map{|variable|</code>
        </li>
      
        <li class="covered" data-hits="13100" data-linenumber="522">
          <span class="hits">13100</span>
          
          <code class="ruby">        value = goal.value_of(variable, nil, visited).value</code>
        </li>
      
        <li class="covered" data-hits="13100" data-linenumber="523">
          <span class="hits">13100</span>
          
          <code class="ruby">        value = variable if [UNKNOWN_TAIL, UNKNOWN_ARRAY].include?(value)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="524">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="13100" data-linenumber="525">
          <span class="hits">13100</span>
          
          <code class="ruby">        if value.type == :variable</code>
        </li>
      
        <li class="covered" data-hits="5930" data-linenumber="526">
          <span class="hits">5930</span>
          
          <code class="ruby">          value = goal.variable(value)</code>
        </li>
      
        <li class="covered" data-hits="7170" data-linenumber="527">
          <span class="hits">7170</span>
          
          <code class="ruby">        elsif value.is_a?(Array)</code>
        </li>
      
        <li class="covered" data-hits="1372" data-linenumber="528">
          <span class="hits">1372</span>
          
          <code class="ruby">          value = value.map{|element|</code>
        </li>
      
        <li class="covered" data-hits="2344" data-linenumber="529">
          <span class="hits">2344</span>
          
          <code class="ruby">            if element.type == :variable</code>
        </li>
      
        <li class="covered" data-hits="682" data-linenumber="530">
          <span class="hits">682</span>
          
          <code class="ruby">              goal.variable(element)</code>
        </li>
      
        <li class="covered" data-hits="1662" data-linenumber="531">
          <span class="hits">1662</span>
          
          <code class="ruby">            elsif element.is_a?(Value)</code>
        </li>
      
        <li class="covered" data-hits="143" data-linenumber="532">
          <span class="hits">143</span>
          
          <code class="ruby">              element</code>
        </li>
      
        <li class="covered" data-hits="1519" data-linenumber="533">
          <span class="hits">1519</span>
          
          <code class="ruby">            elsif element.is_a?(Tail)</code>
        </li>
      
        <li class="covered" data-hits="546" data-linenumber="534">
          <span class="hits">546</span>
          
          <code class="ruby">              element</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="535">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="covered" data-hits="973" data-linenumber="536">
          <span class="hits">973</span>
          
          <code class="ruby">              goal.value(element)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="537">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="538">
          
          
          <code class="ruby">          }</code>
        </li>
      
        <li class="covered" data-hits="5798" data-linenumber="539">
          <span class="hits">5798</span>
          
          <code class="ruby">        elsif !value.is_a?(Value)</code>
        </li>
      
        <li class="covered" data-hits="5797" data-linenumber="540">
          <span class="hits">5797</span>
          
          <code class="ruby">          value = goal.value(value)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="541">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="13100" data-linenumber="542">
          <span class="hits">13100</span>
          
          <code class="ruby">        value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="543">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="covered" data-hits="5834" data-linenumber="544">
          <span class="hits">5834</span>
          
          <code class="ruby">      new_arrays &lt;&lt; new_array</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="545">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="2907" data-linenumber="546">
          <span class="hits">2907</span>
          
          <code class="ruby">    arrays = new_arrays</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="547">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="548">
          
          
          <code class="ruby">    # -- Unify All Elements --</code>
        </li>
      
        <li class="covered" data-hits="2907" data-linenumber="549">
          <span class="hits">2907</span>
          
          <code class="ruby">    sizes = arrays.map(&amp;:length).uniq</code>
        </li>
      
        <li class="covered" data-hits="2907" data-linenumber="550">
          <span class="hits">2907</span>
          
          <code class="ruby">    if sizes.size &lt;= 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="551">
          
          
          <code class="ruby">      # -- Arrays are the same length --</code>
        </li>
      
        <li class="covered" data-hits="2852" data-linenumber="552">
          <span class="hits">2852</span>
          
          <code class="ruby">      zipped       = arrays[0].zip(*arrays[1..-1]).map(&amp;:uniq).map(&amp;:compact).uniq</code>
        </li>
      
        <li class="covered" data-hits="2852" data-linenumber="553">
          <span class="hits">2852</span>
          
          <code class="ruby">      unifications = []</code>
        </li>
      
        <li class="covered" data-hits="2852" data-linenumber="554">
          <span class="hits">2852</span>
          
          <code class="ruby">      merged       = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="555">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="556">
          
          
          <code class="ruby">      # TODO: Change these names</code>
        </li>
      
        <li class="covered" data-hits="2852" data-linenumber="557">
          <span class="hits">2852</span>
          
          <code class="ruby">      zipped.each{|values_to_unify|</code>
        </li>
      
        <li class="covered" data-hits="5802" data-linenumber="558">
          <span class="hits">5802</span>
          
          <code class="ruby">        values_to_unify_values = values_to_unify.map{|value|</code>
        </li>
      
        <li class="covered" data-hits="11503" data-linenumber="559">
          <span class="hits">11503</span>
          
          <code class="ruby">          value_value = value.value</code>
        </li>
      
        <li class="covered" data-hits="11503" data-linenumber="560">
          <span class="hits">11503</span>
          
          <code class="ruby">          if [UNKNOWN_TAIL, UNKNOWN_ARRAY].include?(value_value)</code>
        </li>
      
        <li class="covered" data-hits="111" data-linenumber="561">
          <span class="hits">111</span>
          
          <code class="ruby">            value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="562">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="11392" data-linenumber="563">
          <span class="hits">11392</span>
          
          <code class="ruby">            value_value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="564">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="565">
          
          
          <code class="ruby">        }.compact.uniq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="566">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="5802" data-linenumber="567">
          <span class="hits">5802</span>
          
          <code class="ruby">        if values_to_unify_values.size &lt;= 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="568">
          
          
          <code class="ruby">          # -- One Value --</code>
        </li>
      
        <li class="covered" data-hits="302" data-linenumber="569">
          <span class="hits">302</span>
          
          <code class="ruby">          value = values_to_unify_values.first</code>
        </li>
      
        <li class="covered" data-hits="302" data-linenumber="570">
          <span class="hits">302</span>
          
          <code class="ruby">          if value.type == :variable</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="571">
          <span class="hits">15</span>
          
          <code class="ruby">            merged &lt;&lt; nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="572">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="287" data-linenumber="573">
          <span class="hits">287</span>
          
          <code class="ruby">            merged &lt;&lt; value.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="574">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="575">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="11575" data-linenumber="576">
          <span class="hits">11575</span>
          
          <code class="ruby">          if values_to_unify_values.all?{|value| value.is_a?(Array) }</code>
        </li>
      
        <li class="covered" data-hits="463" data-linenumber="577">
          <span class="hits">463</span>
          
          <code class="ruby">            submerged, subunifications = unify_many_arrays(values_to_unify_values, arrays_goals)</code>
        </li>
      
        <li class="covered" data-hits="463" data-linenumber="578">
          <span class="hits">463</span>
          
          <code class="ruby">            if subunifications</code>
        </li>
      
        <li class="covered" data-hits="307" data-linenumber="579">
          <span class="hits">307</span>
          
          <code class="ruby">              merged &lt;&lt; submerged</code>
        </li>
      
        <li class="covered" data-hits="307" data-linenumber="580">
          <span class="hits">307</span>
          
          <code class="ruby">              unifications += subunifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="581">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="covered" data-hits="156" data-linenumber="582">
          <span class="hits">156</span>
          
          <code class="ruby">              msg = &quot;Cannot unify: #{values_to_unify_values.map(&amp;:inspect).join(&#39; with &#39;)}&quot;</code>
        </li>
      
        <li class="covered" data-hits="469" data-linenumber="583">
          <span class="hits">469</span>
          
          <code class="ruby">              arrays_goals.uniq.each{|goal| goal.log &lt;&lt; msg }</code>
        </li>
      
        <li class="covered" data-hits="156" data-linenumber="584">
          <span class="hits">156</span>
          
          <code class="ruby">              return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="585">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="5037" data-linenumber="586">
          <span class="hits">5037</span>
          
          <code class="ruby">          elsif values_to_unify.variables.empty?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="587">
          
          
          <code class="ruby">            # -- Incompatible Values --</code>
        </li>
      
        <li class="covered" data-hits="317" data-linenumber="588">
          <span class="hits">317</span>
          
          <code class="ruby">            incompatible_values = values_to_unify.map(&amp;:value)</code>
        </li>
      
        <li class="covered" data-hits="317" data-linenumber="589">
          <span class="hits">317</span>
          
          <code class="ruby">            msg = &quot;Cannot unify incompatible values: #{incompatible_values.compact.map(&amp;:inspect).join(&#39; with &#39;)}&quot;</code>
        </li>
      
        <li class="covered" data-hits="834" data-linenumber="590">
          <span class="hits">834</span>
          
          <code class="ruby">            arrays_goals.uniq.each{|goal| goal.log &lt;&lt; msg }</code>
        </li>
      
        <li class="covered" data-hits="317" data-linenumber="591">
          <span class="hits">317</span>
          
          <code class="ruby">            return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="592">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="593">
          
          
          <code class="ruby">            # -- Potentially Compatible Values/Variables --</code>
        </li>
      
        <li class="covered" data-hits="14167" data-linenumber="594">
          <span class="hits">14167</span>
          
          <code class="ruby">            nonvariables = values_to_unify.map(&amp;:value).compact.reject{|value| value.type == :variable }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="595">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="covered" data-hits="14178" data-linenumber="596">
          <span class="hits">14178</span>
          
          <code class="ruby">            values_to_unify.reject{|value| value.value.nil? }.combination(2).each do |vl, vr|</code>
        </li>
      
        <li class="covered" data-hits="4736" data-linenumber="597">
          <span class="hits">4736</span>
          
          <code class="ruby">              subunifications = unify(vl, vr, vl.goal, vr.goal, visited)</code>
        </li>
      
        <li class="covered" data-hits="4736" data-linenumber="598">
          <span class="hits">4736</span>
          
          <code class="ruby">              if subunifications</code>
        </li>
      
        <li class="covered" data-hits="4735" data-linenumber="599">
          <span class="hits">4735</span>
          
          <code class="ruby">                unifications += subunifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="600">
          
          
          <code class="ruby">              else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="601">
          <span class="hits">1</span>
          
          <code class="ruby">                msg = &quot;Cannot unify: #{vl.inspect} with #{vr.inspect}&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="602">
          <span class="hits">3</span>
          
          <code class="ruby">                [vl.goal, vr.goal].uniq.each{|goal| goal.log &lt;&lt; msg }</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="603">
          <span class="hits">1</span>
          
          <code class="ruby">                return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="604">
          
          
          <code class="ruby">              end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="605">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="606">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="covered" data-hits="4719" data-linenumber="607">
          <span class="hits">4719</span>
          
          <code class="ruby">            if nonvariables.size &gt; 1</code>
        </li>
      
        <li class="covered" data-hits="71" data-linenumber="608">
          <span class="hits">71</span>
          
          <code class="ruby">              subgoals = arrays_goals.dup</code>
        </li>
      
        <li class="covered" data-hits="71" data-linenumber="609">
          <span class="hits">71</span>
          
          <code class="ruby">              nonvariables.each_with_index do |nonvariable, index|</code>
        </li>
      
        <li class="covered" data-hits="145" data-linenumber="610">
          <span class="hits">145</span>
          
          <code class="ruby">                if nonvariable.respond_to?(:goal)</code>
        </li>
      
        <li class="covered" data-hits="145" data-linenumber="611">
          <span class="hits">145</span>
          
          <code class="ruby">                  subgoal = nonvariable.goal</code>
        </li>
      
        <li class="covered" data-hits="145" data-linenumber="612">
          <span class="hits">145</span>
          
          <code class="ruby">                  subgoals[index] = subgoal if subgoal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="613">
          
          
          <code class="ruby">                end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="614">
          
          
          <code class="ruby">              end</code>
        </li>
      
        <li class="covered" data-hits="71" data-linenumber="615">
          <span class="hits">71</span>
          
          <code class="ruby">              subgoals = subgoals[0...nonvariables.size]</code>
        </li>
      
        <li class="covered" data-hits="71" data-linenumber="616">
          <span class="hits">71</span>
          
          <code class="ruby">              merged_nonvariables, _nonvariable_unifications = unify_many_arrays(nonvariables, subgoals, visited)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="617">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="covered" data-hits="4648" data-linenumber="618">
          <span class="hits">4648</span>
          
          <code class="ruby">              merged_nonvariables      = nonvariables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="619">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="620">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="covered" data-hits="4719" data-linenumber="621">
          <span class="hits">4719</span>
          
          <code class="ruby">            merged_value = merged_nonvariables</code>
        </li>
      
        <li class="covered" data-hits="4719" data-linenumber="622">
          <span class="hits">4719</span>
          
          <code class="ruby">            merged_value = [nonvariables.first.value] if merged_value.nil? || merged_value == []</code>
        </li>
      
        <li class="covered" data-hits="4719" data-linenumber="623">
          <span class="hits">4719</span>
          
          <code class="ruby">            merged += merged_value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="624">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="625">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="626">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="627">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="2378" data-linenumber="628">
          <span class="hits">2378</span>
          
          <code class="ruby">      [merged, unifications]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="629">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="630">
          
          
          <code class="ruby">      # -- Arrays are different lengths --</code>
        </li>
      
        <li class="covered" data-hits="55" data-linenumber="631">
          <span class="hits">55</span>
          
          <code class="ruby">      msg = &quot;Cannot unify arrays of different lengths: #{arrays_values.map(&amp;:inspect).join(&#39; with &#39;)}&quot;</code>
        </li>
      
        <li class="covered" data-hits="165" data-linenumber="632">
          <span class="hits">165</span>
          
          <code class="ruby">      arrays_goals.uniq.each{|goal| goal.log &lt;&lt; msg }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="633">
          
          
          <code class="ruby">      nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="634">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="635">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="636">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="637">
          
          
          <code class="ruby">  # Unifies Arrays where each Array has a Tail.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="638">
          
          
          <code class="ruby">  # @param arrays [Array&lt;Array&gt;] the Arrays to be unified.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="639">
          
          
          <code class="ruby">  # @param arrays_goals [Array&lt;Porolog::Goal&gt;] the Goals of the Arrays to be unified.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="640">
          
          
          <code class="ruby">  # @param visited [Array] prevents infinite recursion.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="641">
          
          
          <code class="ruby">  # @return [Array&lt;Array, Array&gt;] the merged Array and the unifications to be instantiated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="642">
          
          
          <code class="ruby">  # @return [nil] if the Arrays cannot be unified.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="643">
          <span class="hits">1</span>
          
          <code class="ruby">  def unify_arrays_with_all_tails(arrays, arrays_goals, visited)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="644">
          
          
          <code class="ruby">    # -- All tails --</code>
        </li>
      
        <li class="covered" data-hits="24863" data-linenumber="645">
          <span class="hits">24863</span>
          
          <code class="ruby">    arrays = arrays.map{|array|</code>
        </li>
      
        <li class="covered" data-hits="49732" data-linenumber="646">
          <span class="hits">49732</span>
          
          <code class="ruby">      expand_splat(array.headtail? ? array : array.value)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="647">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="648">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="649">
          
          
          <code class="ruby">    # -- Unify Embedded Arrays --</code>
        </li>
      
        <li class="covered" data-hits="74591" data-linenumber="650">
          <span class="hits">74591</span>
          
          <code class="ruby">    if arrays.any?{|array| array.type == :variable }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="651">
          <span class="hits">2</span>
          
          <code class="ruby">      unifications = unify(*arrays[0...2], *arrays_goals[0...2], visited)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="652">
          <span class="hits">2</span>
          
          <code class="ruby">      if unifications</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="653">
          <span class="hits">4</span>
          
          <code class="ruby">        merged = arrays.reject{|value| value.type == :variable }.first || nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="654">
          <span class="hits">1</span>
          
          <code class="ruby">        return [merged, unifications]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="655">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="656">
          <span class="hits">1</span>
          
          <code class="ruby">        msg = &quot;Cannot unify embedded arrays: #{arrays[0...2].map(&amp;:value).map(&amp;:inspect).join(&#39; with &#39;)}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="657">
          <span class="hits">1</span>
          
          <code class="ruby">        arrays_goals.uniq.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="658">
          <span class="hits">3</span>
          
          <code class="ruby">          goal.log &lt;&lt; msg</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="659">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="660">
          <span class="hits">1</span>
          
          <code class="ruby">        return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="661">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="662">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="663">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="24861" data-linenumber="664">
          <span class="hits">24861</span>
          
          <code class="ruby">    signature = arrays.map(&amp;:headtail?)</code>
        </li>
      
        <li class="covered" data-hits="24861" data-linenumber="665">
          <span class="hits">24861</span>
          
          <code class="ruby">    unifications = []</code>
        </li>
      
        <li class="covered" data-hits="24861" data-linenumber="666">
          <span class="hits">24861</span>
          
          <code class="ruby">    merged       = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="667">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="24861" data-linenumber="668">
          <span class="hits">24861</span>
          
          <code class="ruby">    if signature.all?</code>
        </li>
      
        <li class="covered" data-hits="24855" data-linenumber="669">
          <span class="hits">24855</span>
          
          <code class="ruby">      merged, unifications = unify_headtail_with_headtail(arrays, arrays_goals, visited)</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="670">
          <span class="hits">6</span>
          
          <code class="ruby">    elsif signature.map(&amp;:!).all?</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="671">
          <span class="hits">4</span>
          
          <code class="ruby">      merged, unifications = unify_tail_with_tail(arrays, arrays_goals, visited)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="672">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="673">
          <span class="hits">2</span>
          
          <code class="ruby">      merged, unifications = unify_headtail_with_tail(arrays, arrays_goals, visited)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="674">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="675">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="24861" data-linenumber="676">
          <span class="hits">24861</span>
          
          <code class="ruby">    if unifications</code>
        </li>
      
        <li class="covered" data-hits="24859" data-linenumber="677">
          <span class="hits">24859</span>
          
          <code class="ruby">      [merged, unifications]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="678">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="679">
          
          
          <code class="ruby">      nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="680">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="681">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="682">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="683">
          
          
          <code class="ruby">  # Unifies Arrays where each Array is not a Head/Tail array.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="684">
          
          
          <code class="ruby">  # @param arrays [Array&lt;Array&gt;] the Arrays to be unified.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="685">
          
          
          <code class="ruby">  # @param arrays_goals [Array&lt;Porolog::Goal&gt;] the Goals of the Arrays to be unified.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="686">
          
          
          <code class="ruby">  # @param visited [Array] prevents infinite recursion.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="687">
          
          
          <code class="ruby">  # @return [Array&lt;Array, Array&gt;] the merged Array and the unifications to be instantiated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="688">
          
          
          <code class="ruby">  # @return [nil] if the Arrays cannot be unified.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="689">
          <span class="hits">1</span>
          
          <code class="ruby">  def unify_tail_with_tail(arrays, arrays_goals, visited)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="690">
          
          
          <code class="ruby">    # -- Validate Arrays --</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="691">
          <span class="hits">12</span>
          
          <code class="ruby">    unless arrays.map(&amp;:headtail?).map(&amp;:!).all?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="692">
          <span class="hits">1</span>
          
          <code class="ruby">      msg = &quot;Wrong method called to unify #{arrays.inspect}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="693">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals.uniq.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="694">
          <span class="hits">3</span>
          
          <code class="ruby">        goal.log &lt;&lt; msg</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="695">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="696">
          <span class="hits">1</span>
          
          <code class="ruby">      return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="697">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="698">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="699">
          
          
          <code class="ruby">    # -- Variablise Arrays --</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="700">
          <span class="hits">11</span>
          
          <code class="ruby">    arrays = arrays_goals.zip(arrays).map do |goal, array|</code>
        </li>
      
        <li class="covered" data-hits="28" data-linenumber="701">
          <span class="hits">28</span>
          
          <code class="ruby">      goal.variablise(array)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="702">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="703">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="704">
          
          
          <code class="ruby">    # == [1,2,3]/:tail ~~ [1,2,3]/:tail ==</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="705">
          
          
          <code class="ruby">    # -- Extract Elements --</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="706">
          <span class="hits">11</span>
          
          <code class="ruby">    merged       = []</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="707">
          <span class="hits">11</span>
          
          <code class="ruby">    unifications = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="708">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="39" data-linenumber="709">
          <span class="hits">39</span>
          
          <code class="ruby">    arrays = arrays.sort_by{|array| -array.length }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="710">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="711">
          <span class="hits">11</span>
          
          <code class="ruby">    arrays[0].zip(*arrays[1..-1]).each_with_index do |values,index|</code>
        </li>
      
        <li class="covered" data-hits="134" data-linenumber="712">
          <span class="hits">134</span>
          
          <code class="ruby">      if values.any?{|value| value.is_a?(Tail) }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="713">
          
          
          <code class="ruby">        # -- Unify Remaining Values and Tails --</code>
        </li>
      
        <li class="covered" data-hits="28" data-linenumber="714">
          <span class="hits">28</span>
          
          <code class="ruby">        tails = arrays.map{|array| expand_splat(array[index..-1]) }</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="715">
          <span class="hits">8</span>
          
          <code class="ruby">        merged_tails = []</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="716">
          <span class="hits">8</span>
          
          <code class="ruby">        tails.combination(2).each do |pair|</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="717">
          <span class="hits">17</span>
          
          <code class="ruby">          next if pair.compact.size &lt; 2</code>
        </li>
      
        <li class="covered" data-hits="48" data-linenumber="718">
          <span class="hits">48</span>
          
          <code class="ruby">          if pair.any?{|tail| tail == UNKNOWN_ARRAY }</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="719">
          <span class="hits">9</span>
          
          <code class="ruby">            merged_tails += pair.reject{|tail| tail == UNKNOWN_ARRAY }</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="720">
          <span class="hits">3</span>
          
          <code class="ruby">            next</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="721">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="722">
          <span class="hits">13</span>
          
          <code class="ruby">          first_goal = nil</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="723">
          <span class="hits">13</span>
          
          <code class="ruby">          last_goal  = nil</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="724">
          <span class="hits">13</span>
          
          <code class="ruby">          first_goal = pair.first.goal if pair.first.respond_to?(:goal)</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="725">
          <span class="hits">13</span>
          
          <code class="ruby">          last_goal  = pair.last.goal  if pair.last.respond_to?(:goal)</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="726">
          <span class="hits">13</span>
          
          <code class="ruby">          m,u = unify_arrays(first_goal.variablise([pair.first]), last_goal.variablise([pair.last]), first_goal, last_goal, visited)</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="727">
          <span class="hits">13</span>
          
          <code class="ruby">          return nil unless m</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="728">
          <span class="hits">12</span>
          
          <code class="ruby">          m[-1] = UNKNOWN_TAIL if m[-1].nil?</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="729">
          <span class="hits">12</span>
          
          <code class="ruby">          merged_tails += m</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="730">
          <span class="hits">12</span>
          
          <code class="ruby">          unifications += u</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="731">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="732">
          <span class="hits">7</span>
          
          <code class="ruby">        merged_tails.uniq!</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="733">
          <span class="hits">7</span>
          
          <code class="ruby">        merged_tails_unifications = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="734">
          
          
          <code class="ruby">        # TODO: Fix [first_goal] * arrays.size</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="735">
          <span class="hits">7</span>
          
          <code class="ruby">        if merged_tails.size &gt; 1</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="736">
          <span class="hits">2</span>
          
          <code class="ruby">          merged_tails, merged_tails_unifications = unify_many_arrays(merged_tails, [arrays_goals.first] * arrays.size, visited)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="737">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="738">
          <span class="hits">7</span>
          
          <code class="ruby">        merged       += merged_tails.flatten(1)</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="739">
          <span class="hits">7</span>
          
          <code class="ruby">        unifications += merged_tails_unifications - unifications</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="740">
          <span class="hits">7</span>
          
          <code class="ruby">        break</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="741">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="742">
          
          
          <code class="ruby">        # -- Unify Values at Index --</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="743">
          <span class="hits">32</span>
          
          <code class="ruby">        merged_value = []</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="744">
          <span class="hits">32</span>
          
          <code class="ruby">        values.combination(2).each do |pair|</code>
        </li>
      
        <li class="covered" data-hits="74" data-linenumber="745">
          <span class="hits">74</span>
          
          <code class="ruby">          if pair.any?(&amp;:nil?)</code>
        </li>
      
        <li class="covered" data-hits="28" data-linenumber="746">
          <span class="hits">28</span>
          
          <code class="ruby">            merged_value += pair.compact</code>
        </li>
      
        <li class="covered" data-hits="28" data-linenumber="747">
          <span class="hits">28</span>
          
          <code class="ruby">            next</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="748">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="749">
          <span class="hits">46</span>
          
          <code class="ruby">          first_goal = nil</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="750">
          <span class="hits">46</span>
          
          <code class="ruby">          last_goal  = nil</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="751">
          <span class="hits">46</span>
          
          <code class="ruby">          first_goal = pair.first.goal if pair.first.respond_to?(:goal)</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="752">
          <span class="hits">46</span>
          
          <code class="ruby">          last_goal  = pair.last.goal  if pair.last.respond_to?(:goal)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="753">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="754">
          <span class="hits">46</span>
          
          <code class="ruby">          m,u = unify_arrays([pair.first], [pair.last], first_goal, last_goal, visited)</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="755">
          <span class="hits">46</span>
          
          <code class="ruby">          if m.nil?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="756">
          <span class="hits">1</span>
          
          <code class="ruby">            [first_goal, last_goal].uniq.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="757">
          <span class="hits">2</span>
          
          <code class="ruby">              goal.log &lt;&lt; &quot;Cannot unify #{pair.first.inspect} with #{pair.last.inspect}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="758">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="759">
          <span class="hits">1</span>
          
          <code class="ruby">            return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="760">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="761">
          <span class="hits">45</span>
          
          <code class="ruby">          merged_value += m</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="762">
          <span class="hits">45</span>
          
          <code class="ruby">          unifications += u</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="763">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="764">
          <span class="hits">31</span>
          
          <code class="ruby">        merged &lt;&lt; merged_value.compact.uniq.first || nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="765">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="766">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="767">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="768">
          <span class="hits">9</span>
          
          <code class="ruby">    [merged, unifications]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="769">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="770">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="771">
          
          
          <code class="ruby">  # Unifies Arrays where the Arrays are a mixture of Head/Tail and non-Head/Tail arrays.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="772">
          
          
          <code class="ruby">  # @param arrays [Array&lt;Array&gt;] the Arrays to be unified.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="773">
          
          
          <code class="ruby">  # @param arrays_goals [Array&lt;Porolog::Goal&gt;] the Goals of the Arrays to be unified.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="774">
          
          
          <code class="ruby">  # @param visited [Array] prevents infinite recursion.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="775">
          
          
          <code class="ruby">  # @return [Array&lt;Array, Array&gt;] the merged Array and the unifications to be instantiated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="776">
          
          
          <code class="ruby">  # @return [nil] if the Arrays cannot be unified.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="777">
          <span class="hits">1</span>
          
          <code class="ruby">  def unify_headtail_with_tail(arrays, arrays_goals, visited)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="778">
          
          
          <code class="ruby">    # -- Validate Arrays --</code>
        </li>
      
        <li class="covered" data-hits="44" data-linenumber="779">
          <span class="hits">44</span>
          
          <code class="ruby">    unless arrays.all?{|array| has_tail?(array, false) }</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="780">
          <span class="hits">1</span>
          
          <code class="ruby">      msg = &quot;Wrong method called to unify #{arrays.inspect}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="781">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals.uniq.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="782">
          <span class="hits">3</span>
          
          <code class="ruby">        goal.log &lt;&lt; msg</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="783">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="784">
          <span class="hits">1</span>
          
          <code class="ruby">      return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="785">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="786">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="787">
          <span class="hits">9</span>
          
          <code class="ruby">    merged       = []</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="788">
          <span class="hits">9</span>
          
          <code class="ruby">    unifications = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="789">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="790">
          
          
          <code class="ruby">    # -- Variablise Arrays --</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="791">
          <span class="hits">9</span>
          
          <code class="ruby">    arrays = arrays_goals.zip(arrays).map do |goal, array|</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="792">
          <span class="hits">32</span>
          
          <code class="ruby">      if array == UNKNOWN_ARRAY</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="793">
          <span class="hits">1</span>
          
          <code class="ruby">        array</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="794">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="795">
          <span class="hits">31</span>
          
          <code class="ruby">        goal.variablise(array)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="796">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="797">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="798">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="799">
          
          
          <code class="ruby">    # -- Determine the fixed length (if any) --</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="800">
          <span class="hits">9</span>
          
          <code class="ruby">    fixed_length = nil</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="801">
          <span class="hits">9</span>
          
          <code class="ruby">    arrays.each do |array|</code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="802">
          <span class="hits">31</span>
          
          <code class="ruby">      next if has_tail?(array)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="803">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="804">
          <span class="hits">11</span>
          
          <code class="ruby">      array_length = array.value.size</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="805">
          <span class="hits">11</span>
          
          <code class="ruby">      fixed_length ||= array_length</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="806">
          <span class="hits">11</span>
          
          <code class="ruby">      unless fixed_length == array_length</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="807">
          <span class="hits">1</span>
          
          <code class="ruby">        array.goal.log &lt;&lt; &quot;Cannot unify #{array.value.inspect} because it has a different length from #{fixed_length}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="808">
          <span class="hits">1</span>
          
          <code class="ruby">        return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="809">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="810">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="811">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="812">
          
          
          <code class="ruby">    # -- Partition Arrays --</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="813">
          <span class="hits">8</span>
          
          <code class="ruby">    headtail_arrays, tail_arrays = arrays.partition(&amp;:headtail?)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="814">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="815">
          
          
          <code class="ruby">    # -- Unify All HeadTail Arrays --</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="816">
          <span class="hits">8</span>
          
          <code class="ruby">    if headtail_arrays.size &gt; 1</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="817">
          <span class="hits">6</span>
          
          <code class="ruby">      headtail_goals = headtail_arrays.map(&amp;:goal)</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="818">
          <span class="hits">6</span>
          
          <code class="ruby">      merged_headtails, headtail_unifications = unify_headtail_with_headtail(headtail_arrays, headtail_goals, visited)</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="819">
          <span class="hits">6</span>
          
          <code class="ruby">      unless merged_headtails</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="820">
          <span class="hits">1</span>
          
          <code class="ruby">        msg = &quot;Could not unify headtail arrays: #{headtail_arrays.map(&amp;:value).map(&amp;:inspect).join(&#39; with &#39;)}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="821">
          <span class="hits">1</span>
          
          <code class="ruby">        headtail_goals.uniq.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="822">
          <span class="hits">3</span>
          
          <code class="ruby">          goal.log &lt;&lt; msg</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="823">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="824">
          <span class="hits">1</span>
          
          <code class="ruby">        return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="825">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="826">
          <span class="hits">5</span>
          
          <code class="ruby">      unifications += headtail_unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="827">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="828">
          <span class="hits">5</span>
          
          <code class="ruby">      if merged_headtails.length &gt; merged.length</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="829">
          <span class="hits">5</span>
          
          <code class="ruby">        merged += [[]] * (merged_headtails.length - merged.length)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="830">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="831">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="832">
          
          
          <code class="ruby">      # TODO: Remove flatten</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="833">
          <span class="hits">5</span>
          
          <code class="ruby">      merged = merged.zip(merged_headtails).map(&amp;:flatten)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="834">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="835">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="836">
          
          
          <code class="ruby">    # -- Unify All Tail Arrays --</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="837">
          <span class="hits">7</span>
          
          <code class="ruby">    if tail_arrays.size &gt; 1</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="838">
          <span class="hits">4</span>
          
          <code class="ruby">      tail_goals = tail_arrays.map(&amp;:goal)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="839">
          <span class="hits">4</span>
          
          <code class="ruby">      merged_tails, tail_unifications = unify_tail_with_tail(tail_arrays, tail_goals, visited)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="840">
          <span class="hits">4</span>
          
          <code class="ruby">      return nil unless merged_tails</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="841">
          <span class="hits">3</span>
          
          <code class="ruby">      unifications += tail_unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="842">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="843">
          <span class="hits">3</span>
          
          <code class="ruby">      if merged_tails.length &gt; merged.length</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="844">
          <span class="hits">2</span>
          
          <code class="ruby">        merged += [[]] * (merged_tails.length - merged.length)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="845">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="846">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="847">
          
          
          <code class="ruby">      # TODO: Remove flatten</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="848">
          <span class="hits">3</span>
          
          <code class="ruby">      merged = merged.zip(merged_tails).map(&amp;:flatten).map{|merge_values|</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="849">
          <span class="hits">10</span>
          
          <code class="ruby">        merge_values.map{|value|</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="850">
          <span class="hits">17</span>
          
          <code class="ruby">          if value == UNKNOWN_TAIL</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="851">
          <span class="hits">2</span>
          
          <code class="ruby">            nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="852">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="853">
          <span class="hits">15</span>
          
          <code class="ruby">            value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="854">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="855">
          
          
          <code class="ruby">        }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="856">
          
          
          <code class="ruby">      }.map(&amp;:compact)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="857">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="858">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="859">
          
          
          <code class="ruby">    # -- Combine HeadTail Arrays and Tail Arrays --</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="860">
          <span class="hits">6</span>
          
          <code class="ruby">    headtail_arrays.product(tail_arrays).each do |pair|</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="861">
          
          
          <code class="ruby">      # == :head/:tail ~~ [1,2,3]/:tail ==</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="862">
          
          
          <code class="ruby">      # -- Extract Elements --</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="863">
          <span class="hits">12</span>
          
          <code class="ruby">      left       = expand_splat(pair.first)</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="864">
          <span class="hits">12</span>
          
          <code class="ruby">      left_head  = left.head</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="865">
          <span class="hits">12</span>
          
          <code class="ruby">      left_tail  = left.tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="866">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="867">
          <span class="hits">12</span>
          
          <code class="ruby">      right      = expand_splat(pair.last)</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="868">
          <span class="hits">12</span>
          
          <code class="ruby">      right_head = right.head</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="869">
          <span class="hits">12</span>
          
          <code class="ruby">      right_tail = right.tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="870">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="871">
          
          
          <code class="ruby">      # -- Expand Tail --</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="872">
          <span class="hits">12</span>
          
          <code class="ruby">      left_tail  = expand_splat(left_tail)</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="873">
          <span class="hits">12</span>
          
          <code class="ruby">      right_tail = expand_splat(right_tail)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="874">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="875">
          
          
          <code class="ruby">      # -- Determine Goals --</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="876">
          <span class="hits">12</span>
          
          <code class="ruby">      left_goal  = pair.first.goal</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="877">
          <span class="hits">12</span>
          
          <code class="ruby">      right_goal = pair.last.goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="878">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="879">
          
          
          <code class="ruby">      # -- Unify Heads --</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="880">
          <span class="hits">12</span>
          
          <code class="ruby">      head_unifications = unify(left_head, right_head, left_goal, right_goal, visited)</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="881">
          <span class="hits">12</span>
          
          <code class="ruby">      if head_unifications.nil?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="882">
          <span class="hits">1</span>
          
          <code class="ruby">        msg = &quot;Cannot unify heads: #{left_head.inspect} with #{right_head.inspect}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="883">
          <span class="hits">1</span>
          
          <code class="ruby">        left_goal.log  &lt;&lt; msg</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="884">
          <span class="hits">1</span>
          
          <code class="ruby">        right_goal.log &lt;&lt; msg unless right_goal == left_goal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="885">
          <span class="hits">1</span>
          
          <code class="ruby">        return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="886">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="887">
          <span class="hits">11</span>
          
          <code class="ruby">      unifications += head_unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="888">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="889">
          
          
          <code class="ruby">      # -- Unify Tails --</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="890">
          <span class="hits">11</span>
          
          <code class="ruby">      tail_unifications = unify(left_tail, right_tail, left_goal, right_goal, visited)</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="891">
          <span class="hits">11</span>
          
          <code class="ruby">      if tail_unifications.nil?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="892">
          <span class="hits">1</span>
          
          <code class="ruby">        msg = &quot;Cannot unify tails: #{left_tail.inspect} with #{right_tail.inspect}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="893">
          <span class="hits">1</span>
          
          <code class="ruby">        left_goal.log  &lt;&lt; msg</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="894">
          <span class="hits">1</span>
          
          <code class="ruby">        right_goal.log &lt;&lt; msg unless right_goal == left_goal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="895">
          <span class="hits">1</span>
          
          <code class="ruby">        return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="896">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="897">
          <span class="hits">10</span>
          
          <code class="ruby">      unifications += tail_unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="898">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="899">
          
          
          <code class="ruby">      # -- Determine Merged and Unifications --</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="900">
          <span class="hits">10</span>
          
          <code class="ruby">      left_reassembled  = [left_head,  *left_tail ]</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="901">
          <span class="hits">10</span>
          
          <code class="ruby">      right_reassembled = [right_head, *right_tail]</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="902">
          <span class="hits">10</span>
          
          <code class="ruby">      max_length = [left_reassembled.length, right_reassembled.length].max</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="903">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="904">
          <span class="hits">10</span>
          
          <code class="ruby">      if max_length &gt; merged.length</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="905">
          <span class="hits">3</span>
          
          <code class="ruby">        merged += [[]] * (max_length - merged.length)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="906">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="907">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="908">
          <span class="hits">10</span>
          
          <code class="ruby">      merged = merged.zip(left_reassembled ).map(&amp;:flatten)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="909">
          <span class="hits">10</span>
          
          <code class="ruby">      merged = merged.zip(right_reassembled).map(&amp;:flatten)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="910">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="911">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="912">
          <span class="hits">4</span>
          
          <code class="ruby">    merged = merged.value</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="913">
          <span class="hits">4</span>
          
          <code class="ruby">    merged = merged.map(&amp;:value)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="914">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="915">
          
          
          <code class="ruby">    # TODO: Cleanup names</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="916">
          
          
          <code class="ruby">    # TODO: Flatten out tails</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="917">
          
          
          <code class="ruby">    #   E.g.  [nil, [2, 3], ...] should be [nil, 2, 3, ...]</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="918">
          <span class="hits">4</span>
          
          <code class="ruby">    is_tails = []</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="919">
          <span class="hits">4</span>
          
          <code class="ruby">    merged = merged.value.map{|elements|</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="920">
          <span class="hits">13</span>
          
          <code class="ruby">      sorted_elements = elements.reject{|element|</code>
        </li>
      
        <li class="covered" data-hits="82" data-linenumber="921">
          <span class="hits">82</span>
          
          <code class="ruby">        element.is_a?(Variable)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="922">
          
          
          <code class="ruby">      }.uniq.compact.sort_by{|element|</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="923">
          <span class="hits">14</span>
          
          <code class="ruby">        case element.type</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="924">
          
          
          <code class="ruby">          when :atomic</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="925">
          <span class="hits">5</span>
          
          <code class="ruby">            0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="926">
          
          
          <code class="ruby">          when :array, :tail</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="927">
          <span class="hits">9</span>
          
          <code class="ruby">            if [UNKNOWN_TAIL, UNKNOWN_ARRAY].include?(element)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="928">
          <span class="hits">5</span>
          
          <code class="ruby">              3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="929">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="930">
          <span class="hits">4</span>
          
          <code class="ruby">              1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="931">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="932">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="933">
          
          <span class="hits">skipped</span>
          <code class="ruby">            # :nocov:</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="934">
          
          <span class="hits">skipped</span>
          <code class="ruby">            # There are only 3 types and variables have already been filtered.</code>
        </li>
      
        <li class="skipped" data-hits="0" data-linenumber="935">
          
          <span class="hits">skipped</span>
          <code class="ruby">            2</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="936">
          
          <span class="hits">skipped</span>
          <code class="ruby">            # :nocov:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="937">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="938">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="939">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="940">
          <span class="hits">26</span>
          
          <code class="ruby">      is_tails &lt;&lt; sorted_elements.any?{|element| element.is_a?(Tail) || element == UNKNOWN_TAIL }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="941">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="942">
          <span class="hits">13</span>
          
          <code class="ruby">      merged_value = sorted_elements.first</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="943">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="944">
          <span class="hits">13</span>
          
          <code class="ruby">      if merged_value.is_a?(Tail) &amp;&amp; merged_value.value.is_a?(Variable)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="945">
          <span class="hits">2</span>
          
          <code class="ruby">        UNKNOWN_TAIL</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="946">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="947">
          <span class="hits">11</span>
          
          <code class="ruby">        merged_value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="948">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="949">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="950">
          <span class="hits">4</span>
          
          <code class="ruby">    merged[0...-1] = merged[0...-1].map{|value|</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="951">
          <span class="hits">9</span>
          
          <code class="ruby">      if value == UNKNOWN_TAIL</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="952">
          <span class="hits">1</span>
          
          <code class="ruby">        nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="953">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="954">
          <span class="hits">8</span>
          
          <code class="ruby">        value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="955">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="956">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="957">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="958">
          <span class="hits">4</span>
          
          <code class="ruby">    merged = merged.map{|value|</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="959">
          <span class="hits">13</span>
          
          <code class="ruby">      if is_tails.shift</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="960">
          <span class="hits">7</span>
          
          <code class="ruby">        value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="961">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="962">
          <span class="hits">6</span>
          
          <code class="ruby">        [value]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="963">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="964">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="965">
          <span class="hits">4</span>
          
          <code class="ruby">    merged = merged.flatten(1)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="966">
          <span class="hits">4</span>
          
          <code class="ruby">    merged = merged[0...fixed_length] if fixed_length</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="967">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="968">
          <span class="hits">4</span>
          
          <code class="ruby">    [merged, unifications]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="969">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="970">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="971">
          
          
          <code class="ruby">  # Unifies Arrays where each Array is a Head/Tail array.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="972">
          
          
          <code class="ruby">  # @param arrays [Array&lt;Array&gt;] the Arrays to be unified.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="973">
          
          
          <code class="ruby">  # @param arrays_goals [Array&lt;Porolog::Goal&gt;] the Goals of the Arrays to be unified.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="974">
          
          
          <code class="ruby">  # @param visited [Array] prevents infinite recursion.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="975">
          
          
          <code class="ruby">  # @return [Array&lt;Array, Array&gt;] the merged Array and the unifications to be instantiated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="976">
          
          
          <code class="ruby">  # @return [nil] if the Arrays cannot be unified.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="977">
          <span class="hits">1</span>
          
          <code class="ruby">  def unify_headtail_with_headtail(arrays, arrays_goals, visited)</code>
        </li>
      
        <li class="covered" data-hits="24865" data-linenumber="978">
          <span class="hits">24865</span>
          
          <code class="ruby">    unless arrays.all?(&amp;:headtail?)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="979">
          <span class="hits">1</span>
          
          <code class="ruby">      msg = &quot;Wrong method called to unify #{arrays.inspect}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="980">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals.uniq.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="981">
          <span class="hits">3</span>
          
          <code class="ruby">        goal.log &lt;&lt; msg</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="982">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="983">
          <span class="hits">1</span>
          
          <code class="ruby">      return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="984">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="985">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="24864" data-linenumber="986">
          <span class="hits">24864</span>
          
          <code class="ruby">    unifications = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="987">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="24864" data-linenumber="988">
          <span class="hits">24864</span>
          
          <code class="ruby">    arrays.combination(2).each do |pair|</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="989">
          
          
          <code class="ruby">      # -- Collect Goals --</code>
        </li>
      
        <li class="covered" data-hits="74619" data-linenumber="990">
          <span class="hits">74619</span>
          
          <code class="ruby">      pair_goals = pair.map{|array| arrays_goals[arrays.index(array)] }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="991">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="992">
          
          
          <code class="ruby">      # -- Unify Heads --</code>
        </li>
      
        <li class="covered" data-hits="24873" data-linenumber="993">
          <span class="hits">24873</span>
          
          <code class="ruby">      heads = pair.map(&amp;:first)</code>
        </li>
      
        <li class="covered" data-hits="24873" data-linenumber="994">
          <span class="hits">24873</span>
          
          <code class="ruby">      subunifications = unify(*heads, *pair_goals, visited)</code>
        </li>
      
        <li class="covered" data-hits="24873" data-linenumber="995">
          <span class="hits">24873</span>
          
          <code class="ruby">      if subunifications</code>
        </li>
      
        <li class="covered" data-hits="24872" data-linenumber="996">
          <span class="hits">24872</span>
          
          <code class="ruby">        unifications += subunifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="997">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="998">
          <span class="hits">1</span>
          
          <code class="ruby">        unifications = nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="999">
          <span class="hits">1</span>
          
          <code class="ruby">        msg = &quot;Cannot unify headtail heads: #{heads.map(&amp;:inspect).join(&#39; with &#39;).inspect}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1000">
          <span class="hits">1</span>
          
          <code class="ruby">        pair_goals.uniq.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="1001">
          <span class="hits">2</span>
          
          <code class="ruby">          goal.log  &lt;&lt; msg</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1002">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1003">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1004">
          <span class="hits">1</span>
          
          <code class="ruby">        return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1005">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1006">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1007">
          
          
          <code class="ruby">      # -- Unify Tails --</code>
        </li>
      
        <li class="covered" data-hits="74616" data-linenumber="1008">
          <span class="hits">74616</span>
          
          <code class="ruby">      tails = pair.map(&amp;:last).map{|tail| tail.value(visited) }</code>
        </li>
      
        <li class="covered" data-hits="24872" data-linenumber="1009">
          <span class="hits">24872</span>
          
          <code class="ruby">      subunifications = unify(*tails, *pair_goals, visited)</code>
        </li>
      
        <li class="covered" data-hits="24872" data-linenumber="1010">
          <span class="hits">24872</span>
          
          <code class="ruby">      if subunifications</code>
        </li>
      
        <li class="covered" data-hits="24871" data-linenumber="1011">
          <span class="hits">24871</span>
          
          <code class="ruby">        unifications += subunifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1012">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1013">
          <span class="hits">1</span>
          
          <code class="ruby">        unifications = nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1014">
          <span class="hits">1</span>
          
          <code class="ruby">        msg = &quot;Cannot unify headtail tails: #{tails.map(&amp;:inspect).join(&#39; with &#39;)}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1015">
          <span class="hits">1</span>
          
          <code class="ruby">        pair_goals.uniq.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="1016">
          <span class="hits">2</span>
          
          <code class="ruby">          goal.log  &lt;&lt; msg</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1017">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1018">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1019">
          <span class="hits">1</span>
          
          <code class="ruby">        return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1020">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1021">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1022">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1023">
          
          
          <code class="ruby">    # -- Determine Merged --</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1024">
          
          
          <code class="ruby">    merged = [</code>
        </li>
      
        <li class="covered" data-hits="124318" data-linenumber="1025">
          <span class="hits">124318</span>
          
          <code class="ruby">      arrays.map(&amp;:first).map{|head| head.value(visited) }.reject{|head| head.type == :variable }.first,</code>
        </li>
      
        <li class="covered" data-hits="99456" data-linenumber="1026">
          <span class="hits">99456</span>
          
          <code class="ruby">      *arrays.map(&amp;:last).map{|tail| tail.value(visited) }.reject{|tail| tail.type == :variable || tail == UNKNOWN_TAIL }.first || UNKNOWN_TAIL,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1027">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1028">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="24862" data-linenumber="1029">
          <span class="hits">24862</span>
          
          <code class="ruby">    [merged, unifications]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1030">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1031">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1032">
          
          
          <code class="ruby">  # Unifies Arrays where Arrays with a Tail are unified with Arrays without a Tail.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1033">
          
          
          <code class="ruby">  # @param arrays [Array&lt;Array&gt;] the Arrays to be unified.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1034">
          
          
          <code class="ruby">  # @param arrays_goals [Array&lt;Porolog::Goal&gt;] the Goals of the Arrays to be unified.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1035">
          
          
          <code class="ruby">  # @param visited [Array] prevents infinite recursion.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1036">
          
          
          <code class="ruby">  # @return [Array&lt;Array, Array&gt;] the merged Array and the unifications to be instantiated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1037">
          
          
          <code class="ruby">  # @return [nil] if the Arrays cannot be unified.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1038">
          <span class="hits">1</span>
          
          <code class="ruby">  def unify_arrays_with_some_tails(arrays, arrays_goals, visited)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1039">
          
          
          <code class="ruby">    # -- Variablise Arrays --</code>
        </li>
      
        <li class="covered" data-hits="15941" data-linenumber="1040">
          <span class="hits">15941</span>
          
          <code class="ruby">    arrays = arrays_goals.zip(arrays).map{|goal,array|</code>
        </li>
      
        <li class="covered" data-hits="34646" data-linenumber="1041">
          <span class="hits">34646</span>
          
          <code class="ruby">      if goal.nil?</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="1042">
          <span class="hits">2</span>
          
          <code class="ruby">        goal = array.goal        if array.is_a?(Value)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="1043">
          <span class="hits">2</span>
          
          <code class="ruby">        if goal.nil? &amp;&amp; array.is_a?(Array)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1044">
          <span class="hits">10</span>
          
          <code class="ruby">          v = array.find{|element| element.respond_to?(:goal) }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="1045">
          <span class="hits">2</span>
          
          <code class="ruby">          goal = v&amp;.goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1046">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1047">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="34646" data-linenumber="1048">
          <span class="hits">34646</span>
          
          <code class="ruby">      goal = arrays_goals.compact.last if goal.nil?</code>
        </li>
      
        <li class="covered" data-hits="34646" data-linenumber="1049">
          <span class="hits">34646</span>
          
          <code class="ruby">      raise NoGoalError, &quot;#{array.inspect} has no associated goal!  Cannot variablise!&quot; if goal.nil? || !goal.is_a?(Goal)</code>
        </li>
      
        <li class="covered" data-hits="34645" data-linenumber="1050">
          <span class="hits">34645</span>
          
          <code class="ruby">      goal.variablise(array)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1051">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1052">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1053">
          
          
          <code class="ruby">    # -- Some unknown tails --</code>
        </li>
      
        <li class="covered" data-hits="50585" data-linenumber="1054">
          <span class="hits">50585</span>
          
          <code class="ruby">    tailed_arrays, finite_arrays = arrays.partition{|array| has_tail?(array) }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1055">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="31887" data-linenumber="1056">
          <span class="hits">31887</span>
          
          <code class="ruby">    finite_sizes = finite_arrays.reject{|finite_array| finite_array.type == :variable }.map(&amp;:size).uniq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1057">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="15940" data-linenumber="1058">
          <span class="hits">15940</span>
          
          <code class="ruby">    unless finite_sizes.size == 1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1059">
          <span class="hits">1</span>
          
          <code class="ruby">      msg = &quot;Cannot unify different sizes of arrays: #{arrays.map(&amp;:inspect).join(&#39; with &#39;)}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1060">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals.uniq.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="1061">
          <span class="hits">3</span>
          
          <code class="ruby">        goal.log &lt;&lt; msg</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1062">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1063">
          <span class="hits">1</span>
          
          <code class="ruby">      return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1064">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1065">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="15939" data-linenumber="1066">
          <span class="hits">15939</span>
          
          <code class="ruby">    exact_size = finite_sizes.first</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1067">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="34636" data-linenumber="1068">
          <span class="hits">34636</span>
          
          <code class="ruby">    tails         = tailed_arrays.map{|array| [array[0...-1].size,array.last,arrays_goals[arrays.index(array)]] }</code>
        </li>
      
        <li class="covered" data-hits="34636" data-linenumber="1069">
          <span class="hits">34636</span>
          
          <code class="ruby">    tailed_arrays = tailed_arrays.map{|array| array[0...-1] }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1070">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1071">
          
          
          <code class="ruby">    # -- Fail --</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1072">
          
          
          <code class="ruby">    #   [nil,nil,nil,nil,...]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1073">
          
          
          <code class="ruby">    #   [1,  2,  3]</code>
        </li>
      
        <li class="covered" data-hits="15939" data-linenumber="1074">
          <span class="hits">15939</span>
          
          <code class="ruby">    min_tailed_size = tailed_arrays.map(&amp;:size).max</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1075">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="15939" data-linenumber="1076">
          <span class="hits">15939</span>
          
          <code class="ruby">    if min_tailed_size &gt; exact_size</code>
        </li>
      
        <li class="covered" data-hits="106" data-linenumber="1077">
          <span class="hits">106</span>
          
          <code class="ruby">      msg = &quot;Cannot unify enough elements: #{arrays.map(&amp;:inspect).join(&#39; with &#39;)}&quot;</code>
        </li>
      
        <li class="covered" data-hits="106" data-linenumber="1078">
          <span class="hits">106</span>
          
          <code class="ruby">      arrays_goals.uniq.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="212" data-linenumber="1079">
          <span class="hits">212</span>
          
          <code class="ruby">        goal.log &lt;&lt; msg</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1080">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="106" data-linenumber="1081">
          <span class="hits">106</span>
          
          <code class="ruby">      return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1082">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1083">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1084">
          
          
          <code class="ruby">    # -- Succeed --</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1085">
          
          
          <code class="ruby">    #   [nil,nil,...]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1086">
          
          
          <code class="ruby">    #   [1,  2,  3]</code>
        </li>
      
        <li class="covered" data-hits="15833" data-linenumber="1087">
          <span class="hits">15833</span>
          
          <code class="ruby">    arrays = tailed_arrays + finite_arrays</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1088">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="15833" data-linenumber="1089">
          <span class="hits">15833</span>
          
          <code class="ruby">    zip_arrays = arrays.map{|array|</code>
        </li>
      
        <li class="covered" data-hits="34430" data-linenumber="1090">
          <span class="hits">34430</span>
          
          <code class="ruby">      if array.is_a?(Value) &amp;&amp; array.value.is_a?(Array)</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="1091">
          <span class="hits">26</span>
          
          <code class="ruby">        array.value.map{|v|</code>
        </li>
      
        <li class="covered" data-hits="86" data-linenumber="1092">
          <span class="hits">86</span>
          
          <code class="ruby">          if v.type == :variable</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="1093">
          <span class="hits">3</span>
          
          <code class="ruby">            array.goal.variable(v)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1094">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="83" data-linenumber="1095">
          <span class="hits">83</span>
          
          <code class="ruby">            array.goal.value(v)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1096">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1097">
          
          
          <code class="ruby">        }</code>
        </li>
      
        <li class="covered" data-hits="34404" data-linenumber="1098">
          <span class="hits">34404</span>
          
          <code class="ruby">      elsif array.type == :variable</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1099">
          <span class="hits">1</span>
          
          <code class="ruby">        array.goal.value_of(array)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1100">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="34403" data-linenumber="1101">
          <span class="hits">34403</span>
          
          <code class="ruby">        array</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1102">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="34430" data-linenumber="1103">
          <span class="hits">34430</span>
          
          <code class="ruby">    }.select{|array| array.is_a?(Array) }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1104">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="15833" data-linenumber="1105">
          <span class="hits">15833</span>
          
          <code class="ruby">    zipped       = ([nil] * exact_size).zip(*zip_arrays).map(&amp;:uniq).map(&amp;:compact)</code>
        </li>
      
        <li class="covered" data-hits="15833" data-linenumber="1106">
          <span class="hits">15833</span>
          
          <code class="ruby">    merged       = []</code>
        </li>
      
        <li class="covered" data-hits="15833" data-linenumber="1107">
          <span class="hits">15833</span>
          
          <code class="ruby">    unifications = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1108">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="15833" data-linenumber="1109">
          <span class="hits">15833</span>
          
          <code class="ruby">    zipped.each{|zipped_values|</code>
        </li>
      
        <li class="covered" data-hits="19996" data-linenumber="1110">
          <span class="hits">19996</span>
          
          <code class="ruby">      values = zipped_values</code>
        </li>
      
        <li class="covered" data-hits="43108" data-linenumber="1111">
          <span class="hits">43108</span>
          
          <code class="ruby">      value = values.reject{|v| v.value(visited).nil? }.compact.uniq</code>
        </li>
      
        <li class="covered" data-hits="19996" data-linenumber="1112">
          <span class="hits">19996</span>
          
          <code class="ruby">      value_values = value.map(&amp;:value).compact.uniq</code>
        </li>
      
        <li class="covered" data-hits="19996" data-linenumber="1113">
          <span class="hits">19996</span>
          
          <code class="ruby">      if value_values.size &lt;= 1</code>
        </li>
      
        <li class="covered" data-hits="16920" data-linenumber="1114">
          <span class="hits">16920</span>
          
          <code class="ruby">        m = value.first.value</code>
        </li>
      
        <li class="covered" data-hits="16920" data-linenumber="1115">
          <span class="hits">16920</span>
          
          <code class="ruby">        merged &lt;&lt; m</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1116">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="3076" data-linenumber="1117">
          <span class="hits">3076</span>
          
          <code class="ruby">        if values.variables.empty?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1118">
          <span class="hits">1</span>
          
          <code class="ruby">          msg = &quot;Cannot unify enough elements: #{values.map(&amp;:inspect).join(&#39; with &#39;)}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1119">
          <span class="hits">1</span>
          
          <code class="ruby">          arrays_goals.uniq.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="1120">
          <span class="hits">3</span>
          
          <code class="ruby">            goal.log &lt;&lt; msg</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1121">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1122">
          <span class="hits">1</span>
          
          <code class="ruby">          return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1123">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="15383" data-linenumber="1124">
          <span class="hits">15383</span>
          
          <code class="ruby">          _variables, nonvariables = values.reject{|v| v.value.nil? }.partition{|element| element.type == :variable }</code>
        </li>
      
        <li class="covered" data-hits="3075" data-linenumber="1125">
          <span class="hits">3075</span>
          
          <code class="ruby">          if nonvariables.value.uniq.size &lt;= 1</code>
        </li>
      
        <li class="covered" data-hits="3074" data-linenumber="1126">
          <span class="hits">3074</span>
          
          <code class="ruby">            m = nonvariables.first.value</code>
        </li>
      
        <li class="covered" data-hits="3074" data-linenumber="1127">
          <span class="hits">3074</span>
          
          <code class="ruby">            merged &lt;&lt; m</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1128">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="covered" data-hits="3074" data-linenumber="1129">
          <span class="hits">3074</span>
          
          <code class="ruby">            value.combination(2).each do |vl, vr|</code>
        </li>
      
        <li class="covered" data-hits="3080" data-linenumber="1130">
          <span class="hits">3080</span>
          
          <code class="ruby">              if vl.type == :variable</code>
        </li>
      
        <li class="covered" data-hits="3065" data-linenumber="1131">
          <span class="hits">3065</span>
          
          <code class="ruby">                unifications &lt;&lt; [vl, vr, vl.goal, vr.goal]</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="1132">
          <span class="hits">15</span>
          
          <code class="ruby">              elsif vr.type == :variable</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="1133">
          <span class="hits">14</span>
          
          <code class="ruby">                unifications &lt;&lt; [vr, vl, vr.goal, vl.goal]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1134">
          
          
          <code class="ruby">              end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1135">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1136">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1137">
          <span class="hits">1</span>
          
          <code class="ruby">            msg = &quot;Cannot unify non-variables: #{nonvariables.value.uniq.map(&amp;:inspect).join(&#39; with &#39;)}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1138">
          <span class="hits">1</span>
          
          <code class="ruby">            arrays_goals.uniq.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="1139">
          <span class="hits">3</span>
          
          <code class="ruby">              goal.log &lt;&lt; msg</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1140">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1141">
          <span class="hits">1</span>
          
          <code class="ruby">            return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1142">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1143">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1144">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1145">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1146">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1147">
          
          
          <code class="ruby">    # -- Unify Tails --</code>
        </li>
      
        <li class="covered" data-hits="15831" data-linenumber="1148">
          <span class="hits">15831</span>
          
          <code class="ruby">    tails.each do |head_size,tail,goal|</code>
        </li>
      
        <li class="covered" data-hits="18588" data-linenumber="1149">
          <span class="hits">18588</span>
          
          <code class="ruby">      next if tail == UNKNOWN_TAIL</code>
        </li>
      
        <li class="covered" data-hits="15821" data-linenumber="1150">
          <span class="hits">15821</span>
          
          <code class="ruby">      merged_goals = arrays_goals - [goal] + [goal]</code>
        </li>
      
        <li class="covered" data-hits="15821" data-linenumber="1151">
          <span class="hits">15821</span>
          
          <code class="ruby">      unifications &lt;&lt; [tail.value(visited).value(visited), merged[head_size..-1], goal, merged_goals.compact.first]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1152">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1153">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="15831" data-linenumber="1154">
          <span class="hits">15831</span>
          
          <code class="ruby">    [merged, unifications]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1155">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1156">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1157">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1158">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1159">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;porolog/core_ext&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1160">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;porolog/error&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1161">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;porolog/scope&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1162">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;porolog/predicate&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1163">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;porolog/predicate/builtin&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1164">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;porolog/arguments&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1165">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;porolog/rule&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1166">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;porolog/goal&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1167">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;porolog/variable&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1168">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;porolog/value&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1169">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;porolog/instantiation&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1170">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;porolog/tail&#39;</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="9025830706c26c7c9aeb091802592d13103e9a4a">
  <div class="header">
    <h3>lib/porolog/arguments.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>59</b> relevant lines. 
      <span class="green"><b>59</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   lib/porolog/arguments.rb      - Plain Old Ruby Objects Prolog Engine -- Arguments</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban   2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">module Porolog</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">  # A Porolog::Arguments specifies arguments of a Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  # A predicate is not like a subroutine, although there are many similarities.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">  # An Arguments represents an instance of a predicate with a specific set of arguments.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  # This forms the basis for implementing a goal to solve the predicate with those specific arguments.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  # @author Luis Esteban</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  # @!attribute [r] predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  #   The Predicate for which these are the arguments.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  # @!attribute [r] arguments</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  #   The actual arguments.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="21">
          <span class="hits">1</span>
          
          <code class="ruby">  class Arguments</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="23">
          <span class="hits">1</span>
          
          <code class="ruby">    attr_reader :predicate, :arguments, :block</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">    # Unregisters all Arguments</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">    # @return [true]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="27">
          <span class="hits">1</span>
          
          <code class="ruby">    def self.reset</code>
        </li>
      
        <li class="covered" data-hits="721" data-linenumber="28">
          <span class="hits">721</span>
          
          <code class="ruby">      @@arguments = []</code>
        </li>
      
        <li class="covered" data-hits="721" data-linenumber="29">
          <span class="hits">721</span>
          
          <code class="ruby">      true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="32">
          <span class="hits">1</span>
          
          <code class="ruby">    reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">    # Creates a new Arguments for a Predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">    # @param predicate [Porolog::Predicate] the Predicate for which these are the arguments</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">    # @param arguments [Array&lt;Object&gt;] the actual arguments</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="37">
          <span class="hits">1</span>
          
          <code class="ruby">    def initialize(predicate, arguments, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="8817" data-linenumber="38">
          <span class="hits">8817</span>
          
          <code class="ruby">      @predicate = predicate</code>
        </li>
      
        <li class="covered" data-hits="8817" data-linenumber="39">
          <span class="hits">8817</span>
          
          <code class="ruby">      @arguments = arguments</code>
        </li>
      
        <li class="covered" data-hits="8817" data-linenumber="40">
          <span class="hits">8817</span>
          
          <code class="ruby">      @block     = block</code>
        </li>
      
        <li class="covered" data-hits="8817" data-linenumber="41">
          <span class="hits">8817</span>
          
          <code class="ruby">      @@arguments &lt;&lt; self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">    # Convenience method for testing/debugging</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">    # @return [Array&lt;Porolog::Arguments&gt;] all registered Arguments</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="46">
          <span class="hits">1</span>
          
          <code class="ruby">    def self.arguments</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="47">
          <span class="hits">7</span>
          
          <code class="ruby">      @@arguments</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">    # Convenience method for testing/debugging</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">    # @return [String] pretty identification</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="52">
          <span class="hits">1</span>
          
          <code class="ruby">    def myid</code>
        </li>
      
        <li class="covered" data-hits="19" data-linenumber="53">
          <span class="hits">19</span>
          
          <code class="ruby">      &quot;Arguments#{(@@arguments.index(self) || -1000) + 1}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">    # @return [String] pretty representation</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="57">
          <span class="hits">1</span>
          
          <code class="ruby">    def inspect</code>
        </li>
      
        <li class="covered" data-hits="7431" data-linenumber="58">
          <span class="hits">7431</span>
          
          <code class="ruby">      block_inspect = block.nil? ? &#39;&#39; : &quot;{#{block.inspect}}&quot;</code>
        </li>
      
        <li class="covered" data-hits="7431" data-linenumber="59">
          <span class="hits">7431</span>
          
          <code class="ruby">      &quot;#{@predicate&amp;.name}(#{@arguments&amp;.map(&amp;:inspect).join(&#39;,&#39;)})#{block_inspect}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">    # Creates a fact rule that states that these arguments satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">    # @return [Porolog::Arguments] the Arguments</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="64">
          <span class="hits">1</span>
          
          <code class="ruby">    def fact!</code>
        </li>
      
        <li class="covered" data-hits="91" data-linenumber="65">
          <span class="hits">91</span>
          
          <code class="ruby">      @predicate &lt;&lt; Rule.new(self, true)</code>
        </li>
      
        <li class="covered" data-hits="91" data-linenumber="66">
          <span class="hits">91</span>
          
          <code class="ruby">      self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">    # Creates a fact rule that states that these arguments do not satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">    # @return [Porolog::Arguments] the Arguments</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="71">
          <span class="hits">1</span>
          
          <code class="ruby">    def falicy!</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="72">
          <span class="hits">4</span>
          
          <code class="ruby">      @predicate &lt;&lt; Rule.new(self, false)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="73">
          <span class="hits">4</span>
          
          <code class="ruby">      self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">    # Creates a fact rule that states that these arguments satisfy the Predicate and terminates solving the predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">    # @return [Porolog::Arguments] the Arguments</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="78">
          <span class="hits">1</span>
          
          <code class="ruby">    def cut_fact!</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="79">
          <span class="hits">4</span>
          
          <code class="ruby">      @predicate &lt;&lt; Rule.new(self, [:CUT, true])</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="80">
          <span class="hits">4</span>
          
          <code class="ruby">      self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">    # Creates a fact rule that states that these arguments do not satisfy the Predicate and terminates solving the predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">    # @return [Porolog::Arguments] the Arguments</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="85">
          <span class="hits">1</span>
          
          <code class="ruby">    def cut_falicy!</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="86">
          <span class="hits">2</span>
          
          <code class="ruby">      @predicate &lt;&lt; Rule.new(self, [:CUT, false])</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="87">
          <span class="hits">2</span>
          
          <code class="ruby">      self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">    # Adds a Rule to the Predicate for these Arguments</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">    # @param definition [Array&lt;Object&gt;, Object] the Rule definition for these Arguments</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">    # @return [Porolog::Arguments] the Arguments</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="93">
          <span class="hits">1</span>
          
          <code class="ruby">    def &lt;&lt;(*definition)</code>
        </li>
      
        <li class="covered" data-hits="58" data-linenumber="94">
          <span class="hits">58</span>
          
          <code class="ruby">      @predicate &lt;&lt; Rule.new(self, *definition)</code>
        </li>
      
        <li class="covered" data-hits="58" data-linenumber="95">
          <span class="hits">58</span>
          
          <code class="ruby">      self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">    # Adds an evaluation Rule to the Predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">    # @param block the block to evaluate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">    # @return [Porolog::Arguments] the Arguments</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="101">
          <span class="hits">1</span>
          
          <code class="ruby">    def evaluates(&amp;block)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="102">
          <span class="hits">1</span>
          
          <code class="ruby">      @predicate &lt;&lt; Rule.new(self, block)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="103">
          <span class="hits">1</span>
          
          <code class="ruby">      self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">    # @return [Array&lt;Symbol&gt;] the variables contained in the arguments</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="107">
          <span class="hits">1</span>
          
          <code class="ruby">    def variables</code>
        </li>
      
        <li class="covered" data-hits="7406" data-linenumber="108">
          <span class="hits">7406</span>
          
          <code class="ruby">      @arguments.map(&amp;:variables).flatten.uniq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">    # Creates a Goal for solving this Arguments for the Predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">    # @param calling_goal [Porolog::Goal] the parent Goal (if this is a subgoal)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">    # @return [Porolog::Goal] the Goal to solve</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="114">
          <span class="hits">1</span>
          
          <code class="ruby">    def goal(calling_goal = nil)</code>
        </li>
      
        <li class="covered" data-hits="4733" data-linenumber="115">
          <span class="hits">4733</span>
          
          <code class="ruby">      Goal.new(self, calling_goal)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">    # Returns memoized solutions</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">    # @param max_solutions [Integer] the maximum number of solutions to find (nil means find all)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">    # @return [Array&lt;Hash{Symbol =&gt; Object}&gt;] the solutions found (memoized)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="121">
          <span class="hits">1</span>
          
          <code class="ruby">    def solutions(max_solutions = nil)</code>
        </li>
      
        <li class="covered" data-hits="18" data-linenumber="122">
          <span class="hits">18</span>
          
          <code class="ruby">      @solutions ||= solve(max_solutions)</code>
        </li>
      
        <li class="covered" data-hits="18" data-linenumber="123">
          <span class="hits">18</span>
          
          <code class="ruby">      max_solutions &amp;&amp; @solutions[0...max_solutions] || @solutions</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">    # Solves the Arguments</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">    # @param max_solutions [Integer] the maximum number of solutions to find (nil means find all)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">    # @return [Array&lt;Hash{Symbol =&gt; Object}&gt;] the solutions found</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="129">
          <span class="hits">1</span>
          
          <code class="ruby">    def solve(max_solutions = nil)</code>
        </li>
      
        <li class="covered" data-hits="235" data-linenumber="130">
          <span class="hits">235</span>
          
          <code class="ruby">      @solutions = goal.solve(max_solutions)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">    # Extracts solution values.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">    # @param variables [Symbol, Array&lt;Symbol&gt;] variable or variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby">    # @param max_solutions [Integer] the maximum number of solutions to find (nil means find all)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">    # @return [Array&lt;Object&gt;] all the values for the variables given</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">    # @example</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">    #   predicate :treasure_at</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">    #   treasure_at(:X,:Y) &lt;&lt; [...]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby">    #   arguments = treasure_at(:X,:Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby">    #   xs = arguments.solve_for(:X)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">    #   ys = arguments.solve_for(:Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby">    #   coords = xs.zip(ys)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="144">
          <span class="hits">1</span>
          
          <code class="ruby">    def solve_for(*variables, max_solutions: nil)</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="145">
          <span class="hits">6</span>
          
          <code class="ruby">      variables = [*variables]</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="146">
          <span class="hits">6</span>
          
          <code class="ruby">      solutions(max_solutions).map{|solution|</code>
        </li>
      
        <li class="covered" data-hits="131" data-linenumber="147">
          <span class="hits">131</span>
          
          <code class="ruby">        values = variables.map{|variable| solution[variable] }</code>
        </li>
      
        <li class="covered" data-hits="65" data-linenumber="148">
          <span class="hits">65</span>
          
          <code class="ruby">        if values.size == 1</code>
        </li>
      
        <li class="covered" data-hits="64" data-linenumber="149">
          <span class="hits">64</span>
          
          <code class="ruby">          values.first</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="151">
          <span class="hits">1</span>
          
          <code class="ruby">          values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">    # @return [Boolean] whether any solutions were found</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="157">
          <span class="hits">1</span>
          
          <code class="ruby">    def valid?</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="158">
          <span class="hits">7</span>
          
          <code class="ruby">      !solutions(1).empty?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby">    # Duplicates the Arguments in the context of the given goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">    # @param goal [Porolog::Goal] the destination goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">    # @return [Porolog::Arguments] the duplicated Arguments</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="164">
          <span class="hits">1</span>
          
          <code class="ruby">    def dup(goal)</code>
        </li>
      
        <li class="covered" data-hits="7402" data-linenumber="165">
          <span class="hits">7402</span>
          
          <code class="ruby">      self.class.new @predicate, goal.variablise(arguments), &amp;@block</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">    # @param other [Porolog::Arguments] arguments for comparison</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">    # @return [Boolean] whether the Arguments match</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="170">
          <span class="hits">1</span>
          
          <code class="ruby">    def ==(other)</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="171">
          <span class="hits">21</span>
          
          <code class="ruby">      @predicate == other.predicate &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="172">
          
          
          <code class="ruby">      @arguments == other.arguments</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="174">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="176">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="6e0d5c7f9f10f73d8901653d30b98bff5e4558c2">
  <div class="header">
    <h3>lib/porolog/core_ext.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>74</b> relevant lines. 
      <span class="green"><b>74</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   lib/porolog/core_ext.rb      - Plain Old Ruby Objects Prolog Engine -- Core Extensions</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban   2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"># @author Luis Esteban</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"># Extends Core Ruy Classes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"># In Porolog, Objects represent atomic values.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="12">
          <span class="hits">1</span>
          
          <code class="ruby">class Object</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  # A convenience method for testing/debugging.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  # @return [String] the equivalent of inspect.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="16">
          <span class="hits">1</span>
          
          <code class="ruby">  def myid</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">    inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  # @return [Array] embedded variables (for an Object, should be none).</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="21">
          <span class="hits">1</span>
          
          <code class="ruby">  def variables</code>
        </li>
      
        <li class="covered" data-hits="120033" data-linenumber="22">
          <span class="hits">120033</span>
          
          <code class="ruby">    []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">  # @return [Symbol] the type of the object (for an Object, should be :atomic)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="26">
          <span class="hits">1</span>
          
          <code class="ruby">  def type</code>
        </li>
      
        <li class="covered" data-hits="706916" data-linenumber="27">
          <span class="hits">706916</span>
          
          <code class="ruby">    :atomic</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">  # @return [Object] the value of the object, which is itself.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="31">
          <span class="hits">1</span>
          
          <code class="ruby">  def value(*)</code>
        </li>
      
        <li class="covered" data-hits="1497777" data-linenumber="32">
          <span class="hits">1497777</span>
          
          <code class="ruby">    self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">  # @param other [Object] the Object which is to be the tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">  # @return [Array] an Array with the Object being the head and the other Object being the tail.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">  # @example</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">  #   &#39;head&#39; / [&#39;body&#39;, &#39;foot&#39;]   # ==&gt; [&#39;head&#39;, &#39;body&#39;, &#39;foot&#39;]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">  #   7.tail(:t)                  # ==&gt; [7, *:t]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="40">
          <span class="hits">1</span>
          
          <code class="ruby">  def tail(other)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="41">
          <span class="hits">4</span>
          
          <code class="ruby">    [self]/other</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">  # Syntactic sugar to look like Prolog&#39;s [H|T]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="45">
          <span class="hits">1</span>
          
          <code class="ruby">  alias / :tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">  # @return [Boolean] whether the Object is an Array with a head and a tail (for an Object, should be false).</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="48">
          <span class="hits">1</span>
          
          <code class="ruby">  def headtail?</code>
        </li>
      
        <li class="covered" data-hits="24857" data-linenumber="49">
          <span class="hits">24857</span>
          
          <code class="ruby">    false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby"># In Porolog, Symbols represent Variables.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="56">
          <span class="hits">1</span>
          
          <code class="ruby">class Symbol</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">  # A convenience method for testing/debugging.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">  # @return [String] the equivalent of inspect.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="60">
          <span class="hits">1</span>
          
          <code class="ruby">  def myid</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="61">
          <span class="hits">5</span>
          
          <code class="ruby">    inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">  # @return [Array] embedded variables (for a Symbol, should be itself).</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="65">
          <span class="hits">1</span>
          
          <code class="ruby">  def variables</code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="66">
          <span class="hits">38</span>
          
          <code class="ruby">    [self]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">  # @return [Symbol] the type of the object (for a Symbol, should be :variable)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="70">
          <span class="hits">1</span>
          
          <code class="ruby">  def type</code>
        </li>
      
        <li class="covered" data-hits="70192" data-linenumber="71">
          <span class="hits">70192</span>
          
          <code class="ruby">    :variable</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">  # @param other [Object] the Object which is to be the tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">  # @return [Array] an Array with the Object being the head and the other Object being the tail.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="76">
          <span class="hits">1</span>
          
          <code class="ruby">  def /(other)</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="77">
          <span class="hits">17</span>
          
          <code class="ruby">    [self]/other</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby"># In Porolog, Arrays are the equivalent of lists.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="84">
          <span class="hits">1</span>
          
          <code class="ruby">class Array</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">  # @return [Array] embedded variables.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="87">
          <span class="hits">1</span>
          
          <code class="ruby">  def variables</code>
        </li>
      
        <li class="covered" data-hits="145190" data-linenumber="88">
          <span class="hits">145190</span>
          
          <code class="ruby">    map(&amp;:variables).flatten</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">  # @return [Array] the values of its elements.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="92">
          <span class="hits">1</span>
          
          <code class="ruby">  def value(visited = [])</code>
        </li>
      
        <li class="covered" data-hits="1269273" data-linenumber="93">
          <span class="hits">1269273</span>
          
          <code class="ruby">    return self if visited.include?(self)</code>
        </li>
      
        <li class="covered" data-hits="1269273" data-linenumber="94">
          <span class="hits">1269273</span>
          
          <code class="ruby">    visited = visited + [self]</code>
        </li>
      
        <li class="covered" data-hits="1269273" data-linenumber="95">
          <span class="hits">1269273</span>
          
          <code class="ruby">    flat_map{|element|</code>
        </li>
      
        <li class="covered" data-hits="707793" data-linenumber="96">
          <span class="hits">707793</span>
          
          <code class="ruby">      if element.is_a?(Tail)</code>
        </li>
      
        <li class="covered" data-hits="5398" data-linenumber="97">
          <span class="hits">5398</span>
          
          <code class="ruby">        tail = element.value(visited)</code>
        </li>
      
        <li class="covered" data-hits="5398" data-linenumber="98">
          <span class="hits">5398</span>
          
          <code class="ruby">        if tail.is_a?(Array)</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="99">
          <span class="hits">6</span>
          
          <code class="ruby">          tail</code>
        </li>
      
        <li class="covered" data-hits="5392" data-linenumber="100">
          <span class="hits">5392</span>
          
          <code class="ruby">        elsif tail.is_a?(Variable) || tail.is_a?(Value)</code>
        </li>
      
        <li class="covered" data-hits="5213" data-linenumber="101">
          <span class="hits">5213</span>
          
          <code class="ruby">          tail = tail.value(visited)</code>
        </li>
      
        <li class="covered" data-hits="5213" data-linenumber="102">
          <span class="hits">5213</span>
          
          <code class="ruby">          if tail.is_a?(Array)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="103">
          <span class="hits">1</span>
          
          <code class="ruby">            tail</code>
        </li>
      
        <li class="covered" data-hits="5212" data-linenumber="104">
          <span class="hits">5212</span>
          
          <code class="ruby">          elsif tail.is_a?(Variable) || tail.is_a?(Value)</code>
        </li>
      
        <li class="covered" data-hits="4642" data-linenumber="105">
          <span class="hits">4642</span>
          
          <code class="ruby">            tail = tail.goal.variablise(tail.value(visited))</code>
        </li>
      
        <li class="covered" data-hits="4642" data-linenumber="106">
          <span class="hits">4642</span>
          
          <code class="ruby">            if tail.is_a?(Array)</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="107">
          <span class="hits">32</span>
          
          <code class="ruby">              tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="covered" data-hits="4610" data-linenumber="109">
          <span class="hits">4610</span>
          
          <code class="ruby">              [element]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="570" data-linenumber="112">
          <span class="hits">570</span>
          
          <code class="ruby">            [element]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="179" data-linenumber="115">
          <span class="hits">179</span>
          
          <code class="ruby">          [element]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="702395" data-linenumber="118">
          <span class="hits">702395</span>
          
          <code class="ruby">        [element.value(visited)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">  # Removes Porolog processing objects.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">  # @return [Array] the values of its elements with variables replaced by nil and Tails replaced by UNKNOWN_TAIL.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="125">
          <span class="hits">1</span>
          
          <code class="ruby">  def clean</code>
        </li>
      
        <li class="covered" data-hits="1865" data-linenumber="126">
          <span class="hits">1865</span>
          
          <code class="ruby">    value.map{|element|</code>
        </li>
      
        <li class="covered" data-hits="4091" data-linenumber="127">
          <span class="hits">4091</span>
          
          <code class="ruby">      if element.is_a?(Array)</code>
        </li>
      
        <li class="covered" data-hits="280" data-linenumber="128">
          <span class="hits">280</span>
          
          <code class="ruby">        element.clean</code>
        </li>
      
        <li class="covered" data-hits="3811" data-linenumber="129">
          <span class="hits">3811</span>
          
          <code class="ruby">      elsif element.is_a?(Tail)</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="130">
          <span class="hits">7</span>
          
          <code class="ruby">        UNKNOWN_TAIL</code>
        </li>
      
        <li class="covered" data-hits="3804" data-linenumber="131">
          <span class="hits">3804</span>
          
          <code class="ruby">      elsif element.is_a?(Variable)</code>
        </li>
      
        <li class="covered" data-hits="439" data-linenumber="132">
          <span class="hits">439</span>
          
          <code class="ruby">        nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="3365" data-linenumber="134">
          <span class="hits">3365</span>
          
          <code class="ruby">        element.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">  # @return [Symbol] the type of the object (for an Array, should be :array)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="140">
          <span class="hits">1</span>
          
          <code class="ruby">  def type</code>
        </li>
      
        <li class="covered" data-hits="339960" data-linenumber="141">
          <span class="hits">339960</span>
          
          <code class="ruby">    :array</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby">  # @param other [Object] the Object which is to be the tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby">  # @return [Array] an Array with the Object being the head and the other Object being the tail.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="146">
          <span class="hits">1</span>
          
          <code class="ruby">  def /(other)</code>
        </li>
      
        <li class="covered" data-hits="116" data-linenumber="147">
          <span class="hits">116</span>
          
          <code class="ruby">    if other.is_a?(Porolog::Variable) || other.is_a?(Symbol)</code>
        </li>
      
        <li class="covered" data-hits="110" data-linenumber="148">
          <span class="hits">110</span>
          
          <code class="ruby">      self + [Tail.new(other)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="150">
          <span class="hits">6</span>
          
          <code class="ruby">      self + [*other]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">  # @param head_size [Integer] specifies the size of the head</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby">  # @return [Object] the head of the Array</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="156">
          <span class="hits">1</span>
          
          <code class="ruby">  def head(head_size = 1)</code>
        </li>
      
        <li class="covered" data-hits="13629" data-linenumber="157">
          <span class="hits">13629</span>
          
          <code class="ruby">    if head_size == 1</code>
        </li>
      
        <li class="covered" data-hits="13621" data-linenumber="158">
          <span class="hits">13621</span>
          
          <code class="ruby">      if first == Porolog::UNKNOWN_TAIL</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby">        nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="13619" data-linenumber="161">
          <span class="hits">13619</span>
          
          <code class="ruby">        first</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="164">
          <span class="hits">8</span>
          
          <code class="ruby">      self[0...head_size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">  # @param head_size [Integer] specifies the size of the head</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">  # @return [Object] the tail of the Array</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="170">
          <span class="hits">1</span>
          
          <code class="ruby">  def tail(head_size = 1)</code>
        </li>
      
        <li class="covered" data-hits="25466" data-linenumber="171">
          <span class="hits">25466</span>
          
          <code class="ruby">    if last == Porolog::UNKNOWN_TAIL</code>
        </li>
      
        <li class="covered" data-hits="24876" data-linenumber="172">
          <span class="hits">24876</span>
          
          <code class="ruby">      [*self[head_size..-2], Porolog::UNKNOWN_TAIL]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="590" data-linenumber="174">
          <span class="hits">590</span>
          
          <code class="ruby">      [*self[head_size..-1]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="176">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">  # @return [Boolean] whether the Object is an Array with a head and a tail.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="179">
          <span class="hits">1</span>
          
          <code class="ruby">  def headtail?</code>
        </li>
      
        <li class="covered" data-hits="124471" data-linenumber="180">
          <span class="hits">124471</span>
          
          <code class="ruby">    length == 2 &amp;&amp; (last.is_a?(Tail) || last == UNKNOWN_TAIL)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="181">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="183">
          
          
          <code class="ruby">  # @return [Porolog::Goal] the goal that is most likely to be the goal for this array.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="184">
          <span class="hits">1</span>
          
          <code class="ruby">  def goal</code>
        </li>
      
        <li class="covered" data-hits="166180" data-linenumber="185">
          <span class="hits">166180</span>
          
          <code class="ruby">    map{|element| element.goal if element.respond_to?(:goal) }.flatten.find{|goal| goal.is_a?(Porolog::Goal) }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="186">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="187">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="fd16fdc9d6b0b94bf47951f193785951b9d9bb48">
  <div class="header">
    <h3>lib/porolog/error.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>4</b> relevant lines. 
      <span class="green"><b>4</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   lib/porolog/error.rb      - Plain Old Ruby Objects Prolog Engine -- Error</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban   2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">module Porolog</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">  # Error class to enable rescuing or detecting any Porolog error.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">  # @author Luis Esteban</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="14">
          <span class="hits">1</span>
          
          <code class="ruby">  class PorologError &lt; RuntimeError ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">  # Error indicating that a Goal is needed but could not be found.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="17">
          <span class="hits">1</span>
          
          <code class="ruby">  class NoGoalError  &lt; PorologError ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  # Error indicating that a Variable is needed but was not provided.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="20">
          <span class="hits">1</span>
          
          <code class="ruby">  class NonVariableError  &lt; PorologError ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="401ee06f6089cd52cd5e304b1a64688e2ff7a95f">
  <div class="header">
    <h3>lib/porolog/goal.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>146</b> relevant lines. 
      <span class="green"><b>146</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   lib/porolog/goal.rb      - Plain Old Ruby Objects Prolog Engine -- Goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban   2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">module Porolog</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">  # A Porolog::Goal finds solutions for specific Arguments of a Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">  # @author Luis Esteban</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  # @!attribute calling_goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  #   @return [Porolog::Goal, nil] The parent goal if this goal is a subgoal, otherwise nil.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">  # @!attribute arguments</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  #   @return [Porolog::Arguments] The specific Arguments this goal is trying to solve.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  # @!attribute index</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  #   @return [Integer, nil] Solution index for builtin predicates.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  # @!attribute result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  #   @return [Boolean] Whether any result has been found.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">  # @!attribute description</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">  #   @return [String] Description of the Arguments the Goal is attempting to solve.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">  # @!attribute log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">  #   @return [Array&lt;String&gt;] Log of events, namely unification failures.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="27">
          <span class="hits">1</span>
          
          <code class="ruby">  class Goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">    # Error class for rescuing or detecting any Goal error.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="30">
          <span class="hits">1</span>
          
          <code class="ruby">    class Error             &lt; PorologError ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">    # Error class indicating an unexpected type of Rule definition.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="32">
          <span class="hits">1</span>
          
          <code class="ruby">    class DefinitionError   &lt; Error        ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">    # Error class indicating a non-Variable was attempted to be instantiated.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="34">
          <span class="hits">1</span>
          
          <code class="ruby">    class NotVariableError  &lt; Error        ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">    # Clears all goals and ensures they are deleted.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">    # @return [Boolean] success</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="38">
          <span class="hits">1</span>
          
          <code class="ruby">    def self.reset</code>
        </li>
      
        <li class="covered" data-hits="724" data-linenumber="39">
          <span class="hits">724</span>
          
          <code class="ruby">      @@goals ||= []</code>
        </li>
      
        <li class="covered" data-hits="724" data-linenumber="40">
          <span class="hits">724</span>
          
          <code class="ruby">      goals = @@goals</code>
        </li>
      
        <li class="covered" data-hits="724" data-linenumber="41">
          <span class="hits">724</span>
          
          <code class="ruby">      @@goals = []</code>
        </li>
      
        <li class="covered" data-hits="724" data-linenumber="42">
          <span class="hits">724</span>
          
          <code class="ruby">      @@goal_count = 0</code>
        </li>
      
        <li class="covered" data-hits="724" data-linenumber="43">
          <span class="hits">724</span>
          
          <code class="ruby">      goals.map(&amp;:deleted?)</code>
        </li>
      
        <li class="covered" data-hits="724" data-linenumber="44">
          <span class="hits">724</span>
          
          <code class="ruby">      true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">    # @return [Integer] the number of goals created</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="48">
          <span class="hits">1</span>
          
          <code class="ruby">    def self.goal_count</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="49">
          <span class="hits">9</span>
          
          <code class="ruby">      @@goal_count</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="52">
          <span class="hits">1</span>
          
          <code class="ruby">    reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="54">
          <span class="hits">1</span>
          
          <code class="ruby">    attr_accessor :calling_goal, :arguments, :index, :result, :description, :log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">    # Initializes and registers the Goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">    # @param arguments [Porolog::Arguments] the Predicate Arguments that this Goal is to solve.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">    # @param calling_goal [Porolog::Goal] the parent Goal if this Goal is a subgoal.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="59">
          <span class="hits">1</span>
          
          <code class="ruby">    def initialize(arguments, calling_goal = nil)</code>
        </li>
      
        <li class="covered" data-hits="7398" data-linenumber="60">
          <span class="hits">7398</span>
          
          <code class="ruby">      @@goals &lt;&lt; self</code>
        </li>
      
        <li class="covered" data-hits="7398" data-linenumber="61">
          <span class="hits">7398</span>
          
          <code class="ruby">      @@goal_count += 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="7398" data-linenumber="63">
          <span class="hits">7398</span>
          
          <code class="ruby">      @arguments    = arguments</code>
        </li>
      
        <li class="covered" data-hits="7398" data-linenumber="64">
          <span class="hits">7398</span>
          
          <code class="ruby">      @terminate    = false</code>
        </li>
      
        <li class="covered" data-hits="7398" data-linenumber="65">
          <span class="hits">7398</span>
          
          <code class="ruby">      @calling_goal = calling_goal</code>
        </li>
      
        <li class="covered" data-hits="7398" data-linenumber="66">
          <span class="hits">7398</span>
          
          <code class="ruby">      @variables    = {}</code>
        </li>
      
        <li class="covered" data-hits="7398" data-linenumber="67">
          <span class="hits">7398</span>
          
          <code class="ruby">      @values       = {}</code>
        </li>
      
        <li class="covered" data-hits="7398" data-linenumber="68">
          <span class="hits">7398</span>
          
          <code class="ruby">      @result       = nil</code>
        </li>
      
        <li class="covered" data-hits="7398" data-linenumber="69">
          <span class="hits">7398</span>
          
          <code class="ruby">      @description  = &quot;Solve #{arguments.inspect}&quot;</code>
        </li>
      
        <li class="covered" data-hits="7398" data-linenumber="70">
          <span class="hits">7398</span>
          
          <code class="ruby">      @log          = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="7398" data-linenumber="72">
          <span class="hits">7398</span>
          
          <code class="ruby">      @arguments = @arguments.dup(self) if @arguments.is_a?(Arguments)</code>
        </li>
      
        <li class="covered" data-hits="7398" data-linenumber="73">
          <span class="hits">7398</span>
          
          <code class="ruby">      @solutions = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">    # @return [Array&lt;Porolog::Goal&gt;] the calling chain for this goal.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="77">
          <span class="hits">1</span>
          
          <code class="ruby">    def ancestors</code>
        </li>
      
        <li class="covered" data-hits="377" data-linenumber="78">
          <span class="hits">377</span>
          
          <code class="ruby">      ancestors = []</code>
        </li>
      
        <li class="covered" data-hits="377" data-linenumber="79">
          <span class="hits">377</span>
          
          <code class="ruby">      goal      = self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="377" data-linenumber="81">
          <span class="hits">377</span>
          
          <code class="ruby">      while goal</code>
        </li>
      
        <li class="covered" data-hits="448" data-linenumber="82">
          <span class="hits">448</span>
          
          <code class="ruby">        ancestors &lt;&lt; goal</code>
        </li>
      
        <li class="covered" data-hits="448" data-linenumber="83">
          <span class="hits">448</span>
          
          <code class="ruby">        goal = goal.calling_goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="377" data-linenumber="86">
          <span class="hits">377</span>
          
          <code class="ruby">      ancestors.reverse</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">    # A convenience method for testing/debugging.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">    # @return [String] the calling chain for this goal as a String.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="91">
          <span class="hits">1</span>
          
          <code class="ruby">    def ancestry</code>
        </li>
      
        <li class="covered" data-hits="373" data-linenumber="92">
          <span class="hits">373</span>
          
          <code class="ruby">      indent = -1</code>
        </li>
      
        <li class="covered" data-hits="373" data-linenumber="93">
          <span class="hits">373</span>
          
          <code class="ruby">      ancestors.map do |goal|</code>
        </li>
      
        <li class="covered" data-hits="438" data-linenumber="94">
          <span class="hits">438</span>
          
          <code class="ruby">        indent += 1</code>
        </li>
      
        <li class="covered" data-hits="438" data-linenumber="95">
          <span class="hits">438</span>
          
          <code class="ruby">        &quot;#{&#39;  &#39; * indent}#{goal.myid} -- #{goal.description}  #{goal.variables.inspect}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">      end.join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">    # A convenience method for testing/debugging.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">    # @return [String] the id of the goal.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="101">
          <span class="hits">1</span>
          
          <code class="ruby">    def myid</code>
        </li>
      
        <li class="covered" data-hits="9715" data-linenumber="102">
          <span class="hits">9715</span>
          
          <code class="ruby">      &quot;Goal#{(@@goals.index(self) || -1000) + 1}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">    # @return [String] pretty representation.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="106">
          <span class="hits">1</span>
          
          <code class="ruby">    def inspect</code>
        </li>
      
        <li class="covered" data-hits="1458" data-linenumber="107">
          <span class="hits">1458</span>
          
          <code class="ruby">      &quot;#{myid} -- #{description}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">    # A convenience method for testing/debugging.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">    # @return [Array&lt;Porolog::Goal&gt;]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="112">
          <span class="hits">1</span>
          
          <code class="ruby">    def self.goals</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="113">
          <span class="hits">10</span>
          
          <code class="ruby">      @@goals</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">    # Delete the Goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby">    # @return [Boolean] whether the Goal has been deleted (memoized)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="118">
          <span class="hits">1</span>
          
          <code class="ruby">    def delete!</code>
        </li>
      
        <li class="covered" data-hits="6237" data-linenumber="119">
          <span class="hits">6237</span>
          
          <code class="ruby">      @@goals.delete(self)</code>
        </li>
      
        <li class="covered" data-hits="6237" data-linenumber="120">
          <span class="hits">6237</span>
          
          <code class="ruby">      deleted?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">    # @return [Boolean] whether the Goal has been deleted (memoized)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="124">
          <span class="hits">1</span>
          
          <code class="ruby">    def deleted?</code>
        </li>
      
        <li class="covered" data-hits="7415" data-linenumber="125">
          <span class="hits">7415</span>
          
          <code class="ruby">      @deleted ||= check_deleted</code>
        </li>
      
        <li class="covered" data-hits="7415" data-linenumber="126">
          <span class="hits">7415</span>
          
          <code class="ruby">      @deleted</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby">    # Determines whether the Goal has been deleted and removes its Variables and Values if it has.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">    # @return [Boolean] whether the Goal has been deleted</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="131">
          <span class="hits">1</span>
          
          <code class="ruby">    def check_deleted</code>
        </li>
      
        <li class="covered" data-hits="7407" data-linenumber="132">
          <span class="hits">7407</span>
          
          <code class="ruby">      return false if @@goals.include?(self)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="7392" data-linenumber="134">
          <span class="hits">7392</span>
          
          <code class="ruby">      @variables.delete_if do |_name,variable|</code>
        </li>
      
        <li class="covered" data-hits="31384" data-linenumber="135">
          <span class="hits">31384</span>
          
          <code class="ruby">        variable.remove</code>
        </li>
      
        <li class="covered" data-hits="31384" data-linenumber="136">
          <span class="hits">31384</span>
          
          <code class="ruby">        true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="7392" data-linenumber="139">
          <span class="hits">7392</span>
          
          <code class="ruby">      @values.delete_if do |_name,value|</code>
        </li>
      
        <li class="covered" data-hits="8389" data-linenumber="140">
          <span class="hits">8389</span>
          
          <code class="ruby">        value.remove</code>
        </li>
      
        <li class="covered" data-hits="8389" data-linenumber="141">
          <span class="hits">8389</span>
          
          <code class="ruby">        true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="7392" data-linenumber="144">
          <span class="hits">7392</span>
          
          <code class="ruby">      true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">    # Sets that the goal should no longer search any further rules for the current predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="148">
          
          
          <code class="ruby">    # once the current rule has finished being evaluated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">    # This method implements the :CUT rule.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby">    # That is, backtracking does not go back past the point of the cut.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">    # @return [Boolean] true.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="152">
          <span class="hits">1</span>
          
          <code class="ruby">    def terminate!</code>
        </li>
      
        <li class="covered" data-hits="410" data-linenumber="153">
          <span class="hits">410</span>
          
          <code class="ruby">      @log &lt;&lt; &#39;terminating&#39;</code>
        </li>
      
        <li class="covered" data-hits="410" data-linenumber="154">
          <span class="hits">410</span>
          
          <code class="ruby">      @terminate = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">    # @return [Boolean] whether the goal has been cut.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="158">
          <span class="hits">1</span>
          
          <code class="ruby">    def terminated?</code>
        </li>
      
        <li class="covered" data-hits="3142" data-linenumber="159">
          <span class="hits">3142</span>
          
          <code class="ruby">      @terminate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">    # Converts all embedded Symbols to Variables within this Goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">    # @param object [Object] the object to variablise.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="164">
          
          
          <code class="ruby">    # @return [Object] the variablised object.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="165">
          <span class="hits">1</span>
          
          <code class="ruby">    def variablise(object)</code>
        </li>
      
        <li class="covered" data-hits="94030" data-linenumber="166">
          <span class="hits">94030</span>
          
          <code class="ruby">      case object</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">        when Symbol,Variable</code>
        </li>
      
        <li class="covered" data-hits="21464" data-linenumber="168">
          <span class="hits">21464</span>
          
          <code class="ruby">          variable(object)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">        when Array</code>
        </li>
      
        <li class="covered" data-hits="73493" data-linenumber="170">
          <span class="hits">73493</span>
          
          <code class="ruby">          object.map{|element| variablise(element) }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="171">
          
          
          <code class="ruby">        when Arguments</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="172">
          <span class="hits">4</span>
          
          <code class="ruby">          object.dup(self)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby">        when Tail</code>
        </li>
      
        <li class="covered" data-hits="1004" data-linenumber="174">
          <span class="hits">1004</span>
          
          <code class="ruby">          Tail.new variablise(object.value)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby">        when Value</code>
        </li>
      
        <li class="covered" data-hits="18922" data-linenumber="176">
          <span class="hits">18922</span>
          
          <code class="ruby">          object</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">        when NilClass</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">          nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="179">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="9316" data-linenumber="180">
          <span class="hits">9316</span>
          
          <code class="ruby">          if [UNKNOWN_TAIL, UNKNOWN_ARRAY].include?(object)</code>
        </li>
      
        <li class="covered" data-hits="2797" data-linenumber="181">
          <span class="hits">2797</span>
          
          <code class="ruby">            object</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="6519" data-linenumber="183">
          <span class="hits">6519</span>
          
          <code class="ruby">            value(object)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="184">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="186">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="187">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="188">
          <span class="hits">1</span>
          
          <code class="ruby">    alias [] variablise</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="190">
          
          
          <code class="ruby">    # @return [Hash{Symbol =&gt; Object}] the Variables and their current values of this Goal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="191">
          <span class="hits">1</span>
          
          <code class="ruby">    def variables</code>
        </li>
      
        <li class="covered" data-hits="5033" data-linenumber="192">
          <span class="hits">5033</span>
          
          <code class="ruby">      @variables.keys.each_with_object({}){|variable,variable_list|</code>
        </li>
      
        <li class="covered" data-hits="24663" data-linenumber="193">
          <span class="hits">24663</span>
          
          <code class="ruby">        value = value_of(variable).value.value</code>
        </li>
      
        <li class="covered" data-hits="24663" data-linenumber="194">
          <span class="hits">24663</span>
          
          <code class="ruby">        if value.is_a?(Variable)</code>
        </li>
      
        <li class="covered" data-hits="6026" data-linenumber="195">
          <span class="hits">6026</span>
          
          <code class="ruby">          variable_list[variable] = nil</code>
        </li>
      
        <li class="covered" data-hits="18637" data-linenumber="196">
          <span class="hits">18637</span>
          
          <code class="ruby">        elsif value.is_a?(Array)</code>
        </li>
      
        <li class="covered" data-hits="1578" data-linenumber="197">
          <span class="hits">1578</span>
          
          <code class="ruby">          variable_list[variable] = value.clean</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="198">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="17059" data-linenumber="199">
          <span class="hits">17059</span>
          
          <code class="ruby">          variable_list[variable] = value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="200">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="202">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="203">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby">    # A convenience method for testing/debugging.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby">    # @return [String] a tree representation of all the instantiations of this goal&#39;s variables.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="206">
          <span class="hits">1</span>
          
          <code class="ruby">    def inspect_variables</code>
        </li>
      
        <li class="covered" data-hits="525" data-linenumber="207">
          <span class="hits">525</span>
          
          <code class="ruby">      @variables.values.map(&amp;:inspect_with_instantiations).join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="208">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="209">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="210">
          
          
          <code class="ruby">    # A convenience method for testing/debugging.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby">    # @return [Array&lt;Object&gt;] the values instantiated for this goal.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="212">
          <span class="hits">1</span>
          
          <code class="ruby">    def values</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="213">
          <span class="hits">4</span>
          
          <code class="ruby">      @values.values.map(&amp;:value)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="214">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="215">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">    # Finds or tries to create a variable in the goal (as much as possible) otherwise passes the parameter back.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="217">
          
          
          <code class="ruby">    # @param name [Object] name of variable or variable</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="218">
          
          
          <code class="ruby">    # @return [Porolog::Variable, Object] a variable of the goal or the original parameter</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="219">
          <span class="hits">1</span>
          
          <code class="ruby">    def variable(name)</code>
        </li>
      
        <li class="covered" data-hits="251897" data-linenumber="220">
          <span class="hits">251897</span>
          
          <code class="ruby">      return name unless name.is_a?(Symbol) || name.is_a?(Variable)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="221">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="248460" data-linenumber="222">
          <span class="hits">248460</span>
          
          <code class="ruby">      if name.is_a?(Variable)</code>
        </li>
      
        <li class="covered" data-hits="114650" data-linenumber="223">
          <span class="hits">114650</span>
          
          <code class="ruby">        variable = name</code>
        </li>
      
        <li class="covered" data-hits="114650" data-linenumber="224">
          <span class="hits">114650</span>
          
          <code class="ruby">        @variables[variable.name] = variable if variable.goal == self</code>
        </li>
      
        <li class="covered" data-hits="114650" data-linenumber="225">
          <span class="hits">114650</span>
          
          <code class="ruby">        return variable</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="226">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="227">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="133810" data-linenumber="228">
          <span class="hits">133810</span>
          
          <code class="ruby">      @variables[name] ||= (name.is_a?(Variable) &amp;&amp; name || Variable.new(name, self))</code>
        </li>
      
        <li class="covered" data-hits="133810" data-linenumber="229">
          <span class="hits">133810</span>
          
          <code class="ruby">      @variables[name]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="230">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="231">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="232">
          
          
          <code class="ruby">    # @param value [Object] the value that needs to be associated with this Goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby">    # @return [Porolog::Value] a Value, ensuring it has been associated with this Goal so that it can be uninstantiated.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="234">
          <span class="hits">1</span>
          
          <code class="ruby">    def value(value)</code>
        </li>
      
        <li class="covered" data-hits="17419" data-linenumber="235">
          <span class="hits">17419</span>
          
          <code class="ruby">      @values[value] ||= Value.new(value, self)</code>
        </li>
      
        <li class="covered" data-hits="17419" data-linenumber="236">
          <span class="hits">17419</span>
          
          <code class="ruby">      @values[value]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="237">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="238">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby">    # Returns the value of the indicated variable or value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="240">
          
          
          <code class="ruby">    # @param name [Symbol, Object] name of the variable or value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="241">
          
          
          <code class="ruby">    # @param index [Object] index is not yet used</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="242">
          
          
          <code class="ruby">    # @param visited [Array] used to avoid infinite recursion</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="243">
          
          
          <code class="ruby">    # @return [Object] the value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="244">
          <span class="hits">1</span>
          
          <code class="ruby">    def value_of(name, index = nil, visited = [])</code>
        </li>
      
        <li class="covered" data-hits="140314" data-linenumber="245">
          <span class="hits">140314</span>
          
          <code class="ruby">      variable(name).value(visited)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="246">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="247">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="248">
          
          
          <code class="ruby">    # Returns the values of an Object.  For most objects, this will basically just be the object.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="249">
          
          
          <code class="ruby">    # For Arrays, an Array will be returned where the elements are the value of the elements.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="250">
          
          
          <code class="ruby">    # @param object [Object] the Object to find the values of.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="251">
          
          
          <code class="ruby">    # @return [Object,Array&lt;Object&gt;] the value(s) of the object.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="252">
          <span class="hits">1</span>
          
          <code class="ruby">    def values_of(object)</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="253">
          <span class="hits">16</span>
          
          <code class="ruby">      case object</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="254">
          
          
          <code class="ruby">        when Array</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="255">
          <span class="hits">12</span>
          
          <code class="ruby">          object.map{|element| values_of(element) }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="256">
          
          
          <code class="ruby">        when Variable,Symbol,Value</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="257">
          <span class="hits">5</span>
          
          <code class="ruby">          value_of(object)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="258">
          
          
          <code class="ruby">        when Tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="259">
          
          
          <code class="ruby">          # TODO: This needs to splat outwards; in the meantime, it splats just the first.</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="260">
          <span class="hits">2</span>
          
          <code class="ruby">          value_of(object.value).first</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="261">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="262">
          <span class="hits">6</span>
          
          <code class="ruby">          object</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="263">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="264">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="265">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="266">
          
          
          <code class="ruby">    # Finds all possible solutions to the Predicate for the specific Arguments.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="267">
          
          
          <code class="ruby">    # @param max_solutions [Integer] if provided, the search is stopped once the number of solutions has been found</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby">    # @return [Array&lt;Hash{Symbol =&gt; Object}&gt;]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="269">
          <span class="hits">1</span>
          
          <code class="ruby">    def solve(max_solutions = nil)</code>
        </li>
      
        <li class="covered" data-hits="236" data-linenumber="270">
          <span class="hits">236</span>
          
          <code class="ruby">      return @solutions unless @arguments</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="236" data-linenumber="272">
          <span class="hits">236</span>
          
          <code class="ruby">      predicate = @arguments.predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="273">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="236" data-linenumber="274">
          <span class="hits">236</span>
          
          <code class="ruby">      predicate&amp;.satisfy(self) do |goal|</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="275">
          
          
          <code class="ruby">        # TODO: Refactor to overrideable method (or another solution, say a lambda)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="276">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="369" data-linenumber="277">
          <span class="hits">369</span>
          
          <code class="ruby">        @solutions &lt;&lt; variables</code>
        </li>
      
        <li class="covered" data-hits="369" data-linenumber="278">
          <span class="hits">369</span>
          
          <code class="ruby">        @log &lt;&lt; &quot;SOLUTION: #{variables}&quot;</code>
        </li>
      
        <li class="covered" data-hits="369" data-linenumber="279">
          <span class="hits">369</span>
          
          <code class="ruby">        @log &lt;&lt; goal.ancestry</code>
        </li>
      
        <li class="covered" data-hits="369" data-linenumber="280">
          <span class="hits">369</span>
          
          <code class="ruby">        @log &lt;&lt; goal.inspect_variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="281">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="369" data-linenumber="282">
          <span class="hits">369</span>
          
          <code class="ruby">        return @solutions if max_solutions &amp;&amp; @solutions.size &gt;= max_solutions</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="283">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="284">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="230" data-linenumber="285">
          <span class="hits">230</span>
          
          <code class="ruby">      @solutions</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="286">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="287">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="288">
          
          
          <code class="ruby">    # Solves the goal but not as the root goal for a query.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="289">
          
          
          <code class="ruby">    # That is, solves an intermediate goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="290">
          
          
          <code class="ruby">    # @param block [Proc] code to perform when the Goal is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="291">
          
          
          <code class="ruby">    # @return [Boolean] whether the definition was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="292">
          <span class="hits">1</span>
          
          <code class="ruby">    def satisfy(&amp;block)</code>
        </li>
      
        <li class="covered" data-hits="3701" data-linenumber="293">
          <span class="hits">3701</span>
          
          <code class="ruby">      return false unless @arguments</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="294">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="3700" data-linenumber="295">
          <span class="hits">3700</span>
          
          <code class="ruby">      predicate = @arguments.predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="296">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="3700" data-linenumber="297">
          <span class="hits">3700</span>
          
          <code class="ruby">      satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="3700" data-linenumber="298">
          <span class="hits">3700</span>
          
          <code class="ruby">      predicate&amp;.satisfy(self) do |subgoal|</code>
        </li>
      
        <li class="covered" data-hits="3284" data-linenumber="299">
          <span class="hits">3284</span>
          
          <code class="ruby">        subgoal_satisfied = block.call(subgoal)</code>
        </li>
      
        <li class="covered" data-hits="3250" data-linenumber="300">
          <span class="hits">3250</span>
          
          <code class="ruby">        satisfied ||= subgoal_satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="301">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="3665" data-linenumber="302">
          <span class="hits">3665</span>
          
          <code class="ruby">      satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="303">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="304">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="305">
          
          
          <code class="ruby">    # Instantiates a Variable to another Variable or Value, for this Goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="306">
          
          
          <code class="ruby">    # @param name [Symbol,Porolog::Variable,Object] the name that references the variable to be instantiated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="307">
          
          
          <code class="ruby">    # @param other [Object] the value that the variable is to be instantiated to.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="308">
          
          
          <code class="ruby">    # @param other_goal [Porolog::Goal,nil] the Goal of the other value.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="309">
          
          
          <code class="ruby">    # @return [Porolog::Instantiation] the instantiation.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="310">
          <span class="hits">1</span>
          
          <code class="ruby">    def instantiate(name, other, other_goal = self)</code>
        </li>
      
        <li class="covered" data-hits="27923" data-linenumber="311">
          <span class="hits">27923</span>
          
          <code class="ruby">      variable = self.variable(name)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="312">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="27923" data-linenumber="313">
          <span class="hits">27923</span>
          
          <code class="ruby">      other = if other.type == :variable</code>
        </li>
      
        <li class="covered" data-hits="23958" data-linenumber="314">
          <span class="hits">23958</span>
          
          <code class="ruby">        other_goal.variable(other)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="315">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="3965" data-linenumber="316">
          <span class="hits">3965</span>
          
          <code class="ruby">        other_goal.value(other)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="317">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="318">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="27923" data-linenumber="319">
          <span class="hits">27923</span>
          
          <code class="ruby">      variable.instantiate(other)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="320">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="321">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="322">
          
          
          <code class="ruby">    # Inherits variables and their instantiations from another goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="323">
          
          
          <code class="ruby">    # @param other_goal [Porolog::Goal,nil] the Goal to inherit variables from.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="324">
          
          
          <code class="ruby">    # @return [Boolean] whether the variables could be inherited (unified).</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="325">
          <span class="hits">1</span>
          
          <code class="ruby">    def inherit_variables(other_goal = @calling_goal)</code>
        </li>
      
        <li class="covered" data-hits="3701" data-linenumber="326">
          <span class="hits">3701</span>
          
          <code class="ruby">      return true unless other_goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="327">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="3700" data-linenumber="328">
          <span class="hits">3700</span>
          
          <code class="ruby">      unified      = true</code>
        </li>
      
        <li class="covered" data-hits="3700" data-linenumber="329">
          <span class="hits">3700</span>
          
          <code class="ruby">      unifications = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="330">
          
          
          <code class="ruby">      variables    = (</code>
        </li>
      
        <li class="covered" data-hits="3700" data-linenumber="331">
          <span class="hits">3700</span>
          
          <code class="ruby">        other_goal.arguments.variables +</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="332">
          
          
          <code class="ruby">        other_goal.variables.keys +</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="333">
          
          
          <code class="ruby">        self.arguments.variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="334">
          
          
          <code class="ruby">      ).map(&amp;:to_sym).uniq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="335">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="3700" data-linenumber="336">
          <span class="hits">3700</span>
          
          <code class="ruby">      variables.each do |variable|</code>
        </li>
      
        <li class="covered" data-hits="23361" data-linenumber="337">
          <span class="hits">23361</span>
          
          <code class="ruby">        name = variable</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="338">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="23361" data-linenumber="339">
          <span class="hits">23361</span>
          
          <code class="ruby">        unification = unify(name, name, other_goal, self)</code>
        </li>
      
        <li class="covered" data-hits="23361" data-linenumber="340">
          <span class="hits">23361</span>
          
          <code class="ruby">        unified   &amp;&amp;= !!unification</code>
        </li>
      
        <li class="covered" data-hits="23361" data-linenumber="341">
          <span class="hits">23361</span>
          
          <code class="ruby">        if unified</code>
        </li>
      
        <li class="covered" data-hits="23359" data-linenumber="342">
          <span class="hits">23359</span>
          
          <code class="ruby">          unifications += unification</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="343">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="344">
          
          <span class="hits">skipped</span>
          <code class="ruby">          #:nocov:</code>
        </li>
      
        <li class="skipped" data-hits="2" data-linenumber="345">
          
          <span class="hits">skipped</span>
          <code class="ruby">          self.log &lt;&lt; &quot;Couldn&#39;t unify: #{name.inspect} WITH #{other_goal.myid} AND #{self.myid}&quot;</code>
        </li>
      
        <li class="skipped" data-hits="2" data-linenumber="346">
          
          <span class="hits">skipped</span>
          <code class="ruby">          break</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="347">
          
          <span class="hits">skipped</span>
          <code class="ruby">          #:nocov:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="348">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="349">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="3700" data-linenumber="350">
          <span class="hits">3700</span>
          
          <code class="ruby">      unified &amp;&amp;= instantiate_unifications(unifications) if unified</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="351">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="3700" data-linenumber="352">
          <span class="hits">3700</span>
          
          <code class="ruby">      unified</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="353">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="354">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="355">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="356">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="357">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="0242edb9dcc3c227bcbd5564ff9d900c0708e6ce">
  <div class="header">
    <h3>lib/porolog/instantiation.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>146</b> relevant lines. 
      <span class="green"><b>146</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   lib/porolog/instantiation.rb      - Plain Old Ruby Objects Prolog Engine -- Instantiation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban   2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">module Porolog</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">  # A Porolog::Instantiation implements an instantiation of a Variable of a Goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  # An Instantiation joins two expressions.  At least one expression must have a variable.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">  # An index may be provided to index into the value of either expression, or both may have an index.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  # Thus, an element of each list could be instantiated without reference to the other elements:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  #   x = [a,b,c,d,e]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  #            |</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">  #   y =   [p,q,r,s]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  # @author Luis Esteban</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  # @!attribute variable1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  #   @return [Variable,Object] one end of the instantiation.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">  # @!attribute variable2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">  #   @return [Variable,Object] the other end of the instantiation.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">  # @!attribute index1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">  #   @return [Object,nil] the index into the value of variable1.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">  # @!attribute index2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">  #   @return [Object,nil] the index into the value of variable2.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="29">
          <span class="hits">1</span>
          
          <code class="ruby">  class Instantiation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">    # Error class for rescuing or detecting any Instantiation error.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="32">
          <span class="hits">1</span>
          
          <code class="ruby">    class Error               &lt; PorologError ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">    # Error class indicating that an instantiation was created without any Variables.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="34">
          <span class="hits">1</span>
          
          <code class="ruby">    class NoVariableError     &lt; Error        ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">    # Error class indicating that an index could not be used although requested.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="36">
          <span class="hits">1</span>
          
          <code class="ruby">    class UnhandledIndexError &lt; Error        ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="38">
          <span class="hits">1</span>
          
          <code class="ruby">    attr_accessor :variable1, :variable2, :index1, :index2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">    # Clears all instantiations.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">    # @return [Boolean] success</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="42">
          <span class="hits">1</span>
          
          <code class="ruby">    def self.reset</code>
        </li>
      
        <li class="covered" data-hits="719" data-linenumber="43">
          <span class="hits">719</span>
          
          <code class="ruby">      @@instantiations = {}</code>
        </li>
      
        <li class="covered" data-hits="719" data-linenumber="44">
          <span class="hits">719</span>
          
          <code class="ruby">      true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="47">
          <span class="hits">1</span>
          
          <code class="ruby">    reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">    # @return [Hash{Array =&gt; Porolog::Instantiation}] all Instantiations</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="50">
          <span class="hits">1</span>
          
          <code class="ruby">    def self.instantiations</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="51">
          <span class="hits">16</span>
          
          <code class="ruby">      @@instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">    # Finds or creates a new instantiation.  At least one of the variables must be a Variable.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">    # @param variable1 [Porolog::Variable,Porolog::Value,Object] one end of the instantiation to be made.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">    # @param variable2 [Porolog::Variable,Porolog::Value,Object] the other end of the instantiation to be made.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">    # @param index1 [Integer,Symbol,nil] index into the value of variable1.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">    # @param index2 [Integer,Symbol,nil] index into the value of variable2.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">    # @return [Porolog::Instantiation] the found or created Instantiation.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="60">
          <span class="hits">1</span>
          
          <code class="ruby">    def self.new(variable1, index1, variable2, index2)</code>
        </li>
      
        <li class="covered" data-hits="29973" data-linenumber="61">
          <span class="hits">29973</span>
          
          <code class="ruby">      raise NoVariableError, &quot;Cannot instantiate non-variables: #{variable1.inspect} and #{variable2.inspect}&quot; unless variable1.is_a?(Variable) || variable2.is_a?(Variable)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="29973" data-linenumber="63">
          <span class="hits">29973</span>
          
          <code class="ruby">      variable1 = Value.new variable1, variable2.goal unless variable1.is_a?(Variable) || variable1.is_a?(Value)</code>
        </li>
      
        <li class="covered" data-hits="29973" data-linenumber="64">
          <span class="hits">29973</span>
          
          <code class="ruby">      variable2 = Value.new variable2, variable1.goal unless variable2.is_a?(Variable) || variable2.is_a?(Value)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">      instantiation = \</code>
        </li>
      
        <li class="covered" data-hits="29973" data-linenumber="67">
          <span class="hits">29973</span>
          
          <code class="ruby">        @@instantiations[[variable1, index1, variable2, index2]] ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">        @@instantiations[[variable2, index2, variable1, index1]] ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">        super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="29973" data-linenumber="71">
          <span class="hits">29973</span>
          
          <code class="ruby">      instantiation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">    # Initializes and registers a new Instantiation.  At least one of the variables must be a Variable.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">    # @param variable1 [Porolog::Variable,Porolog::Value,Object] one end of the instantiation to be made.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">    # @param variable2 [Porolog::Variable,Porolog::Value,Object] the other end of the instantiation to be made.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">    # @param index1 [Integer,Symbol,nil] index into the value of variable1.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">    # @param index2 [Integer,Symbol,nil] index into the value of variable2.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">    # @return [Porolog::Instantiation] the found or created Instantiation.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="80">
          <span class="hits">1</span>
          
          <code class="ruby">    def initialize(variable1, index1, variable2, index2)</code>
        </li>
      
        <li class="covered" data-hits="29930" data-linenumber="81">
          <span class="hits">29930</span>
          
          <code class="ruby">      @variable1 = variable1</code>
        </li>
      
        <li class="covered" data-hits="29930" data-linenumber="82">
          <span class="hits">29930</span>
          
          <code class="ruby">      @variable2 = variable2</code>
        </li>
      
        <li class="covered" data-hits="29930" data-linenumber="83">
          <span class="hits">29930</span>
          
          <code class="ruby">      @index1    = index1</code>
        </li>
      
        <li class="covered" data-hits="29930" data-linenumber="84">
          <span class="hits">29930</span>
          
          <code class="ruby">      @index2    = index2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="29930" data-linenumber="86">
          <span class="hits">29930</span>
          
          <code class="ruby">      @variable1.instantiations &lt;&lt; self</code>
        </li>
      
        <li class="covered" data-hits="29930" data-linenumber="87">
          <span class="hits">29930</span>
          
          <code class="ruby">      @variable2.instantiations &lt;&lt; self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="29930" data-linenumber="89">
          <span class="hits">29930</span>
          
          <code class="ruby">      @@instantiations[signature] = self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">    # @return [Array] the signature of the Instantiation, which aids in avoiding duplication instantiations.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="93">
          <span class="hits">1</span>
          
          <code class="ruby">    def signature</code>
        </li>
      
        <li class="covered" data-hits="59864" data-linenumber="94">
          <span class="hits">59864</span>
          
          <code class="ruby">      @signature ||= [@variable1, @index1, @variable2, @index2].freeze</code>
        </li>
      
        <li class="covered" data-hits="59864" data-linenumber="95">
          <span class="hits">59864</span>
          
          <code class="ruby">      @signature</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">    # @return [String] pretty representation.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="99">
          <span class="hits">1</span>
          
          <code class="ruby">    def inspect(indent = 0)</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="100">
          <span class="hits">12</span>
          
          <code class="ruby">      index1 = @index1 ? &quot;[#{@index1.inspect}]&quot; : &#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="101">
          <span class="hits">12</span>
          
          <code class="ruby">      index2 = @index2 ? &quot;[#{@index2.inspect}]&quot; : &#39;&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="103">
          <span class="hits">12</span>
          
          <code class="ruby">      &quot;#{&#39;  &#39; * indent}#{@variable1.inspect}#{index1} = #{@variable2.inspect}#{index2}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">    # Removes itself from its variables&#39; Instantiations and unregisters itself.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">    # @return [Boolean] success</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="108">
          <span class="hits">1</span>
          
          <code class="ruby">    def remove</code>
        </li>
      
        <li class="covered" data-hits="29927" data-linenumber="109">
          <span class="hits">29927</span>
          
          <code class="ruby">      @variable1.instantiations.delete(self)  if @variable1.is_a?(Variable) || @variable1.is_a?(Value)</code>
        </li>
      
        <li class="covered" data-hits="29927" data-linenumber="110">
          <span class="hits">29927</span>
          
          <code class="ruby">      @variable2.instantiations.delete(self)  if @variable2.is_a?(Variable) || @variable2.is_a?(Value)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="29927" data-linenumber="112">
          <span class="hits">29927</span>
          
          <code class="ruby">      @deleted = true</code>
        </li>
      
        <li class="covered" data-hits="29927" data-linenumber="113">
          <span class="hits">29927</span>
          
          <code class="ruby">      @@instantiations.delete(signature)</code>
        </li>
      
        <li class="covered" data-hits="29927" data-linenumber="114">
          <span class="hits">29927</span>
          
          <code class="ruby">      @deleted</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby">    # Returns the Goal of the other Variable to the one provided.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">    # @param variable [Porolog::Variable] the provided Variable.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">    # @return [Porolog::Goal,nil] the Goal of the other Variable.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="120">
          <span class="hits">1</span>
          
          <code class="ruby">    def other_goal_to(variable)</code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="121">
          <span class="hits">31</span>
          
          <code class="ruby">      return nil unless variables.include?(variable)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="29" data-linenumber="123">
          <span class="hits">29</span>
          
          <code class="ruby">      other_variable = (variables - [variable]).first</code>
        </li>
      
        <li class="covered" data-hits="29" data-linenumber="124">
          <span class="hits">29</span>
          
          <code class="ruby">      other_variable&amp;.goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">    # @return [Array&lt;Porolog::Goal&gt;] the Goals of the Variables of the Instantiation.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="128">
          <span class="hits">1</span>
          
          <code class="ruby">    def goals</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="129">
          <span class="hits">2</span>
          
          <code class="ruby">      [@variable1.goal,@variable2.goal]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">    # @return [Array&lt;Porolog::Variable,Object&gt;] the Variables of the Instantiation.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="133">
          <span class="hits">1</span>
          
          <code class="ruby">    def variables</code>
        </li>
      
        <li class="covered" data-hits="62" data-linenumber="134">
          <span class="hits">62</span>
          
          <code class="ruby">      [@variable1,@variable2]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">    # @param visited [Array] prevents infinite recursion.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">    # @return [Array] the values of the Variables of the Instantiation.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="139">
          <span class="hits">1</span>
          
          <code class="ruby">    def values(visited = [])</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="140">
          <span class="hits">20</span>
          
          <code class="ruby">      return [] if visited.include?(self)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="142">
          <span class="hits">20</span>
          
          <code class="ruby">      values_for_variable1 = values_for(@variable1, visited)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="143">
          <span class="hits">20</span>
          
          <code class="ruby">      values_for_variable2 = values_for(@variable2, visited)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="145">
          <span class="hits">20</span>
          
          <code class="ruby">      (values_for_variable1 + values_for_variable2).uniq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="148">
          
          
          <code class="ruby">    # @param value [Object] the provided value.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">    # @param index [Integer,Symbol,Array&lt;Integer&gt;] the index.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby">    # @param visited [Array] prevents infinite recursion.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">    # @return [Object] the indexed value of the provided value.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="152">
          <span class="hits">1</span>
          
          <code class="ruby">    def value_indexed(value, index, visited = [])</code>
        </li>
      
        <li class="covered" data-hits="1465772" data-linenumber="153">
          <span class="hits">1465772</span>
          
          <code class="ruby">      return nil unless value</code>
        </li>
      
        <li class="covered" data-hits="1395255" data-linenumber="154">
          <span class="hits">1395255</span>
          
          <code class="ruby">      return nil if value.type == :variable</code>
        </li>
      
        <li class="covered" data-hits="830150" data-linenumber="155">
          <span class="hits">830150</span>
          
          <code class="ruby">      return nil if value == [] &amp;&amp; index == :tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="830149" data-linenumber="157">
          <span class="hits">830149</span>
          
          <code class="ruby">      visit = [value, index]</code>
        </li>
      
        <li class="covered" data-hits="830149" data-linenumber="158">
          <span class="hits">830149</span>
          
          <code class="ruby">      return nil if visited.include?(visit)</code>
        </li>
      
        <li class="covered" data-hits="830149" data-linenumber="159">
          <span class="hits">830149</span>
          
          <code class="ruby">      visited = visited + [visit]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="830149" data-linenumber="161">
          <span class="hits">830149</span>
          
          <code class="ruby">      case index</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">        when Integer</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="163">
          <span class="hits">45</span>
          
          <code class="ruby">          if value.respond_to?(:last) &amp;&amp; value.last == UNKNOWN_TAIL</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="164">
          <span class="hits">2</span>
          
          <code class="ruby">            if index &gt;= value.length - 1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="165">
          <span class="hits">1</span>
          
          <code class="ruby">              UNKNOWN_TAIL</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="167">
          <span class="hits">1</span>
          
          <code class="ruby">              value[index]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="43" data-linenumber="169">
          <span class="hits">43</span>
          
          <code class="ruby">          elsif value.is_a?(Numeric)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="170">
          <span class="hits">2</span>
          
          <code class="ruby">            value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="171">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="41" data-linenumber="172">
          <span class="hits">41</span>
          
          <code class="ruby">            value[index]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="174">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby">        when Symbol</code>
        </li>
      
        <li class="covered" data-hits="39051" data-linenumber="176">
          <span class="hits">39051</span>
          
          <code class="ruby">          value_value = value.value(visited)</code>
        </li>
      
        <li class="covered" data-hits="39051" data-linenumber="177">
          <span class="hits">39051</span>
          
          <code class="ruby">          if index == :flathead</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">            # value_value = [..., 4, 5, 6]</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="179">
          <span class="hits">14</span>
          
          <code class="ruby">            if value_value.first == UNKNOWN_TAIL</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="180">
          <span class="hits">14</span>
          
          <code class="ruby">              UNKNOWN_ARRAY</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="181">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby">              nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="183">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="39037" data-linenumber="184">
          <span class="hits">39037</span>
          
          <code class="ruby">          elsif index == :flattail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">            # value_value = [1, 2, 3, ...]</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="186">
          <span class="hits">11</span>
          
          <code class="ruby">            if value_value.first == UNKNOWN_TAIL</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="187">
          
          
          <code class="ruby">              nil</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="188">
          <span class="hits">11</span>
          
          <code class="ruby">            elsif value_value.last == UNKNOWN_TAIL</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="189">
          <span class="hits">11</span>
          
          <code class="ruby">              UNKNOWN_ARRAY</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="190">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="39026" data-linenumber="191">
          <span class="hits">39026</span>
          
          <code class="ruby">          elsif value_value.respond_to?(index)</code>
        </li>
      
        <li class="covered" data-hits="39025" data-linenumber="192">
          <span class="hits">39025</span>
          
          <code class="ruby">            value_value.send(index)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="194">
          <span class="hits">1</span>
          
          <code class="ruby">            value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="195">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="196">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="197">
          
          
          <code class="ruby">        when Array</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="198">
          <span class="hits">5</span>
          
          <code class="ruby">          if index.empty?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="199">
          <span class="hits">1</span>
          
          <code class="ruby">            value[1..-1]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="200">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="201">
          <span class="hits">4</span>
          
          <code class="ruby">            value[0...index.first]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="202">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="203">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="791048" data-linenumber="205">
          <span class="hits">791048</span>
          
          <code class="ruby">          if index</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="206">
          <span class="hits">4</span>
          
          <code class="ruby">            raise UnhandledIndexError, &quot;Unhandled index: #{index.inspect} of #{value.inspect}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="791044" data-linenumber="208">
          <span class="hits">791044</span>
          
          <code class="ruby">            value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="209">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="210">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="212">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="213">
          
          
          <code class="ruby">    # @param variable [Porolog::Variable,Porolog::Value] the specified variable (or end of the Instantiation).</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="214">
          
          
          <code class="ruby">    # @param visited [Array] prevents infinite recursion.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="215">
          
          
          <code class="ruby">    # @return [Array&lt;Object&gt;] the values for the specified variable by finding the values of the other variable (i.e. the other end) and applying any indexes.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="216">
          <span class="hits">1</span>
          
          <code class="ruby">    def values_for(variable, visited = [])</code>
        </li>
      
        <li class="covered" data-hits="2615476" data-linenumber="217">
          <span class="hits">2615476</span>
          
          <code class="ruby">      return [] if visited.include?(self)</code>
        </li>
      
        <li class="covered" data-hits="1465747" data-linenumber="218">
          <span class="hits">1465747</span>
          
          <code class="ruby">      visited = visited + [self]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="219">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1465747" data-linenumber="220">
          <span class="hits">1465747</span>
          
          <code class="ruby">      if variable == @variable1</code>
        </li>
      
        <li class="covered" data-hits="587530" data-linenumber="221">
          <span class="hits">587530</span>
          
          <code class="ruby">        if @index1 == :flathead</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="222">
          <span class="hits">45</span>
          
          <code class="ruby">          flathead = value_at_index(value_indexed(@variable2.value(visited), @index2, visited), @index1).value.value</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="223">
          <span class="hits">45</span>
          
          <code class="ruby">          if flathead</code>
        </li>
      
        <li class="covered" data-hits="23" data-linenumber="224">
          <span class="hits">23</span>
          
          <code class="ruby">            return [[*flathead]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="225">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="226">
          <span class="hits">22</span>
          
          <code class="ruby">            return []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="227">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="228">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="587485" data-linenumber="229">
          <span class="hits">587485</span>
          
          <code class="ruby">        if @index1 == :flattail</code>
        </li>
      
        <li class="covered" data-hits="52" data-linenumber="230">
          <span class="hits">52</span>
          
          <code class="ruby">          flattail = value_at_index(value_indexed(@variable2.value(visited), @index2, visited), @index1).value.value</code>
        </li>
      
        <li class="covered" data-hits="52" data-linenumber="231">
          <span class="hits">52</span>
          
          <code class="ruby">          if flattail</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="232">
          <span class="hits">26</span>
          
          <code class="ruby">            return [[UNKNOWN_TAIL, *flattail]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="234">
          <span class="hits">26</span>
          
          <code class="ruby">            return []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="235">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="236">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="587433" data-linenumber="237">
          <span class="hits">587433</span>
          
          <code class="ruby">        if @index1</code>
        </li>
      
        <li class="covered" data-hits="64" data-linenumber="238">
          <span class="hits">64</span>
          
          <code class="ruby">          [value_at_index(value_indexed(@variable2.value(visited), @index2, visited), @index1)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="587369" data-linenumber="240">
          <span class="hits">587369</span>
          
          <code class="ruby">          if @variable2.is_a?(Variable)</code>
        </li>
      
        <li class="covered" data-hits="341700" data-linenumber="241">
          <span class="hits">341700</span>
          
          <code class="ruby">            [value_indexed(@variable2.value(visited), @index2, visited)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="242">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="245669" data-linenumber="243">
          <span class="hits">245669</span>
          
          <code class="ruby">            [value_indexed(@variable2, @index2, visited)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="244">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="245">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="878217" data-linenumber="246">
          <span class="hits">878217</span>
          
          <code class="ruby">      elsif variable == @variable2</code>
        </li>
      
        <li class="covered" data-hits="878209" data-linenumber="247">
          <span class="hits">878209</span>
          
          <code class="ruby">        if @index2 == :flathead</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="248">
          <span class="hits">2</span>
          
          <code class="ruby">          flathead = value_at_index(value_indexed(@variable1.value(visited), @index1, visited), @index2).value.value</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="249">
          <span class="hits">2</span>
          
          <code class="ruby">          if flathead</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="250">
          <span class="hits">1</span>
          
          <code class="ruby">            return [[*flathead]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="251">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="252">
          <span class="hits">1</span>
          
          <code class="ruby">            return []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="253">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="254">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="878207" data-linenumber="255">
          <span class="hits">878207</span>
          
          <code class="ruby">        if @index2 == :flattail</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="256">
          <span class="hits">2</span>
          
          <code class="ruby">          flattail = value_at_index(value_indexed(@variable1.value(visited), @index1, visited), @index2).value.value</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="257">
          <span class="hits">2</span>
          
          <code class="ruby">          if flattail</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="258">
          <span class="hits">1</span>
          
          <code class="ruby">            return [[UNKNOWN_TAIL, *flattail]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="259">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="260">
          <span class="hits">1</span>
          
          <code class="ruby">            return []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="261">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="262">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="878205" data-linenumber="263">
          <span class="hits">878205</span>
          
          <code class="ruby">        if @index2</code>
        </li>
      
        <li class="covered" data-hits="45393" data-linenumber="264">
          <span class="hits">45393</span>
          
          <code class="ruby">          [value_at_index(value_indexed(@variable1.value(visited), @index1, visited), @index2)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="265">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="832812" data-linenumber="266">
          <span class="hits">832812</span>
          
          <code class="ruby">          if @variable1.is_a?(Variable)</code>
        </li>
      
        <li class="covered" data-hits="832811" data-linenumber="267">
          <span class="hits">832811</span>
          
          <code class="ruby">            [value_indexed(@variable1.value(visited), @index1, visited)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="269">
          <span class="hits">1</span>
          
          <code class="ruby">            [value_indexed(@variable1, @index1, visited)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="270">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="272">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="273">
          <span class="hits">8</span>
          
          <code class="ruby">        []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="274">
          
          
          <code class="ruby">      end.compact</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="275">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="276">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="277">
          
          
          <code class="ruby">    # @param value [Object] the known value.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="278">
          
          
          <code class="ruby">    # @param index [Integer,Symbol,Array] the known index.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="279">
          
          
          <code class="ruby">    # @return [Array] an Array where the known value is at the known index.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="280">
          <span class="hits">1</span>
          
          <code class="ruby">    def value_at_index(value, index)</code>
        </li>
      
        <li class="covered" data-hits="45570" data-linenumber="281">
          <span class="hits">45570</span>
          
          <code class="ruby">      value &amp;&amp; case index</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="282">
          
          
          <code class="ruby">        when Integer</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="283">
          <span class="hits">3</span>
          
          <code class="ruby">          result        = []</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="284">
          <span class="hits">3</span>
          
          <code class="ruby">          result[index] = value</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="285">
          <span class="hits">3</span>
          
          <code class="ruby">          result       &lt;&lt; UNKNOWN_TAIL</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="286">
          <span class="hits">3</span>
          
          <code class="ruby">          result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="287">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="288">
          
          
          <code class="ruby">        when Symbol</code>
        </li>
      
        <li class="covered" data-hits="43162" data-linenumber="289">
          <span class="hits">43162</span>
          
          <code class="ruby">          case index</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="290">
          
          
          <code class="ruby">            when :flathead</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="291">
          <span class="hits">24</span>
          
          <code class="ruby">              [*value, UNKNOWN_TAIL]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="292">
          
          
          <code class="ruby">            when :head</code>
        </li>
      
        <li class="covered" data-hits="27617" data-linenumber="293">
          <span class="hits">27617</span>
          
          <code class="ruby">              [value, UNKNOWN_TAIL]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="294">
          
          
          <code class="ruby">            when :tail</code>
        </li>
      
        <li class="covered" data-hits="15493" data-linenumber="295">
          <span class="hits">15493</span>
          
          <code class="ruby">              [nil, *value]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="296">
          
          
          <code class="ruby">            when :flattail</code>
        </li>
      
        <li class="covered" data-hits="27" data-linenumber="297">
          <span class="hits">27</span>
          
          <code class="ruby">              value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="298">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="299">
          <span class="hits">1</span>
          
          <code class="ruby">              raise UnhandledIndexError, &quot;Unhandled index: #{index.inspect} for #{value.inspect}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="300">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="301">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="302">
          
          
          <code class="ruby">        when Array</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="303">
          <span class="hits">4</span>
          
          <code class="ruby">          if index.empty?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="304">
          <span class="hits">1</span>
          
          <code class="ruby">            [nil, *value]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="305">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="306">
          <span class="hits">3</span>
          
          <code class="ruby">            [value, UNKNOWN_TAIL]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="307">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="308">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="309">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="310">
          <span class="hits">2</span>
          
          <code class="ruby">          if index</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="311">
          <span class="hits">1</span>
          
          <code class="ruby">            raise UnhandledIndexError, &quot;Unhandled index: #{index.inspect} for #{value.inspect}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="312">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="313">
          <span class="hits">1</span>
          
          <code class="ruby">            value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="314">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="315">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="316">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="317">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="318">
          
          
          <code class="ruby">    # @param variable [Porolog::Variable,Porolog::Value] the specified variable.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="319">
          
          
          <code class="ruby">    # @return [Boolean] whether the specified variable is not indexed.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="320">
          <span class="hits">1</span>
          
          <code class="ruby">    def without_index_on?(variable)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="321">
          
          
          <code class="ruby">      [</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="322">
          <span class="hits">9</span>
          
          <code class="ruby">        [@variable1,@index1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="323">
          
          
          <code class="ruby">        [@variable2,@index2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="324">
          
          
          <code class="ruby">      ].any?{|pair|</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="325">
          <span class="hits">16</span>
          
          <code class="ruby">        pair.first == variable &amp;&amp; pair.last.nil?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="326">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="327">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="328">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="329">
          
          
          <code class="ruby">    # @return [Boolean] whether the Instantiation has been deleted (memoized).</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="330">
          <span class="hits">1</span>
          
          <code class="ruby">    def deleted?</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="331">
          <span class="hits">8</span>
          
          <code class="ruby">      @deleted ||= @variable1.goal.deleted? || @variable2.goal.deleted?</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="332">
          <span class="hits">8</span>
          
          <code class="ruby">      @deleted</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="333">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="334">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="335">
          
          
          <code class="ruby">    # @param goal [Porolog::Goal] the provided Goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="336">
          
          
          <code class="ruby">    # @return [Boolean] whether the Instantiation attaches to a variable in the provided Goal.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="337">
          <span class="hits">1</span>
          
          <code class="ruby">    def belongs_to?(goal)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="338">
          
          
          <code class="ruby">      [</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="339">
          <span class="hits">6</span>
          
          <code class="ruby">        @variable1.goal,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="340">
          
          
          <code class="ruby">        @variable2.goal,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="341">
          
          
          <code class="ruby">      ].include?(goal)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="342">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="343">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="344">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="345">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="346">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="6a9b9f605540e91937c2e20600638e425bfd765f">
  <div class="header">
    <h3>lib/porolog/predicate.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>60</b> relevant lines. 
      <span class="green"><b>60</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   lib/porolog/predicate.rb      - Plain Old Ruby Objects Prolog Engine -- Predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban   2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">module Porolog</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">  # A Porolog::Predicate corresponds to a Prolog predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  # It contains rules (Porolog::Rule) and belongs to a Porolog::Scope.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">  # When provided with arguments, it produces a Porolog::Arguments.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  # @author Luis Esteban</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">  # @!attribute [r] name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  #   Name of the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  # @!attribute [r] rules</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  #   Rules of the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="22">
          <span class="hits">1</span>
          
          <code class="ruby">  class Predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">    # Error class for rescuing or detecting any Predicate error.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="25">
          <span class="hits">1</span>
          
          <code class="ruby">    class Error          &lt; PorologError   ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">    # Error class indicating an error with the name of a Predicate.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="27">
          <span class="hits">1</span>
          
          <code class="ruby">    class NameError      &lt; Error          ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="29">
          <span class="hits">1</span>
          
          <code class="ruby">    attr_reader :name, :rules</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">    # A unique value used to verify instantiations.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="32">
          <span class="hits">1</span>
          
          <code class="ruby">    UNIQUE_VALUE = Object.new.freeze</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="33">
          <span class="hits">1</span>
          
          <code class="ruby">    private_constant :UNIQUE_VALUE</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">    # Returns the current scope, or sets the current scope if a paramter is provided</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">    # (creating the new scope if necessary).</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">    # @param scope_name [Object] the name (or otherwise object) used to register a scope.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">    # @return [Porolog::Scope] the current Scope.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="39">
          <span class="hits">1</span>
          
          <code class="ruby">    def self.scope(scope_name = nil)</code>
        </li>
      
        <li class="covered" data-hits="3064" data-linenumber="40">
          <span class="hits">3064</span>
          
          <code class="ruby">      if scope_name</code>
        </li>
      
        <li class="covered" data-hits="727" data-linenumber="41">
          <span class="hits">727</span>
          
          <code class="ruby">        @@current_scope = Scope[scope_name] || Scope.new(scope_name)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="2337" data-linenumber="43">
          <span class="hits">2337</span>
          
          <code class="ruby">        @@current_scope</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">    # Sets the current scope (creating the new scope if necessary.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">    # @param scope_name [Object] the name (or otherwise object) used to register a scope.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">    # @return [Porolog::Scope] the current Scope.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="50">
          <span class="hits">1</span>
          
          <code class="ruby">    def self.scope=(scope_name)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="51">
          <span class="hits">4</span>
          
          <code class="ruby">      @@current_scope = Scope[scope_name] || Scope.new(scope_name)  if scope_name</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="52">
          <span class="hits">4</span>
          
          <code class="ruby">      @@current_scope</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">    # Resets the current scope to default and deregisters builtin predicates.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">    # @return [Porolog::Scope] the current Scope.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="57">
          <span class="hits">1</span>
          
          <code class="ruby">    def self.reset</code>
        </li>
      
        <li class="covered" data-hits="720" data-linenumber="58">
          <span class="hits">720</span>
          
          <code class="ruby">      scope(:default)</code>
        </li>
      
        <li class="covered" data-hits="720" data-linenumber="59">
          <span class="hits">720</span>
          
          <code class="ruby">      @builtin_predicate_ids = {}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">    # Looks up a Predicate in the current scope by its name.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">    # @param name [Object] the name (or otherwise object) used to register a scope.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">    # @return [Porolog::Predicate] the Predicate with the given name.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="65">
          <span class="hits">1</span>
          
          <code class="ruby">    def self.[](name)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="66">
          <span class="hits">2</span>
          
          <code class="ruby">      @@current_scope[name]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="69">
          <span class="hits">1</span>
          
          <code class="ruby">    reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">    # Initializes a Porolog::Predicate and registers it by its name.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">    # @param name [#to_sym] the input object to read from</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">    # @param scope_name the name of the scope in which to register the Predicate; if omitted, defaults to the name of the current scope</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="74">
          <span class="hits">1</span>
          
          <code class="ruby">    def initialize(name, scope_name = Predicate.scope.name, builtin: false)</code>
        </li>
      
        <li class="covered" data-hits="1164" data-linenumber="75">
          <span class="hits">1164</span>
          
          <code class="ruby">      @name    = name.to_sym</code>
        </li>
      
        <li class="covered" data-hits="1164" data-linenumber="76">
          <span class="hits">1164</span>
          
          <code class="ruby">      @rules   = []</code>
        </li>
      
        <li class="covered" data-hits="1164" data-linenumber="77">
          <span class="hits">1164</span>
          
          <code class="ruby">      @builtin = builtin</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1164" data-linenumber="79">
          <span class="hits">1164</span>
          
          <code class="ruby">      raise NameError, &quot;Cannot name a predicate &#39;predicate&#39;&quot; if @name == :predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1160" data-linenumber="81">
          <span class="hits">1160</span>
          
          <code class="ruby">      scope = Scope[scope_name] || Scope.new(scope_name)</code>
        </li>
      
        <li class="covered" data-hits="1160" data-linenumber="82">
          <span class="hits">1160</span>
          
          <code class="ruby">      scope[@name] = self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">    # Creates a new Predicate, or returns an existing Predicate if one already exists with the given name in the current scope.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">    # @return [Porolog::Predicate] a new or existing Predicate.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="87">
          <span class="hits">1</span>
          
          <code class="ruby">    def self.new(*args)</code>
        </li>
      
        <li class="covered" data-hits="1171" data-linenumber="88">
          <span class="hits">1171</span>
          
          <code class="ruby">      scope[args.first.to_sym] || super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">    # Create Arguments for the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">    # Provides the syntax option:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">    #     p.(x,y,z)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">    # for</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">    #     p.arguments(x,y,z)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">    # @return [Porolog::Arguments] Arguments of the Predicate with the given arguments.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="97">
          <span class="hits">1</span>
          
          <code class="ruby">    def call(*args, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="619" data-linenumber="98">
          <span class="hits">619</span>
          
          <code class="ruby">      Arguments.new(self, args, &amp;block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">    # Create Arguments for the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">    # @return [Porolog::Arguments] Arguments of the Predicate with the given arguments.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="103">
          <span class="hits">1</span>
          
          <code class="ruby">    def arguments(*args, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="743" data-linenumber="104">
          <span class="hits">743</span>
          
          <code class="ruby">      Arguments.new(self, args, &amp;block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">    # Add a Rule to the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">    # @param rule [Object] a rule to add to the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">    # @return [Porolog::Predicate] the Predicate.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="110">
          <span class="hits">1</span>
          
          <code class="ruby">    def &lt;&lt;(rule)</code>
        </li>
      
        <li class="covered" data-hits="160" data-linenumber="111">
          <span class="hits">160</span>
          
          <code class="ruby">      @rules &lt;&lt; rule</code>
        </li>
      
        <li class="covered" data-hits="160" data-linenumber="112">
          <span class="hits">160</span>
          
          <code class="ruby">      self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby">    # A pretty print String of the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">    # @return [String] the Predicate as a String.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="117">
          <span class="hits">1</span>
          
          <code class="ruby">    def inspect</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="118">
          <span class="hits">5</span>
          
          <code class="ruby">      if @rules.size == 1</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="119">
          <span class="hits">3</span>
          
          <code class="ruby">        &quot;#{@name}:-#{@rules.first.inspect}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="121">
          <span class="hits">2</span>
          
          <code class="ruby">        @rules.each_with_object([&quot;#{@name}:-&quot;]) do |rule, lines|</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="122">
          <span class="hits">2</span>
          
          <code class="ruby">          lines &lt;&lt; rule.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">        end.join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">    # Satisfy the Predicate within the supplied Goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">    # Satisfy of each rule of the Predicate is called with the Goal and success block.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby">    # @param goal [Porolog::Goal] the Goal within which to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">    # @param block [Proc] the block to be called each time a Rule of the Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">    # @return [Boolean] whether any Rule was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="132">
          <span class="hits">1</span>
          
          <code class="ruby">    def satisfy(goal, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="3934" data-linenumber="133">
          <span class="hits">3934</span>
          
          <code class="ruby">      if builtin?</code>
        </li>
      
        <li class="covered" data-hits="2497" data-linenumber="134">
          <span class="hits">2497</span>
          
          <code class="ruby">        satisfy_builtin(goal, &amp;block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="1437" data-linenumber="136">
          <span class="hits">1437</span>
          
          <code class="ruby">        satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="1437" data-linenumber="137">
          <span class="hits">1437</span>
          
          <code class="ruby">        @rules.each do |rule|</code>
        </li>
      
        <li class="covered" data-hits="2588" data-linenumber="138">
          <span class="hits">2588</span>
          
          <code class="ruby">          rule.satisfy(goal) do |subgoal|</code>
        </li>
      
        <li class="covered" data-hits="1464" data-linenumber="139">
          <span class="hits">1464</span>
          
          <code class="ruby">            satisfied = true</code>
        </li>
      
        <li class="covered" data-hits="1464" data-linenumber="140">
          <span class="hits">1464</span>
          
          <code class="ruby">            block.call(subgoal)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="covered" data-hits="2574" data-linenumber="142">
          <span class="hits">2574</span>
          
          <code class="ruby">          break if goal.terminated?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="1423" data-linenumber="144">
          <span class="hits">1423</span>
          
          <code class="ruby">        satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="148">
          
          
          <code class="ruby">    # @return [Boolean] whether the Predicate is a builtin predicate.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="149">
          <span class="hits">1</span>
          
          <code class="ruby">    def builtin?</code>
        </li>
      
        <li class="covered" data-hits="3936" data-linenumber="150">
          <span class="hits">3936</span>
          
          <code class="ruby">      @builtin</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">    # Satisfy the builtin Predicate within the supplied Goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">    # Call the builtin Predicate method with the Goal and success block.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby">    # The arguments and block are extracted from the Goal&#39;s Arguments.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">    # @param goal [Porolog::Goal] the Goal within which to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">    # @param block [Proc] the block to be called each time a Rule of the Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">    # @return [Boolean] whether any Rule was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="159">
          <span class="hits">1</span>
          
          <code class="ruby">    def satisfy_builtin(goal, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="2498" data-linenumber="160">
          <span class="hits">2498</span>
          
          <code class="ruby">      predicate = goal.arguments.predicate.name</code>
        </li>
      
        <li class="covered" data-hits="2498" data-linenumber="161">
          <span class="hits">2498</span>
          
          <code class="ruby">      arguments = goal.arguments.arguments</code>
        </li>
      
        <li class="covered" data-hits="2498" data-linenumber="162">
          <span class="hits">2498</span>
          
          <code class="ruby">      arg_block = goal.arguments.block</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="2498" data-linenumber="164">
          <span class="hits">2498</span>
          
          <code class="ruby">      Predicate.call_builtin(predicate, goal, block, *arguments, &amp;arg_block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">    # Call a builtin predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">    # @param predicate [Symbol] the name of the predicate to call.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">    # @param args [Array&lt;Object&gt;] arguments for the predicate call.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="170">
          
          
          <code class="ruby">    # @param arg_block [Proc] the block provided in the Arguments of the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="171">
          
          
          <code class="ruby">    # @return [Boolean] whether the predicate was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="172">
          <span class="hits">1</span>
          
          <code class="ruby">    def self.call_builtin(predicate, *args, &amp;arg_block)</code>
        </li>
      
        <li class="covered" data-hits="2562" data-linenumber="173">
          <span class="hits">2562</span>
          
          <code class="ruby">      Porolog::Predicate::Builtin.instance_method(predicate).bind(self).call(*args, &amp;arg_block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="174">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="176">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="313e74025777e67a58f11103657463da1d235ce4">
  <div class="header">
    <h3>lib/porolog/predicate/builtin.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>315</b> relevant lines. 
      <span class="green"><b>315</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   lib/porolog/predicate/builtin.rb      - Plain Old Ruby Objects Prolog Engine -- Builtin Predicates</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban   29 July 2020</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">module Porolog</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="10">
          <span class="hits">1</span>
          
          <code class="ruby">  class Predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">    # The Porolog::Predicate::Builtin module is a collection of the implementations of the builtin predicates.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">    # It is possible to define custom builtin predicates.  Each builtin requires a goal and a block,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">    # and should return the result of</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">    #   block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">    # if the predicate is deemed successful; otherwise, it should return false.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    # @author Luis Esteban</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">    #</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="20">
          <span class="hits">1</span>
          
          <code class="ruby">    module Builtin</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog print predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">      # `print` could not be used because of the clash with the Ruby method.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">      # It outputs all arguments.  If an argument is a variable,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">      # then if it is instantiated, its value is output; otherwise its name is output.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">      # If the value is an Array, its inspect is output instead.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">      #   write(&#39;X = &#39;, :X, &#39;, Y = &#39;, :Y, &quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">      # @param args [Array&lt;Object&gt;] the arguments to be passed to the provided block.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="33">
          <span class="hits">1</span>
          
          <code class="ruby">      def write(goal, block, *args)</code>
        </li>
      
        <li class="covered" data-hits="49" data-linenumber="34">
          <span class="hits">49</span>
          
          <code class="ruby">        args = args.map(&amp;:value).map(&amp;:value)</code>
        </li>
      
        <li class="covered" data-hits="49" data-linenumber="35">
          <span class="hits">49</span>
          
          <code class="ruby">        args = args.map{|arg|</code>
        </li>
      
        <li class="covered" data-hits="157" data-linenumber="36">
          <span class="hits">157</span>
          
          <code class="ruby">          arg.is_a?(Array) ? arg.inspect : arg</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">        }</code>
        </li>
      
        <li class="covered" data-hits="49" data-linenumber="38">
          <span class="hits">49</span>
          
          <code class="ruby">        args = args.map{|arg|</code>
        </li>
      
        <li class="covered" data-hits="157" data-linenumber="39">
          <span class="hits">157</span>
          
          <code class="ruby">          arg.type == :variable ? arg.to_sym.inspect : arg</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">        }</code>
        </li>
      
        <li class="covered" data-hits="49" data-linenumber="41">
          <span class="hits">49</span>
          
          <code class="ruby">        $stdout.print args.join</code>
        </li>
      
        <li class="covered" data-hits="49" data-linenumber="42">
          <span class="hits">49</span>
          
          <code class="ruby">        block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog print and nl predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">      # `print` could not be used because of the clash with the Ruby method.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">      # It outputs all arguments and a new line.  If an argument is a variable,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">      # then if it is instantiated, its value is output; otherwise its name is output.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">      # If the value is an Array, its inspect is output instead.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">      #   writenl(&#39;X = &#39;, :X, &#39;, Y = &#39;, :Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">      # @param args [Array&lt;Object&gt;] the arguments to be passed to the provided block.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="56">
          <span class="hits">1</span>
          
          <code class="ruby">      def writenl(goal, block, *args)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="57">
          <span class="hits">4</span>
          
          <code class="ruby">        args = args.map(&amp;:value).map(&amp;:value)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="58">
          <span class="hits">4</span>
          
          <code class="ruby">        args = args.map{|arg|</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="59">
          <span class="hits">4</span>
          
          <code class="ruby">          arg.is_a?(Array) ? arg.inspect : arg</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">        }</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="61">
          <span class="hits">4</span>
          
          <code class="ruby">        args = args.map{|arg|</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="62">
          <span class="hits">4</span>
          
          <code class="ruby">          arg.type == :variable ? arg.to_sym.inspect : arg</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">        }</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="64">
          <span class="hits">4</span>
          
          <code class="ruby">        $stdout.puts args.join</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="65">
          <span class="hits">4</span>
          
          <code class="ruby">        block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog nl predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">      # It outputs a newline.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">      #   nl</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="75">
          <span class="hits">1</span>
          
          <code class="ruby">      def nl(goal, block)</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="76">
          <span class="hits">3</span>
          
          <code class="ruby">        $stdout.puts</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="77">
          <span class="hits">3</span>
          
          <code class="ruby">        block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog is predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">      # It instantiates a Variable with the result of the provided block.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">      #   is(:Y, :X) {|x| x + 1 }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">      #   is(:name, :first, :last) {|first, last| [first, last] }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">      #   is(:name, :first, :last) {|first, last| &quot;#{first} #{last}&quot; }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">      # @param variable [Porolog::Variable] the Variable to be instantiated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">      # @param args [Array&lt;Object&gt;] the arguments to be passed to the provided block.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">      # @param is_block [Proc] the block provided in the Goal&#39;s Arguments.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="92">
          <span class="hits">1</span>
          
          <code class="ruby">      def is(goal, block, variable, *args, &amp;is_block)</code>
        </li>
      
        <li class="covered" data-hits="1167" data-linenumber="93">
          <span class="hits">1167</span>
          
          <code class="ruby">        raise NonVariableError, &quot;#{variable.inspect} is not a variable&quot; unless variable.type == :variable</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1166" data-linenumber="95">
          <span class="hits">1166</span>
          
          <code class="ruby">        result = is_block.call(*args.map(&amp;:value).map(&amp;:value))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1166" data-linenumber="97">
          <span class="hits">1166</span>
          
          <code class="ruby">        result &amp;&amp; !!variable.instantiate(result) &amp;&amp; block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog var predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">      # It is satisfied if the argument is an uninstantiated variable.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">      #   var(:X)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">      # @param variable [Porolog::Variable,Object] the argument to be tested.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="108">
          <span class="hits">1</span>
          
          <code class="ruby">      def var(goal, block, variable)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="109">
          <span class="hits">4</span>
          
          <code class="ruby">        variable.value.value.type == :variable &amp;&amp; block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog nonvar predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">      # It is satisfied if the argument is not an uninstantiated variable.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby">      #   nonvar(:X)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">      # @param variable [Porolog::Variable,Object] the argument to be tested.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="120">
          <span class="hits">1</span>
          
          <code class="ruby">      def nonvar(goal, block, variable)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="121">
          <span class="hits">4</span>
          
          <code class="ruby">        variable.value.value.type != :variable &amp;&amp; block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog atom predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">      # It is satisfied if the argument is a String.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">      #   atom(:X)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">      # @param variable [Porolog::Variable,Object] the argument to be tested.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="132">
          <span class="hits">1</span>
          
          <code class="ruby">      def atom(goal, block, variable)</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="133">
          <span class="hits">3</span>
          
          <code class="ruby">        variable.value.value.is_a?(String) &amp;&amp; block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog atomic predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">      # It is satisfied if the argument is a String or an Integer.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">      #   atomic(:X)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">      # @param variable [Porolog::Variable,Object] the argument to be tested.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="144">
          <span class="hits">1</span>
          
          <code class="ruby">      def atomic(goal, block, variable)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="145">
          <span class="hits">4</span>
          
          <code class="ruby">        variable.value.value.type == :atomic &amp;&amp; block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="148">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog integer predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">      # It is satisfied if the argument is an Integer.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">      #   integer(:X)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">      # @param variable [Porolog::Variable,Object] the argument to be tested.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="156">
          <span class="hits">1</span>
          
          <code class="ruby">      def integer(goal, block, variable)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="157">
          <span class="hits">4</span>
          
          <code class="ruby">        variable.value.value.is_a?(Integer) &amp;&amp; block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog == predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby">      # It is satisfied if:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">      # - it is provided with two values (or instantiated Variables) that are equal, or</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">      # - it is provided with two uninstantiaed Variables that are bound to each other.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="164">
          
          
          <code class="ruby">      # Variables are not instantiated; however, if they are uninstantiated, they are</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby">      # temporarily instantiated to a unique value to see if they are bound in some way.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">      #   eq(:X, :Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">      #   eq(:name, [&#39;Sam&#39;, &#39;Smith&#39;])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="170">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="171">
          
          
          <code class="ruby">      # @param x [Object] the left hand side of the equality.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="172">
          
          
          <code class="ruby">      # @param y [Object] the right hand side of the equality.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="174">
          <span class="hits">1</span>
          
          <code class="ruby">      def eq(goal, block, x, y)</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="175">
          <span class="hits">8</span>
          
          <code class="ruby">        x = x.value.value</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="176">
          <span class="hits">8</span>
          
          <code class="ruby">        y = y.value.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="178">
          <span class="hits">8</span>
          
          <code class="ruby">        case [x.type, y.type]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="179">
          
          
          <code class="ruby">          when [:variable, :variable]</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="180">
          <span class="hits">4</span>
          
          <code class="ruby">            equal = false</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="181">
          <span class="hits">4</span>
          
          <code class="ruby">            temporary_instantiation = x.instantiate UNIQUE_VALUE</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="182">
          <span class="hits">4</span>
          
          <code class="ruby">            if temporary_instantiation</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="183">
          <span class="hits">4</span>
          
          <code class="ruby">              equal = y.value.value == UNIQUE_VALUE</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="184">
          <span class="hits">4</span>
          
          <code class="ruby">              temporary_instantiation.remove</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="186">
          <span class="hits">4</span>
          
          <code class="ruby">            equal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="187">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="188">
          <span class="hits">4</span>
          
          <code class="ruby">            x == y</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby">        end &amp;&amp; block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="190">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">      # Corresponds to a synthesis of the standard Prolog == and is predicates.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby">      # The left hand side (i.e. the first parameter) must be a variable.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="194">
          
          
          <code class="ruby">      # It compares equality if the left hand side is instantiated;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="195">
          
          
          <code class="ruby">      # otherwise, it instantiates the left hand side to the right hand side.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="196">
          
          
          <code class="ruby">      # It is satisfied if:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="197">
          
          
          <code class="ruby">      # - the values are equal, or</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="198">
          
          
          <code class="ruby">      # - the variable can successfully be instantiated to the right hand side.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="199">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="200">
          
          
          <code class="ruby">      #   is_eq(:X, :Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">      #   is_eq(:name, [&#39;Sam&#39;, &#39;Smith&#39;])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="202">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="203">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby">      # @param x [Porolog::Variable] the left hand side of the equality / assignment.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby">      # @param y [Object] the right hand side of the equality / assignment.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="207">
          <span class="hits">1</span>
          
          <code class="ruby">      def is_eq(goal, block, x, y)</code>
        </li>
      
        <li class="covered" data-hits="18" data-linenumber="208">
          <span class="hits">18</span>
          
          <code class="ruby">        return false unless x.type == :variable</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="209">
          <span class="hits">15</span>
          
          <code class="ruby">        return block.call(goal) if x.value.value == y.value.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="210">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="211">
          <span class="hits">14</span>
          
          <code class="ruby">        !!x.instantiate(y) &amp;&amp; block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="212">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="213">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="214">
          
          
          <code class="ruby">      # Allows a plain Ruby block to be executed as a goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="215">
          
          
          <code class="ruby">      # It is assumed to be successful unless evaluates to :fail .</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="217">
          
          
          <code class="ruby">      #   ruby(:X, :Y, :Z) {|x, y, z| csv &lt;&lt; [x, y, z] }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="218">
          
          
          <code class="ruby">      #   ruby { $stdout.print &#39;.&#39; }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="219">
          
          
          <code class="ruby">      #   ruby {</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby">      #     $stdout.puts &#39;Forcing backtracking ...&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="221">
          
          
          <code class="ruby">      #     :fail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="222">
          
          
          <code class="ruby">      #   }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="223">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="224">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="225">
          
          
          <code class="ruby">      # @param args [Array&lt;Object&gt;] the arguments to be passed to the provided block.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="226">
          
          
          <code class="ruby">      # @param ruby_block [Proc] the block provided in the Goal&#39;s Arguments.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="227">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="228">
          <span class="hits">1</span>
          
          <code class="ruby">      def ruby(goal, block, *args, &amp;ruby_block)</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="229">
          <span class="hits">8</span>
          
          <code class="ruby">        (ruby_block.call(goal, *args.map(&amp;:value).map(&amp;:value)) != :fail) &amp;&amp; block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="230">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="231">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="232">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog != predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby">      # It is satisfied if:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="234">
          
          
          <code class="ruby">      # - it is provided with two values (or instantiated Variables) that are unequal, or</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="235">
          
          
          <code class="ruby">      # - it is provided with two uninstantiaed Variables that are not bound to each other.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="236">
          
          
          <code class="ruby">      # Variables are not instantiated; however, if they are uninstantiated, they are</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="237">
          
          
          <code class="ruby">      # temporarily instantiated to a unique value to see if they are bound in some way.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="238">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby">      #   noteq(:X, :Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="240">
          
          
          <code class="ruby">      #   noteq(:name, [&#39;Sam&#39;, &#39;Smith&#39;])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="241">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="242">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="243">
          
          
          <code class="ruby">      # @param x [Object] the left hand side of the inequality.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="244">
          
          
          <code class="ruby">      # @param y [Object] the right hand side of the inequality.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="245">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="246">
          <span class="hits">1</span>
          
          <code class="ruby">      def noteq(goal, block, x, y)</code>
        </li>
      
        <li class="covered" data-hits="538" data-linenumber="247">
          <span class="hits">538</span>
          
          <code class="ruby">        x = x.value.value</code>
        </li>
      
        <li class="covered" data-hits="538" data-linenumber="248">
          <span class="hits">538</span>
          
          <code class="ruby">        y = y.value.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="249">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="538" data-linenumber="250">
          <span class="hits">538</span>
          
          <code class="ruby">        case [x.type, y.type]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="251">
          
          
          <code class="ruby">          when [:variable, :variable]</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="252">
          <span class="hits">4</span>
          
          <code class="ruby">            equal = false</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="253">
          <span class="hits">4</span>
          
          <code class="ruby">            temporary_instantiation = x.instantiate UNIQUE_VALUE</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="254">
          <span class="hits">4</span>
          
          <code class="ruby">            if temporary_instantiation</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="255">
          <span class="hits">4</span>
          
          <code class="ruby">              equal = y.value.value == x.value.value</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="256">
          <span class="hits">4</span>
          
          <code class="ruby">              temporary_instantiation.remove</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="257">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="258">
          <span class="hits">4</span>
          
          <code class="ruby">            !equal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="259">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="534" data-linenumber="260">
          <span class="hits">534</span>
          
          <code class="ruby">            x != y</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="261">
          
          
          <code class="ruby">        end &amp;&amp; block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="262">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="263">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="264">
          
          
          <code class="ruby">      # This does not really correspond to a standard Prolog predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="265">
          
          
          <code class="ruby">      # It implements a basic constraint mechanism.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="266">
          
          
          <code class="ruby">      # The Variable is instantiated (if possible) to all possible values provide</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="267">
          
          
          <code class="ruby">      # except for all exclusions.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby">      # Further, the exclusions are checked for collective uniqueness.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="269">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="270">
          
          
          <code class="ruby">      #   is_noteq(:digit, (0..9).to_a, :second_digit, :fifth_digit)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="272">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="273">
          
          
          <code class="ruby">      # @param variable [Porolog::Variable] the variable being instantiated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="274">
          
          
          <code class="ruby">      # @param all_values [Array&lt;Object&gt;] all possible values (i.e. the domain) of the variable.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="275">
          
          
          <code class="ruby">      # @param exclusions [Array&lt;Object&gt;] mutually exclusive values (or variables), which the variable cannot be.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="276">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="277">
          <span class="hits">1</span>
          
          <code class="ruby">      def is_noteq(goal, block, variable, all_values, *exclusions)</code>
        </li>
      
        <li class="covered" data-hits="130" data-linenumber="278">
          <span class="hits">130</span>
          
          <code class="ruby">        return false unless variable.type == :variable</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="279">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="129" data-linenumber="280">
          <span class="hits">129</span>
          
          <code class="ruby">        all_values = all_values.map(&amp;:value).map(&amp;:value)</code>
        </li>
      
        <li class="covered" data-hits="129" data-linenumber="281">
          <span class="hits">129</span>
          
          <code class="ruby">        exclusions = exclusions.map(&amp;:value).map(&amp;:value)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="282">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="129" data-linenumber="283">
          <span class="hits">129</span>
          
          <code class="ruby">        possible_values = goal[anonymous]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="284">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="129" data-linenumber="285">
          <span class="hits">129</span>
          
          <code class="ruby">        if exclusions.uniq.size == exclusions.size</code>
        </li>
      
        <li class="covered" data-hits="62" data-linenumber="286">
          <span class="hits">62</span>
          
          <code class="ruby">          !!possible_values.instantiate(all_values - exclusions) &amp;&amp; Predicate.call_builtin(:member, goal, block, variable, possible_values) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="287">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="67" data-linenumber="288">
          <span class="hits">67</span>
          
          <code class="ruby">          false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="289">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="290">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="291">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="292">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog &lt; predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="293">
          
          
          <code class="ruby">      # It is satisfied if:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="294">
          
          
          <code class="ruby">      # - it is provided with two values (or instantiated Variables) where the first is less than the second.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="295">
          
          
          <code class="ruby">      # Variables are not instantiated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="296">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="297">
          
          
          <code class="ruby">      #   less(:X, :Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="298">
          
          
          <code class="ruby">      #   less(:X, 3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="299">
          
          
          <code class="ruby">      #   less(9, :Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="300">
          
          
          <code class="ruby">      #   less(:name, &#39;max&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="301">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="302">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="303">
          
          
          <code class="ruby">      # @param x [Object] the left hand side of the inequality.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="304">
          
          
          <code class="ruby">      # @param y [Object] the right hand side of the inequality.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="305">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="306">
          <span class="hits">1</span>
          
          <code class="ruby">      def less(goal, block, x, y)</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="307">
          <span class="hits">9</span>
          
          <code class="ruby">        x = x.value.value</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="308">
          <span class="hits">9</span>
          
          <code class="ruby">        y = y.value.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="309">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="310">
          <span class="hits">9</span>
          
          <code class="ruby">        if [x.type, y.type].include?(:variable)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="311">
          <span class="hits">2</span>
          
          <code class="ruby">          false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="312">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="313">
          <span class="hits">7</span>
          
          <code class="ruby">          x &lt; y</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="314">
          
          
          <code class="ruby">        end &amp;&amp; block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="315">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="316">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="317">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog &gt; predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="318">
          
          
          <code class="ruby">      # It is satisfied if:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="319">
          
          
          <code class="ruby">      # - it is provided with two values (or instantiated Variables) where the first is greater than the second.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="320">
          
          
          <code class="ruby">      # Variables are not instantiated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="321">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="322">
          
          
          <code class="ruby">      #   gtr(:X, :Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="323">
          
          
          <code class="ruby">      #   gtr(:X, 3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="324">
          
          
          <code class="ruby">      #   gtr(9, :Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="325">
          
          
          <code class="ruby">      #   gtr(:name, &#39;max&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="326">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="327">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="328">
          
          
          <code class="ruby">      # @param x [Object] the left hand side of the inequality.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="329">
          
          
          <code class="ruby">      # @param y [Object] the right hand side of the inequality.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="330">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="331">
          <span class="hits">1</span>
          
          <code class="ruby">      def gtr(goal, block, x, y)</code>
        </li>
      
        <li class="covered" data-hits="424" data-linenumber="332">
          <span class="hits">424</span>
          
          <code class="ruby">        x = x.value.value</code>
        </li>
      
        <li class="covered" data-hits="424" data-linenumber="333">
          <span class="hits">424</span>
          
          <code class="ruby">        y = y.value.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="334">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="424" data-linenumber="335">
          <span class="hits">424</span>
          
          <code class="ruby">        if [x.type, y.type].include?(:variable)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="336">
          <span class="hits">2</span>
          
          <code class="ruby">          false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="337">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="422" data-linenumber="338">
          <span class="hits">422</span>
          
          <code class="ruby">          x &gt; y</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="339">
          
          
          <code class="ruby">        end &amp;&amp; block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="340">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="341">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="342">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog &lt;= predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="343">
          
          
          <code class="ruby">      # It is satisfied if:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="344">
          
          
          <code class="ruby">      # - it is provided with two values (or instantiated Variables) where the first is less than or equal to the second, or</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="345">
          
          
          <code class="ruby">      # - it is provided with two uninstantiaed Variables that are bound to each other.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="346">
          
          
          <code class="ruby">      # Variables are not instantiated (except temporarily to test if they are bound).</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="347">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="348">
          
          
          <code class="ruby">      #   lesseq(:X, :Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="349">
          
          
          <code class="ruby">      #   lesseq(:X, 3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="350">
          
          
          <code class="ruby">      #   lesseq(9, :Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="351">
          
          
          <code class="ruby">      #   lesseq(:name, &#39;max&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="352">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="353">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="354">
          
          
          <code class="ruby">      # @param x [Object] the left hand side of the inequality.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="355">
          
          
          <code class="ruby">      # @param y [Object] the right hand side of the inequality.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="356">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="357">
          <span class="hits">1</span>
          
          <code class="ruby">      def lesseq(goal, block, x, y)</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="358">
          <span class="hits">12</span>
          
          <code class="ruby">        x = x.value.value</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="359">
          <span class="hits">12</span>
          
          <code class="ruby">        y = y.value.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="360">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="361">
          <span class="hits">12</span>
          
          <code class="ruby">        case [x.type, y.type]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="362">
          
          
          <code class="ruby">          when [:variable, :variable]</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="363">
          <span class="hits">2</span>
          
          <code class="ruby">            equal = false</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="364">
          <span class="hits">2</span>
          
          <code class="ruby">            temporary_instantiation = x.instantiate UNIQUE_VALUE</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="365">
          <span class="hits">2</span>
          
          <code class="ruby">            if temporary_instantiation</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="366">
          <span class="hits">2</span>
          
          <code class="ruby">              equal = y.value.value == UNIQUE_VALUE</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="367">
          <span class="hits">2</span>
          
          <code class="ruby">              temporary_instantiation.remove</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="368">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="369">
          <span class="hits">2</span>
          
          <code class="ruby">            equal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="370">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="371">
          <span class="hits">10</span>
          
          <code class="ruby">            if [x.type, y.type].include?(:variable)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="372">
          <span class="hits">1</span>
          
          <code class="ruby">              false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="373">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="374">
          <span class="hits">9</span>
          
          <code class="ruby">              x &lt;= y</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="375">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="376">
          
          
          <code class="ruby">        end &amp;&amp; block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="377">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="378">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="379">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog &gt;= predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="380">
          
          
          <code class="ruby">      # It is satisfied if:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="381">
          
          
          <code class="ruby">      # - it is provided with two values (or instantiated Variables) where the first is greater than or equal to the second, or</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="382">
          
          
          <code class="ruby">      # - it is provided with two uninstantiaed Variables that are bound to each other.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="383">
          
          
          <code class="ruby">      # Variables are not instantiated (except temporarily to test if they are bound).</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="384">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="385">
          
          
          <code class="ruby">      #   gtreq(:X, :Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="386">
          
          
          <code class="ruby">      #   gtreq(:X, 3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="387">
          
          
          <code class="ruby">      #   gtreq(9, :Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="388">
          
          
          <code class="ruby">      #   gtreq(:name, &#39;max&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="389">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="390">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="391">
          
          
          <code class="ruby">      # @param x [Object] the left hand side of the inequality.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="392">
          
          
          <code class="ruby">      # @param y [Object] the right hand side of the inequality.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="393">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="394">
          <span class="hits">1</span>
          
          <code class="ruby">      def gtreq(goal, block, x, y)</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="395">
          <span class="hits">12</span>
          
          <code class="ruby">        x = x.value.value</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="396">
          <span class="hits">12</span>
          
          <code class="ruby">        y = y.value.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="397">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="398">
          <span class="hits">12</span>
          
          <code class="ruby">        case [x.type, y.type]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="399">
          
          
          <code class="ruby">          when [:variable, :variable]</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="400">
          <span class="hits">2</span>
          
          <code class="ruby">            equal = false</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="401">
          <span class="hits">2</span>
          
          <code class="ruby">            temporary_instantiation = x.instantiate UNIQUE_VALUE</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="402">
          <span class="hits">2</span>
          
          <code class="ruby">            if temporary_instantiation</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="403">
          <span class="hits">2</span>
          
          <code class="ruby">              equal = y.value.value == UNIQUE_VALUE</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="404">
          <span class="hits">2</span>
          
          <code class="ruby">              temporary_instantiation.remove</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="405">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="406">
          <span class="hits">2</span>
          
          <code class="ruby">            equal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="407">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="408">
          <span class="hits">10</span>
          
          <code class="ruby">            if [x.type, y.type].include?(:variable)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="409">
          <span class="hits">1</span>
          
          <code class="ruby">              false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="410">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="411">
          <span class="hits">9</span>
          
          <code class="ruby">              x &gt;= y</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="412">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="413">
          
          
          <code class="ruby">        end &amp;&amp; block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="414">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="415">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="416">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog length predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="417">
          
          
          <code class="ruby">      # It is satisfied if:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="418">
          
          
          <code class="ruby">      # - it is provided with an Array and an Integer where the Integer corresponds to the length of the Array,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="419">
          
          
          <code class="ruby">      # - it is provided with an Array and a Variable and the Variable is successfully instantiated to the length of the Array, or</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="420">
          
          
          <code class="ruby">      # - it is provided with a Variable and an Integer where the Variable is successfully instantiated to an of anonymous variables.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="421">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="422">
          
          
          <code class="ruby">      #   length([1,2,3,4], 4)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="423">
          
          
          <code class="ruby">      #   length([1,2,3,4], :Length)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="424">
          
          
          <code class="ruby">      #   length(:L, 4)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="425">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="426">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="427">
          
          
          <code class="ruby">      # @param list [Array,Porolog::Variable] the list.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="428">
          
          
          <code class="ruby">      # @param length [Integer,Porolog::Variable] the length of the list.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="429">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="430">
          <span class="hits">1</span>
          
          <code class="ruby">      def length(goal, block, list, length)</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="431">
          <span class="hits">11</span>
          
          <code class="ruby">        list   = list.value.value</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="432">
          <span class="hits">11</span>
          
          <code class="ruby">        length = length.value.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="433">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="434">
          <span class="hits">11</span>
          
          <code class="ruby">        case [list.type, length.type]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="435">
          
          
          <code class="ruby">          when [:array, :atomic]</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="436">
          <span class="hits">2</span>
          
          <code class="ruby">            list.length == length</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="437">
          
          
          <code class="ruby">          when [:variable, :atomic]</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="438">
          <span class="hits">25</span>
          
          <code class="ruby">            list.instantiate(Array.new(length){goal[_]})</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="439">
          
          
          <code class="ruby">          when [:array, :variable]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="440">
          <span class="hits">1</span>
          
          <code class="ruby">            length.instantiate(list.length)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="441">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="442">
          <span class="hits">2</span>
          
          <code class="ruby">            false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="443">
          
          
          <code class="ruby">        end &amp;&amp; block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="444">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="445">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="446">
          
          
          <code class="ruby">      # Does not correspond to a standard Prolog predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="447">
          
          
          <code class="ruby">      # This is a convenience Predicate to allow efficient control of</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="448">
          
          
          <code class="ruby">      # iteration as well as range comparison.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="449">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="450">
          
          
          <code class="ruby">      #   between(5, 0, 9)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="451">
          
          
          <code class="ruby">      #   between(:N, 0, 9)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="452">
          
          
          <code class="ruby">      #   between(:N, :Upper, :Lower)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="453">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="454">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="455">
          
          
          <code class="ruby">      # @param variable [String,Integer,Porolog::Variable] the intermediate value or variable.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="456">
          
          
          <code class="ruby">      # @param lower [String,Integer] the lower bound of the iteration or range.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="457">
          
          
          <code class="ruby">      # @param upper [String,Integer] the upper bound of the iteration or range.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="458">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="459">
          <span class="hits">1</span>
          
          <code class="ruby">      def between(goal, block, variable, lower, upper)</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="460">
          <span class="hits">13</span>
          
          <code class="ruby">        variable = variable.value.value</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="461">
          <span class="hits">13</span>
          
          <code class="ruby">        lower    = lower.value.value</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="462">
          <span class="hits">13</span>
          
          <code class="ruby">        upper    = upper.value.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="463">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="464">
          <span class="hits">13</span>
          
          <code class="ruby">        case [variable.type, lower.type, upper.type]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="465">
          
          
          <code class="ruby">          when [:atomic, :atomic, :atomic]</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="466">
          <span class="hits">2</span>
          
          <code class="ruby">            (lower..upper) === variable &amp;&amp; block.call(goal) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="467">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="468">
          
          
          <code class="ruby">          when [:atomic, :variable, :variable]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="469">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="470">
          <span class="hits">1</span>
          
          <code class="ruby">            lower_instantiation = lower.instantiate(variable)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="471">
          <span class="hits">1</span>
          
          <code class="ruby">            upper_instantiation = lower_instantiation &amp;&amp; upper.instantiate(variable)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="472">
          <span class="hits">1</span>
          
          <code class="ruby">            upper_instantiation &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="473">
          <span class="hits">1</span>
          
          <code class="ruby">            upper_instantiation&amp;.remove</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="474">
          <span class="hits">1</span>
          
          <code class="ruby">            lower_instantiation&amp;.remove</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="475">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="476">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="477">
          
          
          <code class="ruby">          when [:atomic, :atomic, :variable]</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="478">
          <span class="hits">2</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="479">
          <span class="hits">2</span>
          
          <code class="ruby">            if variable &gt;= lower</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="480">
          <span class="hits">1</span>
          
          <code class="ruby">              upper_instantiation = upper.instantiate(variable)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="481">
          <span class="hits">1</span>
          
          <code class="ruby">              upper_instantiation &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="482">
          <span class="hits">1</span>
          
          <code class="ruby">              upper_instantiation&amp;.remove</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="483">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="484">
          <span class="hits">2</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="485">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="486">
          
          
          <code class="ruby">          when [:atomic, :variable, :atomic]</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="487">
          <span class="hits">2</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="488">
          <span class="hits">2</span>
          
          <code class="ruby">            if variable &lt;= upper</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="489">
          <span class="hits">1</span>
          
          <code class="ruby">              lower_instantiation = lower.instantiate(variable)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="490">
          <span class="hits">1</span>
          
          <code class="ruby">              lower_instantiation &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="491">
          <span class="hits">1</span>
          
          <code class="ruby">              lower_instantiation&amp;.remove</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="492">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="493">
          <span class="hits">2</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="494">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="495">
          
          
          <code class="ruby">          when [:variable, :atomic, :atomic]</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="496">
          <span class="hits">4</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="497">
          <span class="hits">4</span>
          
          <code class="ruby">            (lower..upper).each do |i|</code>
        </li>
      
        <li class="covered" data-hits="246" data-linenumber="498">
          <span class="hits">246</span>
          
          <code class="ruby">              instantiation = variable.instantiate(i)</code>
        </li>
      
        <li class="covered" data-hits="246" data-linenumber="499">
          <span class="hits">246</span>
          
          <code class="ruby">              instantiation &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true) || false</code>
        </li>
      
        <li class="covered" data-hits="245" data-linenumber="500">
          <span class="hits">245</span>
          
          <code class="ruby">              instantiation&amp;.remove</code>
        </li>
      
        <li class="covered" data-hits="245" data-linenumber="501">
          <span class="hits">245</span>
          
          <code class="ruby">              return satisfied if goal.terminated?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="502">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="503">
          <span class="hits">3</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="504">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="505">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="506">
          <span class="hits">2</span>
          
          <code class="ruby">            false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="507">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="508">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="509">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="510">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog member predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="511">
          
          
          <code class="ruby">      # This implements the usual operation of member but also</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="512">
          
          
          <code class="ruby">      # provides the ability to generate lists that contain the</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="513">
          
          
          <code class="ruby">      # provided element, even if the element is an uninstantiated variable.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="514">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="515">
          
          
          <code class="ruby">      #   member(3, [1,2,3,4,5])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="516">
          
          
          <code class="ruby">      #   member([&#39;Chris&#39;,&#39;Smith&#39;], [[&#39;Foo&#39;,&#39;Bar&#39;],[&#39;Boo&#39;,&#39;Far&#39;],[&#39;Chris&#39;,&#39;Smith&#39;]])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="517">
          
          
          <code class="ruby">      #   member(:X, [1,2,3,4,5])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="518">
          
          
          <code class="ruby">      #   member(:X, :Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="519">
          
          
          <code class="ruby">      #   member(:X, :Y, 5)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="520">
          
          
          <code class="ruby">      #   member(3, :Y, 10)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="521">
          
          
          <code class="ruby">      #   member([&#39;Chris&#39;,&#39;Smith&#39;], :Names, 16)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="522">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="523">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="524">
          
          
          <code class="ruby">      # @param element [Object] the element to be found in the provided or generated list.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="525">
          
          
          <code class="ruby">      # @param list [Array,Porolog::Variable] the provided or generated list that is to contain the element.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="526">
          
          
          <code class="ruby">      # @param limit [Integer] the number of lists to generate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="527">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="528">
          <span class="hits">1</span>
          
          <code class="ruby">      def member(goal, block, element, list, limit = 100)</code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="529">
          <span class="hits">80</span>
          
          <code class="ruby">        element_value = element.value.value</code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="530">
          <span class="hits">80</span>
          
          <code class="ruby">        list          = list.value.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="531">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="532">
          <span class="hits">80</span>
          
          <code class="ruby">        case [element_value.type, list.type]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="533">
          
          
          <code class="ruby">          when [:atomic, :array], [:array, :array]</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="534">
          <span class="hits">12</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="535">
          <span class="hits">12</span>
          
          <code class="ruby">            list.each do |i|</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="536">
          <span class="hits">40</span>
          
          <code class="ruby">              unifications   = unify(element_value, i, goal)</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="537">
          <span class="hits">40</span>
          
          <code class="ruby">              if unifications</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="538">
          <span class="hits">21</span>
          
          <code class="ruby">                instantiations = instantiate_unifications(unifications)</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="539">
          <span class="hits">21</span>
          
          <code class="ruby">                if instantiations</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="540">
          <span class="hits">21</span>
          
          <code class="ruby">                  block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="541">
          <span class="hits">21</span>
          
          <code class="ruby">                  instantiations.each(&amp;:remove)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="542">
          
          
          <code class="ruby">                end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="543">
          
          
          <code class="ruby">              end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="544">
          
          
          <code class="ruby">              </code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="545">
          <span class="hits">40</span>
          
          <code class="ruby">              return satisfied if goal.terminated?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="546">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="547">
          <span class="hits">12</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="548">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="549">
          
          
          <code class="ruby">          when [:variable, :array]</code>
        </li>
      
        <li class="covered" data-hits="66" data-linenumber="550">
          <span class="hits">66</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="66" data-linenumber="551">
          <span class="hits">66</span>
          
          <code class="ruby">            list.each do |i|</code>
        </li>
      
        <li class="covered" data-hits="94" data-linenumber="552">
          <span class="hits">94</span>
          
          <code class="ruby">              instantiation = element_value.instantiate(i)</code>
        </li>
      
        <li class="covered" data-hits="94" data-linenumber="553">
          <span class="hits">94</span>
          
          <code class="ruby">              instantiation &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="94" data-linenumber="554">
          <span class="hits">94</span>
          
          <code class="ruby">              instantiation&amp;.remove</code>
        </li>
      
        <li class="covered" data-hits="94" data-linenumber="555">
          <span class="hits">94</span>
          
          <code class="ruby">              return satisfied if goal.terminated?</code>
        </li>
      
        <li class="covered" data-hits="94" data-linenumber="556">
          <span class="hits">94</span>
          
          <code class="ruby">              satisfied = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="557">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="66" data-linenumber="558">
          <span class="hits">66</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="559">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="560">
          
          
          <code class="ruby">          when [:variable, :variable], [:atomic, :variable], [:array, :variable]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="561">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="562">
          <span class="hits">1</span>
          
          <code class="ruby">            limit.times do |i|</code>
        </li>
      
        <li class="covered" data-hits="78" data-linenumber="563">
          <span class="hits">78</span>
          
          <code class="ruby">              instantiation = list.instantiate([*Array.new(i){goal[_]}, element, UNKNOWN_TAIL])</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="564">
          <span class="hits">12</span>
          
          <code class="ruby">              instantiation &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="565">
          <span class="hits">12</span>
          
          <code class="ruby">              instantiation&amp;.remove</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="566">
          <span class="hits">12</span>
          
          <code class="ruby">              return satisfied if goal.terminated?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="567">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="568">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="569">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="570">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="571">
          <span class="hits">1</span>
          
          <code class="ruby">            false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="572">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="573">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="574">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="575">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog append predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="576">
          
          
          <code class="ruby">      # This implements the usual operation of member but also</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="577">
          
          
          <code class="ruby">      # provides the ability instantiate uninstantiated arguments</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="578">
          
          
          <code class="ruby">      # as an instnatiation of the concatenation of the first two arguments.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="579">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="580">
          
          
          <code class="ruby">      #   append([1,2,3], [4,5,6], [1,2,3,4,5,6])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="581">
          
          
          <code class="ruby">      #   append([1,2,3], [4,5,6], :C)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="582">
          
          
          <code class="ruby">      #   append([1,2,3], :B, [1,2,3,4,5,6])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="583">
          
          
          <code class="ruby">      #   append(:A, [4,5,6], [1,2,3,4,5,6])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="584">
          
          
          <code class="ruby">      #   append(:A, :B, [1,2,3,4,5,6])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="585">
          
          
          <code class="ruby">      #   append([1,2,3], :B, :C)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="586">
          
          
          <code class="ruby">      #   append(:A, [4,5,6], :C)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="587">
          
          
          <code class="ruby">      #   append(:A, :B, :C)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="588">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="589">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="590">
          
          
          <code class="ruby">      # @param front [Array,Porolog::Variable] the front portion of the combined front_back argument.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="591">
          
          
          <code class="ruby">      # @param back [Array,Porolog::Variable] the back portion of the combined front_back argument.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="592">
          
          
          <code class="ruby">      # @param front_back [Array,Porolog::Variable] the combined argument of the front and back arguments.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="593">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="594">
          <span class="hits">1</span>
          
          <code class="ruby">      def append(goal, block, front, back, front_back)</code>
        </li>
      
        <li class="covered" data-hits="33" data-linenumber="595">
          <span class="hits">33</span>
          
          <code class="ruby">        front       = front.value.value</code>
        </li>
      
        <li class="covered" data-hits="33" data-linenumber="596">
          <span class="hits">33</span>
          
          <code class="ruby">        back        = back.value.value</code>
        </li>
      
        <li class="covered" data-hits="33" data-linenumber="597">
          <span class="hits">33</span>
          
          <code class="ruby">        front_back  = front_back.value.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="598">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="33" data-linenumber="599">
          <span class="hits">33</span>
          
          <code class="ruby">        case [front.type, back.type, front_back.type]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="600">
          
          
          <code class="ruby">          when [:array, :array, :array]</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="601">
          <span class="hits">5</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="602">
          <span class="hits">5</span>
          
          <code class="ruby">            if front.length + back.length == front_back.length</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="603">
          <span class="hits">5</span>
          
          <code class="ruby">              unifications   = unify(front + back, front_back, goal)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="604">
          <span class="hits">5</span>
          
          <code class="ruby">              instantiations = instantiate_unifications(unifications) if unifications</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="605">
          <span class="hits">5</span>
          
          <code class="ruby">              instantiations &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="606">
          <span class="hits">5</span>
          
          <code class="ruby">              instantiations&amp;.each(&amp;:remove)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="607">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="608">
          <span class="hits">5</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="609">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="610">
          
          
          <code class="ruby">          when [:array, :array, :variable]</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="611">
          <span class="hits">21</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="612">
          <span class="hits">21</span>
          
          <code class="ruby">            unifications   = unify(front + back, front_back, goal)</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="613">
          <span class="hits">21</span>
          
          <code class="ruby">            instantiations = instantiate_unifications(unifications) if unifications</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="614">
          <span class="hits">21</span>
          
          <code class="ruby">            instantiations &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="615">
          <span class="hits">21</span>
          
          <code class="ruby">            instantiations&amp;.each(&amp;:remove)</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="616">
          <span class="hits">21</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="617">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="618">
          
          
          <code class="ruby">          when [:array, :variable, :array]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="619">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="620">
          <span class="hits">1</span>
          
          <code class="ruby">            if front.length &lt;= front_back.length</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="621">
          <span class="hits">1</span>
          
          <code class="ruby">              expected_front = front_back[0...front.length]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="622">
          <span class="hits">1</span>
          
          <code class="ruby">              expected_back  = front_back[front.length..-1]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="623">
          
          
          <code class="ruby">              </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="624">
          <span class="hits">1</span>
          
          <code class="ruby">              unifications   = unify(front, expected_front, goal)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="625">
          <span class="hits">1</span>
          
          <code class="ruby">              unifications  += unify(back,  expected_back,  goal)     if unifications</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="626">
          <span class="hits">1</span>
          
          <code class="ruby">              instantiations = instantiate_unifications(unifications) if unifications</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="627">
          <span class="hits">1</span>
          
          <code class="ruby">              instantiations &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="628">
          <span class="hits">1</span>
          
          <code class="ruby">              instantiations&amp;.each(&amp;:remove)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="629">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="630">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="631">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="632">
          
          
          <code class="ruby">          when [:variable, :array, :array]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="633">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="634">
          <span class="hits">1</span>
          
          <code class="ruby">            if back.length &lt;= front_back.length</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="635">
          <span class="hits">1</span>
          
          <code class="ruby">              expected_front = front_back[0...-back.length]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="636">
          <span class="hits">1</span>
          
          <code class="ruby">              expected_back  = front_back[-back.length..-1]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="637">
          
          
          <code class="ruby">              </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="638">
          <span class="hits">1</span>
          
          <code class="ruby">              unifications   = unify(front, expected_front, goal)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="639">
          <span class="hits">1</span>
          
          <code class="ruby">              unifications  += unify(back,  expected_back,  goal)     if unifications</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="640">
          <span class="hits">1</span>
          
          <code class="ruby">              instantiations = instantiate_unifications(unifications) if unifications</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="641">
          <span class="hits">1</span>
          
          <code class="ruby">              instantiations &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="642">
          <span class="hits">1</span>
          
          <code class="ruby">              instantiations&amp;.each(&amp;:remove)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="643">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="644">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="645">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="646">
          
          
          <code class="ruby">          when [:variable, :variable, :array]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="647">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="648">
          <span class="hits">1</span>
          
          <code class="ruby">            (front_back.length + 1).times do |i|</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="649">
          <span class="hits">6</span>
          
          <code class="ruby">              expected_front = front_back[0...i]</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="650">
          <span class="hits">6</span>
          
          <code class="ruby">              expected_back  = front_back[i..-1]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="651">
          
          
          <code class="ruby">              </code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="652">
          <span class="hits">6</span>
          
          <code class="ruby">              unifications   = unify(front, expected_front, goal)</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="653">
          <span class="hits">6</span>
          
          <code class="ruby">              unifications  += unify(back,  expected_back,  goal)     if unifications</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="654">
          <span class="hits">6</span>
          
          <code class="ruby">              instantiations = instantiate_unifications(unifications) if unifications</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="655">
          <span class="hits">6</span>
          
          <code class="ruby">              instantiations &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="656">
          <span class="hits">6</span>
          
          <code class="ruby">              instantiations&amp;.each(&amp;:remove)</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="657">
          <span class="hits">6</span>
          
          <code class="ruby">              return satisfied if goal.terminated?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="658">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="659">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="660">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="661">
          
          
          <code class="ruby">          when [:array, :variable, :variable]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="662">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="663">
          <span class="hits">1</span>
          
          <code class="ruby">            unifications   = unify(front / back, front_back, goal)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="664">
          <span class="hits">1</span>
          
          <code class="ruby">            instantiations = instantiate_unifications(unifications) if unifications</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="665">
          <span class="hits">1</span>
          
          <code class="ruby">            instantiations &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="666">
          <span class="hits">1</span>
          
          <code class="ruby">            instantiations&amp;.each(&amp;:remove)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="667">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="668">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="669">
          
          
          <code class="ruby">          when [:variable, :array, :variable]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="670">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="671">
          <span class="hits">1</span>
          
          <code class="ruby">            instantiation_head = front_back.instantiate(front, nil, :flathead)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="672">
          <span class="hits">1</span>
          
          <code class="ruby">            instantiation_tail = front_back.instantiate(back,  nil, :flattail)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="673">
          <span class="hits">1</span>
          
          <code class="ruby">            instantiations = [instantiation_head, instantiation_tail].compact</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="674">
          <span class="hits">1</span>
          
          <code class="ruby">            instantiations = nil if instantiations.empty?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="675">
          <span class="hits">1</span>
          
          <code class="ruby">            instantiations &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="676">
          <span class="hits">1</span>
          
          <code class="ruby">            instantiations&amp;.each(&amp;:remove)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="677">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="678">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="679">
          
          
          <code class="ruby">          when [:variable, :variable, :variable]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="680">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="681">
          <span class="hits">1</span>
          
          <code class="ruby">            instantiation_head = front_back.instantiate(front, nil, :flathead)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="682">
          <span class="hits">1</span>
          
          <code class="ruby">            instantiation_tail = front_back.instantiate(back,  nil, :flattail)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="683">
          <span class="hits">1</span>
          
          <code class="ruby">            instantiations = [instantiation_head, instantiation_tail].compact</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="684">
          <span class="hits">1</span>
          
          <code class="ruby">            instantiations = nil if instantiations.empty?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="685">
          <span class="hits">1</span>
          
          <code class="ruby">            instantiations &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="686">
          <span class="hits">1</span>
          
          <code class="ruby">            instantiations&amp;.each(&amp;:remove)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="687">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="688">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="689">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="690">
          <span class="hits">1</span>
          
          <code class="ruby">            false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="691">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="692">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="693">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="694">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog permutation predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="695">
          
          
          <code class="ruby">      # It not only returns whether one list is a permutation of the other</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="696">
          
          
          <code class="ruby">      # but also can generate permutations.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="697">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="698">
          
          
          <code class="ruby">      #   permutation([3,1,2,4], [1,2,3,4])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="699">
          
          
          <code class="ruby">      #   permutation([3,:A,2,4], [1,2,3,4])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="700">
          
          
          <code class="ruby">      #   permutation([3,1,2,4], [1,2,:C,4])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="701">
          
          
          <code class="ruby">      #   permutation([3,1,:B,4], [1,2,:C,4])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="702">
          
          
          <code class="ruby">      #   permutation([3,1,2,4], :Q)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="703">
          
          
          <code class="ruby">      #   permutation(:P, [1,2,3,4])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="704">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="705">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="706">
          
          
          <code class="ruby">      # @param list1 [Array,Porolog::Variable] the first list.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="707">
          
          
          <code class="ruby">      # @param list2 [Array,Porolog::Variable] the second list.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="708">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="709">
          <span class="hits">1</span>
          
          <code class="ruby">      def permutation(goal, block, list1, list2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="710">
          
          
          <code class="ruby">        # TODO: Detect and deal with tails</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="711">
          
          
          <code class="ruby">        #   E.g. permutation([:H]/:T, [1,...])</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="712">
          <span class="hits">10</span>
          
          <code class="ruby">        list1       = list1.value.value</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="713">
          <span class="hits">10</span>
          
          <code class="ruby">        list2       = list2.value.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="714">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="715">
          <span class="hits">10</span>
          
          <code class="ruby">        case [list1.type, list2.type]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="716">
          
          
          <code class="ruby">          when [:array, :array]</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="717">
          <span class="hits">7</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="718">
          <span class="hits">7</span>
          
          <code class="ruby">            case [list1.variables.empty?, list2.variables.empty?]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="719">
          
          
          <code class="ruby">              when [true, true]</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="720">
          <span class="hits">2</span>
          
          <code class="ruby">                list1 = list1.sort_by(&amp;:inspect)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="721">
          <span class="hits">2</span>
          
          <code class="ruby">                list2 = list2.sort_by(&amp;:inspect)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="722">
          
          
          <code class="ruby">                </code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="723">
          <span class="hits">2</span>
          
          <code class="ruby">                unifications   = unify(list1, list2, goal)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="724">
          <span class="hits">2</span>
          
          <code class="ruby">                instantiations = instantiate_unifications(unifications) if unifications</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="725">
          <span class="hits">2</span>
          
          <code class="ruby">                instantiations &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="726">
          <span class="hits">2</span>
          
          <code class="ruby">                instantiations&amp;.each(&amp;:remove)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="727">
          
          
          <code class="ruby">              </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="728">
          
          
          <code class="ruby">              when [false, true], [false, false]</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="729">
          <span class="hits">4</span>
          
          <code class="ruby">                list2.permutation do |p|</code>
        </li>
      
        <li class="covered" data-hits="96" data-linenumber="730">
          <span class="hits">96</span>
          
          <code class="ruby">                  unifications   = unify(list1, p, goal)</code>
        </li>
      
        <li class="covered" data-hits="96" data-linenumber="731">
          <span class="hits">96</span>
          
          <code class="ruby">                  instantiations = nil</code>
        </li>
      
        <li class="covered" data-hits="96" data-linenumber="732">
          <span class="hits">96</span>
          
          <code class="ruby">                  instantiations = instantiate_unifications(unifications) if unifications</code>
        </li>
      
        <li class="covered" data-hits="96" data-linenumber="733">
          <span class="hits">96</span>
          
          <code class="ruby">                  instantiations &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="96" data-linenumber="734">
          <span class="hits">96</span>
          
          <code class="ruby">                  instantiations&amp;.each(&amp;:remove)</code>
        </li>
      
        <li class="covered" data-hits="96" data-linenumber="735">
          <span class="hits">96</span>
          
          <code class="ruby">                  return satisfied if goal.terminated?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="736">
          
          
          <code class="ruby">                end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="737">
          
          
          <code class="ruby">              </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="738">
          
          
          <code class="ruby">              when [true, false]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="739">
          <span class="hits">1</span>
          
          <code class="ruby">                list1.permutation do |p|</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="740">
          <span class="hits">24</span>
          
          <code class="ruby">                  unifications   = unify(list2, p, goal)</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="741">
          <span class="hits">24</span>
          
          <code class="ruby">                  instantiations = nil</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="742">
          <span class="hits">24</span>
          
          <code class="ruby">                  instantiations = instantiate_unifications(unifications) if unifications</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="743">
          <span class="hits">24</span>
          
          <code class="ruby">                  instantiations &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="744">
          <span class="hits">24</span>
          
          <code class="ruby">                  instantiations&amp;.each(&amp;:remove)</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="745">
          <span class="hits">24</span>
          
          <code class="ruby">                  return satisfied if goal.terminated?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="746">
          
          
          <code class="ruby">                end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="747">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="748">
          <span class="hits">7</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="749">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="750">
          
          
          <code class="ruby">          when [:array, :variable]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="751">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="752">
          <span class="hits">1</span>
          
          <code class="ruby">            list1.permutation do |p|</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="753">
          <span class="hits">24</span>
          
          <code class="ruby">              unifications   = unify(p, list2, goal)</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="754">
          <span class="hits">24</span>
          
          <code class="ruby">              instantiations = instantiate_unifications(unifications) if unifications</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="755">
          <span class="hits">24</span>
          
          <code class="ruby">              instantiations &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="756">
          <span class="hits">24</span>
          
          <code class="ruby">              instantiations&amp;.each(&amp;:remove)</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="757">
          <span class="hits">24</span>
          
          <code class="ruby">              return satisfied if goal.terminated?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="758">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="759">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="760">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="761">
          
          
          <code class="ruby">          when [:variable, :array]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="762">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="763">
          <span class="hits">1</span>
          
          <code class="ruby">            list2.permutation do |p|</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="764">
          <span class="hits">24</span>
          
          <code class="ruby">              unifications   = unify(list1, p, goal)</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="765">
          <span class="hits">24</span>
          
          <code class="ruby">              instantiations = nil</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="766">
          <span class="hits">24</span>
          
          <code class="ruby">              instantiations = instantiate_unifications(unifications) if unifications</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="767">
          <span class="hits">24</span>
          
          <code class="ruby">              instantiations &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="768">
          <span class="hits">24</span>
          
          <code class="ruby">              instantiations&amp;.each(&amp;:remove)</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="769">
          <span class="hits">24</span>
          
          <code class="ruby">              return satisfied if goal.terminated?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="770">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="771">
          <span class="hits">1</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="772">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="773">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="774">
          <span class="hits">1</span>
          
          <code class="ruby">            false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="775">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="776">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="777">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="778">
          
          
          <code class="ruby">      # Corresponds to the standard Prolog reverse predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="779">
          
          
          <code class="ruby">      # It returns whether the lists are a reversal of each other,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="780">
          
          
          <code class="ruby">      # or otherwise generates a reversed list.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="781">
          
          
          <code class="ruby">      # Use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="782">
          
          
          <code class="ruby">      #   reverse([1,2,3,4], [4,3,2,1])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="783">
          
          
          <code class="ruby">      #   reverse([1,:A,3,4], [4,3,2,1])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="784">
          
          
          <code class="ruby">      #   reverse([1,2,3,4], [4,:B,2,1])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="785">
          
          
          <code class="ruby">      #   reverse([1,:A,3,4], [4,:B,2,1])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="786">
          
          
          <code class="ruby">      #   reverse(:L, [4,3,2,1])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="787">
          
          
          <code class="ruby">      #   reverse([1,2,3,4], :L)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="788">
          
          
          <code class="ruby">      # @param goal [Porolog::Goal] the Goal to satisfy the Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="789">
          
          
          <code class="ruby">      # @param block [Proc] the continuation of solving to call if this Predicate is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="790">
          
          
          <code class="ruby">      # @param list1 [Array,Porolog::Variable] the first list.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="791">
          
          
          <code class="ruby">      # @param list2 [Array,Porolog::Variable] the second list.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="792">
          
          
          <code class="ruby">      # @return [Boolean] whether the goal was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="793">
          <span class="hits">1</span>
          
          <code class="ruby">      def reverse(goal, block, list1, list2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="794">
          
          
          <code class="ruby">        # TODO: Detect and deal with tails</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="795">
          
          
          <code class="ruby">        #   E.g. reverse([:H]/:T, [1,...])</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="796">
          <span class="hits">11</span>
          
          <code class="ruby">        list1 = list1.value.value</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="797">
          <span class="hits">11</span>
          
          <code class="ruby">        list2 = list2.value.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="798">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="799">
          <span class="hits">11</span>
          
          <code class="ruby">        case [list1.type, list2.type]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="800">
          
          
          <code class="ruby">          when [:array, :array], [:variable, :array]</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="801">
          <span class="hits">7</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="802">
          <span class="hits">7</span>
          
          <code class="ruby">            unifications   = unify(list1, list2.reverse, goal)</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="803">
          <span class="hits">7</span>
          
          <code class="ruby">            instantiations = instantiate_unifications(unifications) if unifications</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="804">
          <span class="hits">7</span>
          
          <code class="ruby">            instantiations &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="805">
          <span class="hits">7</span>
          
          <code class="ruby">            instantiations&amp;.each(&amp;:remove)</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="806">
          <span class="hits">7</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="807">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="808">
          
          
          <code class="ruby">          when [:array, :variable]</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="809">
          <span class="hits">2</span>
          
          <code class="ruby">            satisfied = false</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="810">
          <span class="hits">2</span>
          
          <code class="ruby">            unifications   = unify(list1.reverse, list2, goal)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="811">
          <span class="hits">2</span>
          
          <code class="ruby">            instantiations = instantiate_unifications(unifications) if unifications</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="812">
          <span class="hits">2</span>
          
          <code class="ruby">            instantiations &amp;&amp; block.call(goal) &amp;&amp; (satisfied = true)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="813">
          <span class="hits">2</span>
          
          <code class="ruby">            instantiations&amp;.each(&amp;:remove)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="814">
          <span class="hits">2</span>
          
          <code class="ruby">            satisfied</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="815">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="816">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="817">
          <span class="hits">2</span>
          
          <code class="ruby">            false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="818">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="819">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="820">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="821">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="822">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="823">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="824">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="825">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="a757ef6ff8fffd8fc988adf32f7fa90aa46219fb">
  <div class="header">
    <h3>lib/porolog/rule.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>59</b> relevant lines. 
      <span class="green"><b>59</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   lib/porolog/rule.rb      - Plain Old Ruby Objects Prolog Engine -- Rule</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban   2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">module Porolog</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">  # A Porolog::Rule is one clause of a Porolog::Predicate.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">  # @author Luis Esteban</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  # @!attribute [r] arguments</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  #   The Arguments of the Predicate for which this Rule applies.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">  # @!attribute [r] definition</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  #   The definition of the Rule.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="19">
          <span class="hits">1</span>
          
          <code class="ruby">  class Rule</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">    # Error class for rescuing or detecting any Rule error.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="22">
          <span class="hits">1</span>
          
          <code class="ruby">    class Error           &lt; PorologError ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">    # Error class indicating that there is an error in the definition of the Rule.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="24">
          <span class="hits">1</span>
          
          <code class="ruby">    class DefinitionError &lt; Error        ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="26">
          <span class="hits">1</span>
          
          <code class="ruby">    attr_reader :arguments, :definition</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">    # Clears all Rules.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">    # @return [Boolean] success</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="30">
          <span class="hits">1</span>
          
          <code class="ruby">    def self.reset</code>
        </li>
      
        <li class="covered" data-hits="720" data-linenumber="31">
          <span class="hits">720</span>
          
          <code class="ruby">      @@rules = []</code>
        </li>
      
        <li class="covered" data-hits="720" data-linenumber="32">
          <span class="hits">720</span>
          
          <code class="ruby">      true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="35">
          <span class="hits">1</span>
          
          <code class="ruby">    reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">    # Initializes the Rule.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">    # @param arguments [Porolog::Arguments] the Arguments of the Predicate for which this Rule applies.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">    # @param definition [Object] the definition of the Rule.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="40">
          <span class="hits">1</span>
          
          <code class="ruby">    def initialize(arguments, definition = nil)</code>
        </li>
      
        <li class="covered" data-hits="184" data-linenumber="41">
          <span class="hits">184</span>
          
          <code class="ruby">      @arguments  = arguments</code>
        </li>
      
        <li class="covered" data-hits="184" data-linenumber="42">
          <span class="hits">184</span>
          
          <code class="ruby">      @definition = definition</code>
        </li>
      
        <li class="covered" data-hits="184" data-linenumber="43">
          <span class="hits">184</span>
          
          <code class="ruby">      @@rules &lt;&lt; self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">    # Convenience method for testing/debugging</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">    # @return [String] pretty identification</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="48">
          <span class="hits">1</span>
          
          <code class="ruby">    def myid</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="49">
          <span class="hits">10</span>
          
          <code class="ruby">      &quot;Rule#{(@@rules.index(self) || -1000) + 1}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">    # @return [String] pretty representation.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="53">
          <span class="hits">1</span>
          
          <code class="ruby">    def inspect</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="54">
          <span class="hits">15</span>
          
          <code class="ruby">      &quot;  #{@arguments.inspect}:- #{@definition.inspect}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">    # Try to satisfy the Rule for the given Goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">    # @param goal [Porolog::Goal] the Goal in which to satisfy this Rule.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">    # @param block [Proc] code to perform when the Rule is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">    # @return [Boolean] the success of deleting the subgoal.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="61">
          <span class="hits">1</span>
          
          <code class="ruby">    def satisfy(goal, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="2590" data-linenumber="62">
          <span class="hits">2590</span>
          
          <code class="ruby">      subgoal = Goal.new self.arguments, goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="2590" data-linenumber="64">
          <span class="hits">2590</span>
          
          <code class="ruby">      unified_goals = unify_goals(goal, subgoal)</code>
        </li>
      
        <li class="covered" data-hits="2590" data-linenumber="65">
          <span class="hits">2590</span>
          
          <code class="ruby">      if unified_goals</code>
        </li>
      
        <li class="covered" data-hits="1989" data-linenumber="66">
          <span class="hits">1989</span>
          
          <code class="ruby">        satisfy_definition(goal, subgoal) do |solution_goal|</code>
        </li>
      
        <li class="covered" data-hits="1465" data-linenumber="67">
          <span class="hits">1465</span>
          
          <code class="ruby">          block.call(solution_goal)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="601" data-linenumber="70">
          <span class="hits">601</span>
          
          <code class="ruby">        subgoal.log &lt;&lt; &quot;Dead-end: Cannot unify with #{goal.inspect}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="2576" data-linenumber="73">
          <span class="hits">2576</span>
          
          <code class="ruby">      subgoal.delete!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">    # Try to satisfy the definition of the Rule for a given Goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">    # @param goal [Porolog::Goal] the given Goal for the Rule.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">    # @param subgoal [Porolog::Goal] the subgoal for the Rule&#39;s definition.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">    # @param block [Proc] code to perform when the definition is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">    # @return [Boolean] whether the definition was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="81">
          <span class="hits">1</span>
          
          <code class="ruby">    def satisfy_definition(goal, subgoal, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="1992" data-linenumber="82">
          <span class="hits">1992</span>
          
          <code class="ruby">      case @definition</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">        when TrueClass</code>
        </li>
      
        <li class="covered" data-hits="937" data-linenumber="84">
          <span class="hits">937</span>
          
          <code class="ruby">          block.call(subgoal)</code>
        </li>
      
        <li class="covered" data-hits="934" data-linenumber="85">
          <span class="hits">934</span>
          
          <code class="ruby">          true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">        when FalseClass</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="88">
          <span class="hits">3</span>
          
          <code class="ruby">          false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">        when Array</code>
        </li>
      
        <li class="covered" data-hits="1051" data-linenumber="91">
          <span class="hits">1051</span>
          
          <code class="ruby">          satisfy_conjunction(goal, subgoal, @definition) do |solution_goal|</code>
        </li>
      
        <li class="covered" data-hits="530" data-linenumber="92">
          <span class="hits">530</span>
          
          <code class="ruby">            block.call(solution_goal)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="96">
          <span class="hits">1</span>
          
          <code class="ruby">          raise DefinitionError, &quot;UNEXPECTED TYPE OF DEFINITION: #{@definition.inspect} (#{@definition.class})&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">    # Try to satisfy the conjunction of the definition of the Rule for a given Goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">    # A conjunction is a sequence of expressions where the sequence is true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">    # if all the expressions are true.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">    #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">    # @param goal [Porolog::Goal] the given Goal for the Rule.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">    # @param subgoal [Porolog::Goal] the subgoal for the Rule&#39;s definition.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">    # @param conjunction [Array] the conjunction to satisfy.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">    # @param block [Proc] code to perform when the definition is satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">    # @return [Boolean] whether the definition was satisfied.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="109">
          <span class="hits">1</span>
          
          <code class="ruby">    def satisfy_conjunction(goal, subgoal, conjunction, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="4247" data-linenumber="110">
          <span class="hits">4247</span>
          
          <code class="ruby">      arguments   = conjunction.first</code>
        </li>
      
        <li class="covered" data-hits="4247" data-linenumber="111">
          <span class="hits">4247</span>
          
          <code class="ruby">      conjunction = conjunction[1..-1]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">      # -- Handle non-Arguments --</code>
        </li>
      
        <li class="covered" data-hits="4247" data-linenumber="114">
          <span class="hits">4247</span>
          
          <code class="ruby">      case arguments</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby">        when :CUT, true</code>
        </li>
      
        <li class="covered" data-hits="441" data-linenumber="116">
          <span class="hits">441</span>
          
          <code class="ruby">          subgoal.log &lt;&lt; &quot;CUTTING #{goal.inspect}...&quot;</code>
        </li>
      
        <li class="covered" data-hits="441" data-linenumber="117">
          <span class="hits">441</span>
          
          <code class="ruby">          result = true</code>
        </li>
      
        <li class="covered" data-hits="441" data-linenumber="118">
          <span class="hits">441</span>
          
          <code class="ruby">          if conjunction.empty?</code>
        </li>
      
        <li class="covered" data-hits="77" data-linenumber="119">
          <span class="hits">77</span>
          
          <code class="ruby">            block.call(subgoal)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="364" data-linenumber="121">
          <span class="hits">364</span>
          
          <code class="ruby">            result = satisfy_conjunction(goal, subgoal, conjunction, &amp;block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="433" data-linenumber="124">
          <span class="hits">433</span>
          
          <code class="ruby">          if arguments == :CUT</code>
        </li>
      
        <li class="covered" data-hits="410" data-linenumber="125">
          <span class="hits">410</span>
          
          <code class="ruby">            goal.terminate!</code>
        </li>
      
        <li class="covered" data-hits="410" data-linenumber="126">
          <span class="hits">410</span>
          
          <code class="ruby">            goal.log &lt;&lt; &quot;TERMINATED after #{subgoal.inspect}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="433" data-linenumber="129">
          <span class="hits">433</span>
          
          <code class="ruby">          return result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">        when false</code>
        </li>
      
        <li class="covered" data-hits="107" data-linenumber="132">
          <span class="hits">107</span>
          
          <code class="ruby">          return false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">        when nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="135">
          <span class="hits">1</span>
          
          <code class="ruby">          block.call(subgoal)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="136">
          <span class="hits">1</span>
          
          <code class="ruby">          return true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">      # -- Unify Subsubgoal --</code>
        </li>
      
        <li class="covered" data-hits="3698" data-linenumber="140">
          <span class="hits">3698</span>
          
          <code class="ruby">      subsubgoal = arguments.goal(subgoal)</code>
        </li>
      
        <li class="covered" data-hits="3698" data-linenumber="141">
          <span class="hits">3698</span>
          
          <code class="ruby">      unified    = subsubgoal.inherit_variables(subgoal)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby">      # -- Satisfy Subgoal --</code>
        </li>
      
        <li class="covered" data-hits="3698" data-linenumber="144">
          <span class="hits">3698</span>
          
          <code class="ruby">      result = false</code>
        </li>
      
        <li class="covered" data-hits="3698" data-linenumber="145">
          <span class="hits">3698</span>
          
          <code class="ruby">      unified &amp;&amp; subsubgoal.satisfy() do</code>
        </li>
      
        <li class="covered" data-hits="3281" data-linenumber="146">
          <span class="hits">3281</span>
          
          <code class="ruby">        result = true</code>
        </li>
      
        <li class="covered" data-hits="3281" data-linenumber="147">
          <span class="hits">3281</span>
          
          <code class="ruby">        if conjunction.empty?</code>
        </li>
      
        <li class="covered" data-hits="457" data-linenumber="148">
          <span class="hits">457</span>
          
          <code class="ruby">          block.call(goal)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="2824" data-linenumber="150">
          <span class="hits">2824</span>
          
          <code class="ruby">          result = satisfy_conjunction(goal, subsubgoal, conjunction, &amp;block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">      # -- Uninstantiate --</code>
        </li>
      
        <li class="covered" data-hits="3663" data-linenumber="155">
          <span class="hits">3663</span>
          
          <code class="ruby">      subsubgoal.delete!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="3663" data-linenumber="157">
          <span class="hits">3663</span>
          
          <code class="ruby">      result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="89c82b10a6409feecd26e7483a13a8a8a223de9d">
  <div class="header">
    <h3>lib/porolog/scope.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>26</b> relevant lines. 
      <span class="green"><b>26</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   lib/porolog/scope.rb      - Plain Old Ruby Objects Prolog Engine -- Scope</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban   2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">module Porolog</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">  # A Porolog::Scope is a container for Porolog::Predicates.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  # Its purpose is to allow a Ruby program to contain multiple Prolog programs</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">  # without the Prolog programs interfering with each other.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  # @author Luis Esteban</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  # @!attribute [r] name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  #   Name of the Scope.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="16">
          <span class="hits">1</span>
          
          <code class="ruby">  class Scope</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    # Error class for rescuing or detecting any Scope error.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="19">
          <span class="hits">1</span>
          
          <code class="ruby">    class Error             &lt; PorologError ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">    # Error class indicating a non-Predicate was assigned to a Scope.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="21">
          <span class="hits">1</span>
          
          <code class="ruby">    class NotPredicateError &lt; Error        ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="23">
          <span class="hits">1</span>
          
          <code class="ruby">    attr_reader :name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">    # Creates a new Scope unless it already exists.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">    # @param name [Symbol, Object] the name (or otherwise object) used to register a scope.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">    # @return [Porolog::Scope] new or existing Scope.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="28">
          <span class="hits">1</span>
          
          <code class="ruby">    def self.new(name)</code>
        </li>
      
        <li class="covered" data-hits="758" data-linenumber="29">
          <span class="hits">758</span>
          
          <code class="ruby">      @@scopes[name] || super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">    # Initializes and registers the Scope.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">    # @param name [Object] the name (or otherwise object) used to register a scope.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="34">
          <span class="hits">1</span>
          
          <code class="ruby">    def initialize(name)</code>
        </li>
      
        <li class="covered" data-hits="755" data-linenumber="35">
          <span class="hits">755</span>
          
          <code class="ruby">      @name       = name</code>
        </li>
      
        <li class="covered" data-hits="755" data-linenumber="36">
          <span class="hits">755</span>
          
          <code class="ruby">      @predicates = {}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="755" data-linenumber="38">
          <span class="hits">755</span>
          
          <code class="ruby">      @@scopes[@name] = self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">    # Clears all scopes and re-creates the default Scope.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">    # @return [Porolog::Scope] the default Scope.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="43">
          <span class="hits">1</span>
          
          <code class="ruby">    def self.reset</code>
        </li>
      
        <li class="covered" data-hits="720" data-linenumber="44">
          <span class="hits">720</span>
          
          <code class="ruby">      @@scopes = {}</code>
        </li>
      
        <li class="covered" data-hits="720" data-linenumber="45">
          <span class="hits">720</span>
          
          <code class="ruby">      new(:default)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="48">
          <span class="hits">1</span>
          
          <code class="ruby">    reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">    # Looks up a Scope by its name.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">    # @param name [Object] the name (or otherwise object) used to register a scope.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">    # @return [Porolog::Scope] the default Scope.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="53">
          <span class="hits">1</span>
          
          <code class="ruby">    def self.[](name)</code>
        </li>
      
        <li class="covered" data-hits="1953" data-linenumber="54">
          <span class="hits">1953</span>
          
          <code class="ruby">      @@scopes[name]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">    # Returns the names of all registered Scopes.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">    # @return [Array&lt;Symbol&gt;] the names if scopes are named as Symbols (the intended case).</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">    # @return [Array&lt;Object&gt;] the names if the names are not actually Symbols.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="60">
          <span class="hits">1</span>
          
          <code class="ruby">    def self.scopes</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="61">
          <span class="hits">17</span>
          
          <code class="ruby">      @@scopes.keys</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">    # Looks up a Predicate in the Scope by its name.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">    # @param name [Object] the name (or otherwise object) used to register a scope.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">    # @return [Porolog::Predicate] the Predicate indicated by the name.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="67">
          <span class="hits">1</span>
          
          <code class="ruby">    def [](name)</code>
        </li>
      
        <li class="covered" data-hits="1177" data-linenumber="68">
          <span class="hits">1177</span>
          
          <code class="ruby">      @predicates[name.to_sym]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">    # Assigns a Predicate to the Scope by its name.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">    # @param name [Object] the name (or otherwise object) used to register a scope.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">    # @param predicate [Porolog::Predicate] a Predicate to be assigned to the Scope.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">    # @return [Porolog::Predicate] the Predicate assigned to the Scope.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">    # @raise [NotPredicateError] when provided predicate is not actually a Predicate.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="76">
          <span class="hits">1</span>
          
          <code class="ruby">    def []=(name, predicate)</code>
        </li>
      
        <li class="covered" data-hits="1162" data-linenumber="77">
          <span class="hits">1162</span>
          
          <code class="ruby">      raise NotPredicateError, &quot;#{predicate.inspect} is not a Predicate&quot; unless predicate.is_a?(Predicate)</code>
        </li>
      
        <li class="covered" data-hits="1161" data-linenumber="78">
          <span class="hits">1161</span>
          
          <code class="ruby">      @predicates[name.to_sym] = predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">    # Returns the Predicates contained in the Scope.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">    # @return [Array&lt;Porolog::Predicate&gt;] Predicates assigned to the Scope.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="83">
          <span class="hits">1</span>
          
          <code class="ruby">    def predicates</code>
        </li>
      
        <li class="covered" data-hits="49" data-linenumber="84">
          <span class="hits">49</span>
          
          <code class="ruby">      @predicates.values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="9cf1583ebf82fbd7d8a13bde097788ee65941d4e">
  <div class="header">
    <h3>lib/porolog/tail.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>14</b> relevant lines. 
      <span class="green"><b>14</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   lib/porolog/tail.rb      - Plain Old Ruby Objects Prolog Engine -- Tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban   2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">module Porolog</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">  # A Porolog::Tail is used to represent the tail of a list.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">  # It corresponds to the use of the splat operator within an Array.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  # @author Luis Esteban</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">  # @!attribute value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  #   @return [Object] The value of the tail.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="18">
          <span class="hits">1</span>
          
          <code class="ruby">  class Tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">    # Creates a new Tail for an Array.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">    # @param value [Object] the value of the tail.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="22">
          <span class="hits">1</span>
          
          <code class="ruby">    def initialize(value = UNKNOWN_TAIL)</code>
        </li>
      
        <li class="covered" data-hits="1151" data-linenumber="23">
          <span class="hits">1151</span>
          
          <code class="ruby">      @value = value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">    # @return [Symbol] the type of the Tail, which should be :tail.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="27">
          <span class="hits">1</span>
          
          <code class="ruby">    def type</code>
        </li>
      
        <li class="covered" data-hits="553" data-linenumber="28">
          <span class="hits">553</span>
          
          <code class="ruby">      :tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">    # Returns the value of the Tail.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">    # The optional arguments are ignored; this is for polymorphic compatibility with Porolog::Value and Porolog::Variable,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">    # which are used to prevent inifinite recursion.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">    # @return [Object] the value of the Tail.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="35">
          <span class="hits">1</span>
          
          <code class="ruby">    def value(*)</code>
        </li>
      
        <li class="covered" data-hits="99147" data-linenumber="36">
          <span class="hits">99147</span>
          
          <code class="ruby">      @value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">    # @return [String] pretty representation.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="40">
          <span class="hits">1</span>
          
          <code class="ruby">    def inspect</code>
        </li>
      
        <li class="covered" data-hits="1196" data-linenumber="41">
          <span class="hits">1196</span>
          
          <code class="ruby">      &quot;*#{@value.inspect}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">    # @return [Array] embedded variables.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="45">
          <span class="hits">1</span>
          
          <code class="ruby">    def variables</code>
        </li>
      
        <li class="covered" data-hits="52514" data-linenumber="46">
          <span class="hits">52514</span>
          
          <code class="ruby">      @value.variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">    # @param other [Object, #value]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">    # @return [Boolean] whether the value of the Tail is equal to the value of another Object.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="51">
          <span class="hits">1</span>
          
          <code class="ruby">    def ==(other)</code>
        </li>
      
        <li class="covered" data-hits="73839" data-linenumber="52">
          <span class="hits">73839</span>
          
          <code class="ruby">      @value == other.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8ca489cd9733286b998d678d0329d94ca5020e6c">
  <div class="header">
    <h3>lib/porolog/value.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>33</b> relevant lines. 
      <span class="green"><b>33</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   lib/porolog/value.rb      - Plain Old Ruby Objects Prolog Engine -- Value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban   2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">module Porolog</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">  # A Porolog::Value combines a value with a goal so that when the goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  # is closed, the value can be uninstantiated at the same time.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  # @author Luis Esteban</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  # @!attribute goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">  #   @return [Porolog::Goal] The goal in which the value was instantiated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  # @!attribute instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  #   @return [Array&lt;Porolog::Instantiation&gt;] Instantiations of this value.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="20">
          <span class="hits">1</span>
          
          <code class="ruby">  class Value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">    # Error class for rescuing or detecting any Value error.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="23">
          <span class="hits">1</span>
          
          <code class="ruby">    class Error     &lt; PorologError ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">    # Error class indicating that the supplied goal is not actually a goal.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="25">
          <span class="hits">1</span>
          
          <code class="ruby">    class GoalError &lt; Error        ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="27">
          <span class="hits">1</span>
          
          <code class="ruby">    attr_accessor :goal, :instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">    # @param value [Object] the value to be associated with a Goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">    # @param goal [Porolog::Goal] the Goal to be associated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">    # @return [Porolog::Value] the Value.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="32">
          <span class="hits">1</span>
          
          <code class="ruby">    def initialize(value, goal)</code>
        </li>
      
        <li class="covered" data-hits="10088" data-linenumber="33">
          <span class="hits">10088</span>
          
          <code class="ruby">      raise GoalError, &quot;Not a Goal: #{goal.inspect}&quot; unless goal.is_a?(Goal)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="10087" data-linenumber="35">
          <span class="hits">10087</span>
          
          <code class="ruby">      @value = value</code>
        </li>
      
        <li class="covered" data-hits="10087" data-linenumber="36">
          <span class="hits">10087</span>
          
          <code class="ruby">      @value = value.value if value.is_a?(Value)</code>
        </li>
      
        <li class="covered" data-hits="10087" data-linenumber="37">
          <span class="hits">10087</span>
          
          <code class="ruby">      @goal  = goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="10087" data-linenumber="39">
          <span class="hits">10087</span>
          
          <code class="ruby">      @instantiations = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">    # Pretty presentation.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">    # @return [String] the inspect of the value prefixed by the goal id.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="44">
          <span class="hits">1</span>
          
          <code class="ruby">    def inspect</code>
        </li>
      
        <li class="covered" data-hits="1713" data-linenumber="45">
          <span class="hits">1713</span>
          
          <code class="ruby">      &quot;#{@goal.myid}.#{@value.inspect}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">    # Pretty presentation with instantiations and indexes.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">    # This method is for polymorphic compatibility with Porolog::Variable.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">    # It used by Porolog::Goal#inspect_variables.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">    # @param visited [Array] the values already visited (to prevent infinite recursion).</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">    # @param depth [Integer] the level of indentation that shows containment.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">    # @param index [Integer,Symbol,Array] the index into this value.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">    # @param self_index [Integer,Symbol,Array] the index of which this value belongs.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">    # @return [String] the inspect of the value in the context of the variables of a goal.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="56">
          <span class="hits">1</span>
          
          <code class="ruby">    def inspect_with_instantiations(visited = [], depth = 0, index = nil, self_index = nil)</code>
        </li>
      
        <li class="covered" data-hits="674" data-linenumber="57">
          <span class="hits">674</span>
          
          <code class="ruby">      index_str = index &amp;&amp; &quot;[#{index.inspect}]&quot; || &#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="674" data-linenumber="58">
          <span class="hits">674</span>
          
          <code class="ruby">      prefix    = self_index&amp;.inspect || &#39;&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="674" data-linenumber="60">
          <span class="hits">674</span>
          
          <code class="ruby">      &quot;#{&#39;  &#39; * depth}#{prefix}#{inspect}#{index_str}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">    # Uninstantiate the Value.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">    # @return [Boolean] true</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="65">
          <span class="hits">1</span>
          
          <code class="ruby">    def remove</code>
        </li>
      
        <li class="covered" data-hits="8391" data-linenumber="66">
          <span class="hits">8391</span>
          
          <code class="ruby">      @instantiations.dup.each(&amp;:remove)</code>
        </li>
      
        <li class="covered" data-hits="8391" data-linenumber="67">
          <span class="hits">8391</span>
          
          <code class="ruby">      @instantiations[0..-1] = []</code>
        </li>
      
        <li class="covered" data-hits="8391" data-linenumber="68">
          <span class="hits">8391</span>
          
          <code class="ruby">      true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">    # Passes on methods to the Value&#39;s value.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="72">
          <span class="hits">1</span>
          
          <code class="ruby">    def method_missing(method, *args, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="60752" data-linenumber="73">
          <span class="hits">60752</span>
          
          <code class="ruby">      @value.send(method, *args, &amp;block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">    # Responds to all the Value&#39;s value methods as well as its own.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">    # @return [Boolean] whether the value responds to the method.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="78">
          <span class="hits">1</span>
          
          <code class="ruby">    def respond_to?(method, include_all = false)</code>
        </li>
      
        <li class="covered" data-hits="817622" data-linenumber="79">
          <span class="hits">817622</span>
          
          <code class="ruby">      @value.respond_to?(method, include_all) || super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">    # @return [Object] the value of the Value.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="83">
          <span class="hits">1</span>
          
          <code class="ruby">    def value(*)</code>
        </li>
      
        <li class="covered" data-hits="1116409" data-linenumber="84">
          <span class="hits">1116409</span>
          
          <code class="ruby">      @value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">    # @return [Symbol] the type of the value.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="88">
          <span class="hits">1</span>
          
          <code class="ruby">    def type</code>
        </li>
      
        <li class="covered" data-hits="818971" data-linenumber="89">
          <span class="hits">818971</span>
          
          <code class="ruby">      @value.type</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">    # Compares Values for equality.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">    # @return [Boolean] whether the Values&#39; values are equal.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="94">
          <span class="hits">1</span>
          
          <code class="ruby">    def ==(other)</code>
        </li>
      
        <li class="covered" data-hits="1708307" data-linenumber="95">
          <span class="hits">1708307</span>
          
          <code class="ruby">      @value == other.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">    # @return [Array&lt;Porolog::Variable,Symbol&gt;] variables embedded in the value.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="99">
          <span class="hits">1</span>
          
          <code class="ruby">    def variables</code>
        </li>
      
        <li class="covered" data-hits="94605" data-linenumber="100">
          <span class="hits">94605</span>
          
          <code class="ruby">      @value.variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="9d510437b31f47023ff71037d7379a8ccb509437">
  <div class="header">
    <h3>lib/porolog/variable.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>129</b> relevant lines. 
      <span class="green"><b>129</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   lib/porolog/variable.rb      - Plain Old Ruby Objects Prolog Engine -- Variable</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban   2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">module Porolog</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">  # A Porolog::Variable is used to hold instantiations during the process of satisfying a goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  # It implements a variable of a goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">  # It allows instantiations to be made and removed as the goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  # is attempted to be satisfied.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  # @author Luis Esteban</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  # @!attribute name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  #   @return [Symbol] The name of the variable.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  # @!attribute goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  #   @return [Porolog::Goal] The Goal for which this Variable&#39;s instantiations are bound.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  # @!attribute instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">  #   @return [Array&lt;Porolog::Instantiation&gt;] The Instantiations of this Variable.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">  # @!attribute values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">  #   @return [Array&lt;Porolog::Value&gt;] the Values of the Variable when used as an anonymous Variable.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="26">
          <span class="hits">1</span>
          
          <code class="ruby">  class Variable</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">    # Error class for rescuing or detecting any Variable error.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="29">
          <span class="hits">1</span>
          
          <code class="ruby">    class Error                 &lt; PorologError  ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">    # Error class indicating a Variable has been instantiated to multiple different values at the same time.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="31">
          <span class="hits">1</span>
          
          <code class="ruby">    class MultipleValuesError   &lt; Error         ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">    # Error class indicating a Variable has been created without a Goal.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="33">
          <span class="hits">1</span>
          
          <code class="ruby">    class GoalError             &lt; Error         ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">    # Error class indicating a Variable has been instantiated to a value that contains itself.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="35">
          <span class="hits">1</span>
          
          <code class="ruby">    class SelfReferentialError  &lt; Error         ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">    # Error class indicating an unexpected scenario has occurred.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="37">
          <span class="hits">1</span>
          
          <code class="ruby">    class UnexpectedError       &lt; Error         ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="39">
          <span class="hits">1</span>
          
          <code class="ruby">    attr_accessor :name, :goal, :instantiations, :values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">    # Initializes the Variable and attaches it to the Goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">    # @param name [Object] the name used to refer to the Variable.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">    # @param goal [Porolog::Goal] the Goal the Variable is to be attached to.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="44">
          <span class="hits">1</span>
          
          <code class="ruby">    def initialize(name, goal)</code>
        </li>
      
        <li class="covered" data-hits="31396" data-linenumber="45">
          <span class="hits">31396</span>
          
          <code class="ruby">      raise GoalError, &quot;Not a Goal: #{goal.inspect}&quot; unless goal.is_a?(Goal)</code>
        </li>
      
        <li class="covered" data-hits="31395" data-linenumber="46">
          <span class="hits">31395</span>
          
          <code class="ruby">      @goal = goal</code>
        </li>
      
        <li class="covered" data-hits="31395" data-linenumber="47">
          <span class="hits">31395</span>
          
          <code class="ruby">      name  = name.to_sym  if name.is_a?(String)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="31395" data-linenumber="49">
          <span class="hits">31395</span>
          
          <code class="ruby">      case name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">        when Symbol</code>
        </li>
      
        <li class="covered" data-hits="31392" data-linenumber="51">
          <span class="hits">31392</span>
          
          <code class="ruby">          @name   = name</code>
        </li>
      
        <li class="covered" data-hits="31392" data-linenumber="52">
          <span class="hits">31392</span>
          
          <code class="ruby">          @values = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">        when Variable</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="54">
          <span class="hits">1</span>
          
          <code class="ruby">          @name   = name.name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="55">
          <span class="hits">1</span>
          
          <code class="ruby">          @values = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">        when Value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="57">
          <span class="hits">1</span>
          
          <code class="ruby">          @name   = name.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="58">
          <span class="hits">1</span>
          
          <code class="ruby">          @values = [name]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="60">
          <span class="hits">1</span>
          
          <code class="ruby">          @name   = name.to_s</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="61">
          <span class="hits">1</span>
          
          <code class="ruby">          @values = [Value.new(name, goal)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="31395" data-linenumber="64">
          <span class="hits">31395</span>
          
          <code class="ruby">      @instantiations = []</code>
        </li>
      
        <li class="covered" data-hits="31395" data-linenumber="65">
          <span class="hits">31395</span>
          
          <code class="ruby">      @goal.variable(self)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">    # Converts a Variable back to a Symbol.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">    # @return [Symbol, nil] the name of the Variable.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="70">
          <span class="hits">1</span>
          
          <code class="ruby">    def to_sym</code>
        </li>
      
        <li class="covered" data-hits="15350" data-linenumber="71">
          <span class="hits">15350</span>
          
          <code class="ruby">      @name&amp;.to_sym</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">    # @return [Symbol] the type of the Variable, which should be :variable.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="75">
          <span class="hits">1</span>
          
          <code class="ruby">    def type</code>
        </li>
      
        <li class="covered" data-hits="665917" data-linenumber="76">
          <span class="hits">665917</span>
          
          <code class="ruby">      :variable</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">    # @return [String] pretty representation.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="80">
          <span class="hits">1</span>
          
          <code class="ruby">    def inspect</code>
        </li>
      
        <li class="covered" data-hits="3373" data-linenumber="81">
          <span class="hits">3373</span>
          
          <code class="ruby">      &quot;#{@goal.myid}.#{@name.inspect}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">    # @param visited [Array] used to prevent infinite recursion.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">    # @param depth [Integer] the current level of indentation.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">    # @param index [Object, nil] the index into this Variable that is instantiated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">    # @param self_index [Object, nil] the index where this Variable is instantiated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">    # @return [String] the inspect of the Variable showing instantiations using indentation.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="89">
          <span class="hits">1</span>
          
          <code class="ruby">    def inspect_with_instantiations(visited = [], depth = 0, index = nil, self_index = nil)</code>
        </li>
      
        <li class="covered" data-hits="8054" data-linenumber="90">
          <span class="hits">8054</span>
          
          <code class="ruby">      return if visited.include?(self)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="2725" data-linenumber="92">
          <span class="hits">2725</span>
          
          <code class="ruby">      index_str = index      &amp;&amp; &quot;[#{index.inspect}]&quot;      || &#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="2725" data-linenumber="93">
          <span class="hits">2725</span>
          
          <code class="ruby">      prefix    = self_index &amp;&amp; &quot;[#{self_index.inspect}]&quot; || &#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="2725" data-linenumber="94">
          <span class="hits">2725</span>
          
          <code class="ruby">      name      = &quot;#{&#39;  &#39; * depth}#{prefix}#{@goal.myid}.#{@name.inspect}#{index_str}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="2725" data-linenumber="96">
          <span class="hits">2725</span>
          
          <code class="ruby">      name = &quot;#{name} = #{@values.map(&amp;:inspect).join(&#39;,&#39;)}#{index_str}&quot; if @values &amp;&amp; !@values.empty? &amp;&amp; @instantiations.empty?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="2725" data-linenumber="98">
          <span class="hits">2725</span>
          
          <code class="ruby">      others = @instantiations.map{|instantiation|</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">        [</code>
        </li>
      
        <li class="covered" data-hits="3775" data-linenumber="100">
          <span class="hits">3775</span>
          
          <code class="ruby">          instantiation.variable1.inspect_with_instantiations(visited + [self], depth + 1, instantiation.index1, instantiation.index2),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">          instantiation.variable2.inspect_with_instantiations(visited + [self], depth + 1, instantiation.index2, instantiation.index1),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">        ].compact</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">      }.reject(&amp;:empty?)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">      [</code>
        </li>
      
        <li class="covered" data-hits="2725" data-linenumber="106">
          <span class="hits">2725</span>
          
          <code class="ruby">        name,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">        *others,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">      ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">    # @return [Object,self] returns the current value of the Variable based on its current instantiations.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">    #   If there are no concrete instantiations, it returns itself, indicating no value.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">    # @param visited [Array] prevents infinite recursion.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="114">
          <span class="hits">1</span>
          
          <code class="ruby">    def value(visited = [])</code>
        </li>
      
        <li class="covered" data-hits="1622972" data-linenumber="115">
          <span class="hits">1622972</span>
          
          <code class="ruby">      return nil if visited.include?(self)</code>
        </li>
      
        <li class="covered" data-hits="1513134" data-linenumber="116">
          <span class="hits">1513134</span>
          
          <code class="ruby">      visited = visited + [self]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">      # -- Collect values --</code>
        </li>
      
        <li class="covered" data-hits="1513134" data-linenumber="119">
          <span class="hits">1513134</span>
          
          <code class="ruby">      values = [*@values]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1513134" data-linenumber="121">
          <span class="hits">1513134</span>
          
          <code class="ruby">      @instantiations.each do |instantiation|</code>
        </li>
      
        <li class="covered" data-hits="2615361" data-linenumber="122">
          <span class="hits">2615361</span>
          
          <code class="ruby">        values += instantiation.values_for(self, visited)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">     </code>
        </li>
      
        <li class="covered" data-hits="1513134" data-linenumber="125">
          <span class="hits">1513134</span>
          
          <code class="ruby">      values.uniq!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">     </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">      # -- Filter trivial values --</code>
        </li>
      
        <li class="covered" data-hits="1513134" data-linenumber="128">
          <span class="hits">1513134</span>
          
          <code class="ruby">      values = [[nil]] if values == [[UNKNOWN_TAIL], [nil]] || values == [[nil], [UNKNOWN_TAIL]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby">     </code>
        </li>
      
        <li class="covered" data-hits="2330986" data-linenumber="130">
          <span class="hits">2330986</span>
          
          <code class="ruby">      values = values.reject{|value| value == UNKNOWN_TAIL }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">     </code>
        </li>
      
        <li class="covered" data-hits="3148820" data-linenumber="132">
          <span class="hits">3148820</span>
          
          <code class="ruby">      values_values = values.map{|value| value.value(visited) }.reject{|value| value == UNKNOWN_ARRAY }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">      # -- Condense Values --</code>
        </li>
      
        <li class="covered" data-hits="1513134" data-linenumber="135">
          <span class="hits">1513134</span>
          
          <code class="ruby">      result = if values_values.size &gt; 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">        # -- Potentially Multiple Values Found --</code>
        </li>
      
        <li class="covered" data-hits="40789" data-linenumber="137">
          <span class="hits">40789</span>
          
          <code class="ruby">        unifications = []</code>
        </li>
      
        <li class="covered" data-hits="124719" data-linenumber="138">
          <span class="hits">124719</span>
          
          <code class="ruby">        if values_values.all?{|value| value.is_a?(Array) }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">          # -- All Values Are Arrays --</code>
        </li>
      
        <li class="covered" data-hits="105290" data-linenumber="140">
          <span class="hits">105290</span>
          
          <code class="ruby">          values = values.reject{|value| value == UNKNOWN_ARRAY } if values.size &gt; 2 &amp;&amp; values.include?(UNKNOWN_ARRAY)</code>
        </li>
      
        <li class="covered" data-hits="40385" data-linenumber="141">
          <span class="hits">40385</span>
          
          <code class="ruby">          values_goals = values.map{|value|</code>
        </li>
      
        <li class="covered" data-hits="83526" data-linenumber="142">
          <span class="hits">83526</span>
          
          <code class="ruby">            value.respond_to?(:goal) &amp;&amp; value.goal || value.variables.map(&amp;:goal).first || values.variables.map(&amp;:goal).first</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby">          }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="40385" data-linenumber="145">
          <span class="hits">40385</span>
          
          <code class="ruby">          if values.size &gt; 2</code>
        </li>
      
        <li class="covered" data-hits="2756" data-linenumber="146">
          <span class="hits">2756</span>
          
          <code class="ruby">            merged, unifications = unify_many_arrays(values, values_goals, visited)</code>
        </li>
      
        <li class="covered" data-hits="37629" data-linenumber="147">
          <span class="hits">37629</span>
          
          <code class="ruby">          elsif values.size == 2</code>
        </li>
      
        <li class="covered" data-hits="37629" data-linenumber="148">
          <span class="hits">37629</span>
          
          <code class="ruby">            no_variables = values.map(&amp;:variables).flatten.empty?</code>
        </li>
      
        <li class="covered" data-hits="37629" data-linenumber="149">
          <span class="hits">37629</span>
          
          <code class="ruby">            if no_variables</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="150">
          <span class="hits">12</span>
          
          <code class="ruby">              left_value  = values[0].value.value</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="151">
          <span class="hits">12</span>
          
          <code class="ruby">              right_value = values[1].value.value</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="152">
          <span class="hits">12</span>
          
          <code class="ruby">              if left_value.last == UNKNOWN_TAIL &amp;&amp; right_value.first == UNKNOWN_TAIL</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="153">
          <span class="hits">7</span>
          
          <code class="ruby">                return [*left_value[0...-1], *right_value[1..-1]]</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="154">
          <span class="hits">5</span>
          
          <code class="ruby">              elsif right_value.last == UNKNOWN_TAIL &amp;&amp; left_value.first == UNKNOWN_TAIL</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="155">
          <span class="hits">1</span>
          
          <code class="ruby">                return [*right_value[0...-1], *left_value[1..-1]]</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="156">
          <span class="hits">4</span>
          
          <code class="ruby">              elsif left_value != right_value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="157">
          <span class="hits">1</span>
          
          <code class="ruby">                return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">              end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="37620" data-linenumber="160">
          <span class="hits">37620</span>
          
          <code class="ruby">            merged, unifications = unify_arrays(*values, *values_goals, visited)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="162">
          
          <span class="hits">skipped</span>
          <code class="ruby">            # :nocov: NOT REACHED</code>
        </li>
      
        <li class="skipped" data-hits="0" data-linenumber="163">
          
          <span class="hits">skipped</span>
          <code class="ruby">            merged, unifications = values.first, []</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="164">
          
          <span class="hits">skipped</span>
          <code class="ruby">            # :nocov:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="40376" data-linenumber="167">
          <span class="hits">40376</span>
          
          <code class="ruby">          merged.value(visited).to_a</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">          # -- Not All Values Are Arrays --</code>
        </li>
      
        <li class="covered" data-hits="404" data-linenumber="170">
          <span class="hits">404</span>
          
          <code class="ruby">          values.each_cons(2){|left,right|</code>
        </li>
      
        <li class="covered" data-hits="405" data-linenumber="171">
          <span class="hits">405</span>
          
          <code class="ruby">            unification = unify(left, right, @goal, @goal, visited)</code>
        </li>
      
        <li class="covered" data-hits="405" data-linenumber="172">
          <span class="hits">405</span>
          
          <code class="ruby">            if unification &amp;&amp; unifications</code>
        </li>
      
        <li class="covered" data-hits="404" data-linenumber="173">
          <span class="hits">404</span>
          
          <code class="ruby">              unifications += unification</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="174">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="175">
          <span class="hits">1</span>
          
          <code class="ruby">              unifications = nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="176">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">          }</code>
        </li>
      
        <li class="covered" data-hits="404" data-linenumber="178">
          <span class="hits">404</span>
          
          <code class="ruby">          if unifications</code>
        </li>
      
        <li class="covered" data-hits="403" data-linenumber="179">
          <span class="hits">403</span>
          
          <code class="ruby">            values.min_by{|value|</code>
        </li>
      
        <li class="covered" data-hits="807" data-linenumber="180">
          <span class="hits">807</span>
          
          <code class="ruby">              case value</code>
        </li>
      
        <li class="covered" data-hits="311" data-linenumber="181">
          <span class="hits">311</span>
          
          <code class="ruby">                when Variable, Symbol             then  2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="182">
          <span class="hits">1</span>
          
          <code class="ruby">                when UNKNOWN_TAIL, UNKNOWN_ARRAY  then  9</code>
        </li>
      
        <li class="covered" data-hits="495" data-linenumber="183">
          <span class="hits">495</span>
          
          <code class="ruby">                else                              0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="184">
          
          
          <code class="ruby">              end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">            } || self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="186">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="187">
          <span class="hits">1</span>
          
          <code class="ruby">            raise MultipleValuesError, &quot;Multiple values detected for #{inspect}: #{values.inspect}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="190">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby">        # -- One (or None) Value Found --</code>
        </li>
      
        <li class="covered" data-hits="1472345" data-linenumber="192">
          <span class="hits">1472345</span>
          
          <code class="ruby">        values.min_by{|value|</code>
        </li>
      
        <li class="covered" data-hits="711873" data-linenumber="193">
          <span class="hits">711873</span>
          
          <code class="ruby">          case value</code>
        </li>
      
        <li class="covered" data-hits="1004" data-linenumber="194">
          <span class="hits">1004</span>
          
          <code class="ruby">            when Variable, Symbol             then  2</code>
        </li>
      
        <li class="covered" data-hits="32621" data-linenumber="195">
          <span class="hits">32621</span>
          
          <code class="ruby">            when UNKNOWN_TAIL, UNKNOWN_ARRAY  then  9</code>
        </li>
      
        <li class="covered" data-hits="678248" data-linenumber="196">
          <span class="hits">678248</span>
          
          <code class="ruby">            else                              0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="197">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="198">
          
          
          <code class="ruby">        } || self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="199">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="200">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">      # -- Splat Tail --</code>
        </li>
      
        <li class="covered" data-hits="1513124" data-linenumber="202">
          <span class="hits">1513124</span>
          
          <code class="ruby">      if result.is_a?(Array) &amp;&amp; result.size == 1 &amp;&amp; result.first.is_a?(Tail)</code>
        </li>
      
        <li class="covered" data-hits="570" data-linenumber="203">
          <span class="hits">570</span>
          
          <code class="ruby">        result = result.first.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1513124" data-linenumber="206">
          <span class="hits">1513124</span>
          
          <code class="ruby">      result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="208">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="209">
          
          
          <code class="ruby">    # Instantiates Variable to another experssion.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="210">
          
          
          <code class="ruby">    # @param other [Object] the other value (or object) being instantiated.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby">    # @param index_into_other [] the index into the other value.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="212">
          
          
          <code class="ruby">    # @param index_into_self [] the index into this Variable.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="213">
          
          
          <code class="ruby">    # @return [Porolog::Instantiation,nil] the instantiation made.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="214">
          
          
          <code class="ruby">    # @example</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="215">
          
          
          <code class="ruby">    #   # To instantiate the third element of x to the second element of y,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">    #   # x = [a,b,c,d,e]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="217">
          
          
          <code class="ruby">    #   #          |</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="218">
          
          
          <code class="ruby">    #   # y =   [p,q,r,s]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="219">
          
          
          <code class="ruby">    #     x = goal.variable(:x)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby">    #     y = goal.variable(:y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="221">
          
          
          <code class="ruby">    #     x.instantiate(y, 1, 2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="222">
          
          
          <code class="ruby">    # @example</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="223">
          
          
          <code class="ruby">    #   # To instantiate the tail of x to y,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="224">
          
          
          <code class="ruby">    #     x.instantiate(y, nil, :tail)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="225">
          <span class="hits">1</span>
          
          <code class="ruby">    def instantiate(other, index_into_other = nil, index_into_self = nil)</code>
        </li>
      
        <li class="covered" data-hits="29675" data-linenumber="226">
          <span class="hits">29675</span>
          
          <code class="ruby">      raise SelfReferentialError, &quot;Cannot instantiate self-referential definition for #{(self.variables &amp; other.variables).inspect}&quot;  unless (self.variables &amp; other.variables).empty?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="227">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="228">
          
          
          <code class="ruby">      # -- Check Instantiation is Unifiable --</code>
        </li>
      
        <li class="covered" data-hits="29675" data-linenumber="229">
          <span class="hits">29675</span>
          
          <code class="ruby">      unless self.value.is_a?(Variable) || other.value.is_a?(Variable)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="230">
          
          
          <code class="ruby">        # -- Determine Other Goal --</code>
        </li>
      
        <li class="covered" data-hits="173" data-linenumber="231">
          <span class="hits">173</span>
          
          <code class="ruby">        other_goal = nil</code>
        </li>
      
        <li class="covered" data-hits="173" data-linenumber="232">
          <span class="hits">173</span>
          
          <code class="ruby">        other_goal = other.goal if other.respond_to?(:goal)</code>
        </li>
      
        <li class="covered" data-hits="173" data-linenumber="233">
          <span class="hits">173</span>
          
          <code class="ruby">        other_goal ||= self.goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="234">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="235">
          
          
          <code class="ruby">        # -- Check Unification --</code>
        </li>
      
        <li class="covered" data-hits="173" data-linenumber="236">
          <span class="hits">173</span>
          
          <code class="ruby">        unless unify(self, other, self.goal, other_goal)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="237">
          <span class="hits">5</span>
          
          <code class="ruby">          self.goal.log &lt;&lt; &quot;Cannot unify: #{self.inspect} and #{other.inspect}&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="238">
          <span class="hits">5</span>
          
          <code class="ruby">          return nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="240">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="241">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="242">
          
          
          <code class="ruby">      # -- Create Instantiation --</code>
        </li>
      
        <li class="covered" data-hits="29670" data-linenumber="243">
          <span class="hits">29670</span>
          
          <code class="ruby">      instantiation = Instantiation.new(self, index_into_self, other, index_into_other)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="244">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="245">
          
          
          <code class="ruby">      # -- Create Reverse Assymetric Instantiations --</code>
        </li>
      
        <li class="covered" data-hits="29670" data-linenumber="246">
          <span class="hits">29670</span>
          
          <code class="ruby">      if other.value.is_a?(Array) &amp;&amp; other.value.last.is_a?(Tail)</code>
        </li>
      
        <li class="covered" data-hits="107" data-linenumber="247">
          <span class="hits">107</span>
          
          <code class="ruby">        array = other.value</code>
        </li>
      
        <li class="covered" data-hits="107" data-linenumber="248">
          <span class="hits">107</span>
          
          <code class="ruby">        if array.length == 2</code>
        </li>
      
        <li class="covered" data-hits="105" data-linenumber="249">
          <span class="hits">105</span>
          
          <code class="ruby">          if array.first.is_a?(Variable)</code>
        </li>
      
        <li class="covered" data-hits="105" data-linenumber="250">
          <span class="hits">105</span>
          
          <code class="ruby">            Instantiation.new(array.first, nil, self, :head)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="251">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="covered" data-hits="105" data-linenumber="252">
          <span class="hits">105</span>
          
          <code class="ruby">          if array.last.is_a?(Tail) &amp;&amp; array.last.value.is_a?(Variable)</code>
        </li>
      
        <li class="covered" data-hits="105" data-linenumber="253">
          <span class="hits">105</span>
          
          <code class="ruby">            Instantiation.new(array.last.value, nil, self, :tail)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="254">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="255">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="256">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="257">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="258">
          
          
          <code class="ruby">      # -- Return --</code>
        </li>
      
        <li class="covered" data-hits="29670" data-linenumber="259">
          <span class="hits">29670</span>
          
          <code class="ruby">      instantiation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="260">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="261">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="262">
          
          
          <code class="ruby">    # Removes this Variable by removing all of its insantiations.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="263">
          
          
          <code class="ruby">    # @return [Boolean] success.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="264">
          <span class="hits">1</span>
          
          <code class="ruby">    def remove</code>
        </li>
      
        <li class="covered" data-hits="31384" data-linenumber="265">
          <span class="hits">31384</span>
          
          <code class="ruby">      @instantiations.dup.each(&amp;:remove)</code>
        </li>
      
        <li class="covered" data-hits="31384" data-linenumber="266">
          <span class="hits">31384</span>
          
          <code class="ruby">      @instantiations[0..-1] = []</code>
        </li>
      
        <li class="covered" data-hits="31384" data-linenumber="267">
          <span class="hits">31384</span>
          
          <code class="ruby">      true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="269">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="270">
          
          
          <code class="ruby">    # Removes instantiations from another goal.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby">    # @param other_goal [Porolog::Goal] the Goal of which instantiations are to be removed.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="272">
          
          
          <code class="ruby">    # @return [Boolean] success.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="273">
          <span class="hits">1</span>
          
          <code class="ruby">    def uninstantiate(other_goal)</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="274">
          <span class="hits">13</span>
          
          <code class="ruby">      @instantiations.delete_if do |instantiation|</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="275">
          <span class="hits">25</span>
          
          <code class="ruby">        instantiation.remove  if instantiation.other_goal_to(self) == other_goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="276">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="277">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="278">
          <span class="hits">13</span>
          
          <code class="ruby">      @values.delete_if{|value| value.goal == other_goal }</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="279">
          <span class="hits">13</span>
          
          <code class="ruby">      true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="280">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="281">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="282">
          
          
          <code class="ruby">    # Indexes the value of the Variable.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="283">
          
          
          <code class="ruby">    # @param index [Object] the index into the value.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="284">
          
          
          <code class="ruby">    # @return [Object, nil] the value at the index in the value of the Variable.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="285">
          <span class="hits">1</span>
          
          <code class="ruby">    def [](index)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="286">
          <span class="hits">5</span>
          
          <code class="ruby">      value = self.value</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="287">
          <span class="hits">5</span>
          
          <code class="ruby">      value = value.value if value.is_a?(Value)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="288">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="289">
          <span class="hits">5</span>
          
          <code class="ruby">      case value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="290">
          
          
          <code class="ruby">        when Array</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="291">
          <span class="hits">4</span>
          
          <code class="ruby">          case index</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="292">
          
          
          <code class="ruby">            when Integer</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="293">
          <span class="hits">2</span>
          
          <code class="ruby">              value[index]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="294">
          
          
          <code class="ruby">            when Symbol</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="295">
          <span class="hits">2</span>
          
          <code class="ruby">              case index</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="296">
          
          
          <code class="ruby">                when :head</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="297">
          <span class="hits">1</span>
          
          <code class="ruby">                  value[0]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="298">
          
          
          <code class="ruby">                when :tail</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="299">
          <span class="hits">1</span>
          
          <code class="ruby">                  value[1..-1]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="300">
          
          
          <code class="ruby">                else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="301">
          
          
          <code class="ruby">                  nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="302">
          
          
          <code class="ruby">              end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="303">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="304">
          
          
          <code class="ruby">              nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="305">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="306">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="307">
          
          
          <code class="ruby">          nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="308">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="309">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="310">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="311">
          
          
          <code class="ruby">    # @return [Array&lt;Porolog::Variable&gt;] the Variables in itself, which is just itself.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="312">
          <span class="hits">1</span>
          
          <code class="ruby">    def variables</code>
        </li>
      
        <li class="covered" data-hits="183050" data-linenumber="313">
          <span class="hits">183050</span>
          
          <code class="ruby">      [self]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="314">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="315">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="316">
          
          
          <code class="ruby">    # Compares Variables.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="317">
          
          
          <code class="ruby">    # @param other [Porolog::Variable] the other Variable.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="318">
          
          
          <code class="ruby">    # @return [Boolean] whether the two Variables have the same name in the same Goal.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="319">
          <span class="hits">1</span>
          
          <code class="ruby">    def ==(other)</code>
        </li>
      
        <li class="covered" data-hits="31333743" data-linenumber="320">
          <span class="hits">31333743</span>
          
          <code class="ruby">      other.is_a?(Variable) &amp;&amp; @name == other.name &amp;&amp; @goal == other.goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="321">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="322">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="323">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="324">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="325">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="43c0c7a240f9c1e1424951dcf745950f566e3572">
  <div class="header">
    <h3>test/porolog/core_ext_test.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>166</b> relevant lines. 
      <span class="green"><b>166</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   test/porolog/core_ext_test.rb     - Test Suite for Core Extensions</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban      2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../test_helper&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="10">
          <span class="hits">1</span>
          
          <code class="ruby">describe &#39;Object&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">  let (:object1) { Object.new }</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">  let (:object2) { 42 }</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">  let (:object3) { { name: &#39;hello&#39; } }</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">  let (:object4) { &#39;abc&#39; }</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">  let (:object5) { 0.5 }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="18">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#myid&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="20">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return inspect&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="21">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  object1.inspect,   object1.myid</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="22">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  object2.inspect,   object2.myid</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="23">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  object3.inspect,   object3.myid</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="24">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  object4.inspect,   object4.myid</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="25">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  object5.inspect,   object5.myid</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="30">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#variables&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="32">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return empty array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="33">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  [],                object1.variables</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="34">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  [],                object2.variables</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="35">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  [],                object3.variables</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="36">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  [],                object4.variables</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="37">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  [],                object5.variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="42">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#type&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="44">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return :atomic for atomic types&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="45">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  :atomic,           object1.type</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="46">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  :atomic,           object2.type</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="47">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  :atomic,           object3.type</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="48">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  :atomic,           object4.type</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="49">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  :atomic,           object5.type</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="54">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#/&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="56">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should create an n Array with a Tail&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="57">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Array_with_Tail    object1 / :T,     [object1], &#39;*:T&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="58">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Array_with_Tail    [object2] / :T,   [object2], &#39;*:T&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">      #assert_Array_with_Tail    object2.tail(:T), [object2], &#39;*:T&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="60">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Array_with_Tail    object3 / :T,     [object3], &#39;*:T&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="61">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Array_with_Tail    object4 / :T,     [object4], &#39;*:T&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="62">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Array_with_Tail    [object5] / :T,   [object5], &#39;*:T&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">      #assert_Array_with_Tail    object5.tail(:T), [object5], &#39;*:T&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="70">
          <span class="hits">1</span>
          
          <code class="ruby">describe &#39;Symbol&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="72">
          <span class="hits">5</span>
          
          <code class="ruby">  let (:symbol1) { :alpha }</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="73">
          <span class="hits">5</span>
          
          <code class="ruby">  let (:symbol2) { :_ }</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="74">
          <span class="hits">5</span>
          
          <code class="ruby">  let (:symbol3) { :&#39;with some spaces&#39; }</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="75">
          <span class="hits">5</span>
          
          <code class="ruby">  let (:symbol4) { :X }</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="76">
          <span class="hits">5</span>
          
          <code class="ruby">  let (:symbol5) { :p }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="78">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#myid&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="80">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return inspect&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="81">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  symbol1.inspect,  symbol1.myid</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="82">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  symbol2.inspect,  symbol2.myid</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="83">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  symbol3.inspect,  symbol3.myid</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="84">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  symbol4.inspect,  symbol4.myid</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="85">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  symbol5.inspect,  symbol5.myid</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="90">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#variables&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="92">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return an array of itself&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="93">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  [symbol1],        symbol1.variables</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="94">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  [symbol2],        symbol2.variables</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="95">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  [symbol3],        symbol3.variables</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="96">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  [symbol4],        symbol4.variables</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="97">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  [symbol5],        symbol5.variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="102">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#type&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="104">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return :variable for symbols&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="105">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  :variable,        symbol1.type</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="106">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  :variable,        symbol2.type</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="107">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  :variable,        symbol3.type</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="108">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  :variable,        symbol4.type</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="109">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  :variable,        symbol5.type</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="114">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#/&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="116">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should create a HeadTail&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="117">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Array_with_Tail    symbol1 / :T,     [symbol1], &#39;*:T&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="118">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Array_with_Tail    symbol2 / :T,     [symbol2], &#39;*:T&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="119">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Array_with_Tail    symbol3 / :T,     [symbol3], &#39;*:T&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="120">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Array_with_Tail    symbol4 / :T,     [symbol4], &#39;*:T&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="121">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Array_with_Tail    symbol5 / :T,     [symbol5], &#39;*:T&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="128">
          <span class="hits">1</span>
          
          <code class="ruby">describe &#39;Array&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="130">
          <span class="hits">12</span>
          
          <code class="ruby">  let(:array1) { [1, 2, :A, 4, [:B, 6, 7, :C], 9] }</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="131">
          <span class="hits">12</span>
          
          <code class="ruby">  let(:array2) { [] }</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="132">
          <span class="hits">12</span>
          
          <code class="ruby">  let(:array3) { UNKNOWN_ARRAY }</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="133">
          <span class="hits">12</span>
          
          <code class="ruby">  let(:array4) { [1, :B, 3, UNKNOWN_TAIL] }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="135">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#/&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="137">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;creates an Array using the slash notation with Arrays&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="138">
          <span class="hits">1</span>
          
          <code class="ruby">      head_tail = [1] / [2,3,4,5]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="140">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal              [1,2,3,4,5],      head_tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="143">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should combine a head Array and a tail Array when they have no variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="144">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [1,2,3,4,5,6],              [1,2,3] / [4,5,6]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="147">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should combine an embedded head Array and an embedded tail Array when they have no variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="148">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [1,2,3,4,5,6,7,8,9],        [1,2,3] / [4,5,6] / [7,8,9]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="151">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should create a HeadTail&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="152">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Array_with_Tail    array1 / :T,      array1, &#39;*:T&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="153">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Array_with_Tail    array2 / :T,      array2, &#39;*:T&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="154">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Array_with_Tail    array3 / :T,      array3, &#39;*:T&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="155">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Array_with_Tail    array4 / :T,      array4, &#39;*:T&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="160">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#variables&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="162">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return an array of the embedded Symbols&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="163">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [:A, :B, :C],     array1.variables</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="164">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [],               array2.variables</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="165">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [],               array3.variables</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="166">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [:B],             array4.variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="170">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="171">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#value&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="172">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="173">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return simple Arrays as is&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="174">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [1, 2, :A, 4, [:B, 6, 7, :C], 9],     array1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="175">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [],                                   array2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="176">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [UNKNOWN_TAIL],                       array3.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="177">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [1, :B, 3, UNKNOWN_TAIL],             array4.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="179">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="180">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should expand Tails that are an Array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="181">
          <span class="hits">1</span>
          
          <code class="ruby">      array = [1,2,3,Tail.new([7,8,9])]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="183">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [1,2,3,7,8,9],                        array.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="184">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="186">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return the value of instantiated variables in a Tail&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="187">
          <span class="hits">1</span>
          
          <code class="ruby">      goal  = new_goal :tailor, :h, :t</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="188">
          <span class="hits">1</span>
          
          <code class="ruby">      array = goal.variablise([:h, :b] / :t)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="189">
          <span class="hits">1</span>
          
          <code class="ruby">      goal.instantiate :h, [1,2,3]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="190">
          <span class="hits">1</span>
          
          <code class="ruby">      goal.instantiate :t, [7,8,9]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="192">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [goal.value([1,2,3]),goal.variable(:b), goal.value(7), goal.value(8), goal.value(9)],     array.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="194">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="195">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return the value of instantiated variables in a Tail&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="196">
          <span class="hits">1</span>
          
          <code class="ruby">      goal  = new_goal :taylor, :head, :tail</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="197">
          <span class="hits">1</span>
          
          <code class="ruby">      array = [Tail.new(goal.value([5,6,7,8]))]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="198">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="199">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [5,6,7,8],                            array.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="200">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="202">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="203">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="204">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#type&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="206">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return :variable for symbols&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="207">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    :array,           array1.type</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="208">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    :array,           array2.type</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="209">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    :array,           array3.type</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="210">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    :array,           array4.type</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="212">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="213">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="214">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="215">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#head&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="217">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return the first element when no headsize is provided&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="218">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    1,                array1.head</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="219">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil                        array2.head</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="220">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil                        array3.head</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="221">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    1,                array4.head</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="222">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="223">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="224">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return the first headsize elements&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="225">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [1, 2],           array1.head(2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="226">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [],               array2.head(2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="227">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [UNKNOWN_TAIL],   array3.head(2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="228">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [1, :B],          array4.head(2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="229">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="230">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="231">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return an extended head if the tail is uninstantiated&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="232">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [1, 2, :A, 4, [:B, 6, 7, :C], 9],   array1.head(9)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="233">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [],                                 array2.head(9)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="234">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [UNKNOWN_TAIL],                     array3.head(9)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="235">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [1, :B, 3, UNKNOWN_TAIL],           array4.head(9)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="236">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="237">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="238">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="240">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#tail&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="241">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="242">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return the tail after the first element when no headsize is provided&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="243">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [2, :A, 4, [:B, 6, 7, :C], 9],      array1.tail</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="244">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [],                                 array2.tail</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="245">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [UNKNOWN_TAIL],                     array3.tail</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="246">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [:B, 3, UNKNOWN_TAIL],              array4.tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="247">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="248">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="249">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return the tail after the first headsize elements&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="250">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [:A, 4, [:B, 6, 7, :C], 9],         array1.tail(2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="251">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [],                                 array2.tail(2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="252">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [UNKNOWN_TAIL],                     array3.tail(2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="253">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [3, UNKNOWN_TAIL],                  array4.tail(2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="254">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="255">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="256">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return an extended tail if the tail is uninstantiated&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="257">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [],                                 array1.tail(9)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="258">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [],                                 array2.tail(9)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="259">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [UNKNOWN_TAIL],                     array3.tail(9)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="260">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [UNKNOWN_TAIL],                     array4.tail(9)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="261">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="262">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="263">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="264">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="265">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#clean&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="266">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="267">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:predicate1)  { Predicate.new :generic }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="268">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:arguments1)  { predicate1.arguments(:m,:n) }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="269">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:goal1)       { arguments1.goal }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="270">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="271">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:array5)      { [1, 2, goal1[:A], 4, [goal1[:B], 6, 7, goal1[:C]], 9] }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="272">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:array6)      { [1, goal1[:B], 3]/:T }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="273">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:array7)      { [1, goal1[:B], 3]/goal1[:T] }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="274">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="275">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return simple Arrays as is&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="276">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [1, 2, :A, 4, [:B, 6, 7, :C], 9],     array1.clean</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="277">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [],                                   array2.clean</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="278">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [UNKNOWN_TAIL],                       array3.clean</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="279">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [1, :B, 3, UNKNOWN_TAIL],             array4.clean</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="280">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="281">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="282">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return the values of its elements with variables replaced by nil and Tails replaced by UNKNOWN_TAIL&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="283">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [1, 2, nil, 4, [nil, 6, 7, nil], 9],  array5.clean</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="284">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [1, nil, 3, UNKNOWN_TAIL],            array6.clean</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="285">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [1, nil, 3, UNKNOWN_TAIL],            array7.clean</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="286">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="287">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="288">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="289">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="290">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8e03f55aad5a0e4807f98988a10d608025119e33">
  <div class="header">
    <h3>test/porolog/goal_test.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>379</b> relevant lines. 
      <span class="green"><b>379</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   test/porolog/goal_test.rb     - Test Suite for Porolog::Goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban      2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../test_helper&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="11">
          <span class="hits">1</span>
          
          <code class="ruby">describe &#39;Porolog&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="13">
          <span class="hits">1</span>
          
          <code class="ruby">  before(:all) do</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="14">
          <span class="hits">60</span>
          
          <code class="ruby">    reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="17">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;Goal&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="44" data-linenumber="19">
          <span class="hits">44</span>
          
          <code class="ruby">    let(:pred) { Predicate.new :p }</code>
        </li>
      
        <li class="covered" data-hits="44" data-linenumber="20">
          <span class="hits">44</span>
          
          <code class="ruby">    let(:args) { pred.(:x,:y) }</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="21">
          <span class="hits">25</span>
          
          <code class="ruby">    let(:goal) { Goal.new args }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="23">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.reset&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="25">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should clear all goals&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="26">
          <span class="hits">1</span>
          
          <code class="ruby">        new_goal :predicate1, :a</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="27">
          <span class="hits">1</span>
          
          <code class="ruby">        new_goal :predicate2, :a, :b</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="28">
          <span class="hits">1</span>
          
          <code class="ruby">        new_goal :predicate3, :a, :b, :c</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="30">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  3,  Goal.goals.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="32">
          <span class="hits">1</span>
          
          <code class="ruby">        Goal.reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="34">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_empty      Goal.goals</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="37">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should call check_deleted for each goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="38">
          <span class="hits">1</span>
          
          <code class="ruby">        Goal.any_instance.expects(:check_deleted).with().returns(false).times(5)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="40">
          <span class="hits">1</span>
          
          <code class="ruby">        new_goal :p, :x, :y</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="41">
          <span class="hits">1</span>
          
          <code class="ruby">        new_goal :q, :a</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="42">
          <span class="hits">1</span>
          
          <code class="ruby">        new_goal :r, :a, :b, :c</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="44">
          <span class="hits">1</span>
          
          <code class="ruby">        Goal.reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="46">
          <span class="hits">1</span>
          
          <code class="ruby">        new_goal :j, 1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="47">
          <span class="hits">1</span>
          
          <code class="ruby">        new_goal :k, [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="49">
          <span class="hits">1</span>
          
          <code class="ruby">        Goal.reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="54">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.goals&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="56">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return all registered goals&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="57">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  0,  Goal.goals.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="59">
          <span class="hits">1</span>
          
          <code class="ruby">        goal1 = new_goal :predicate1, :a</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="61">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [goal1],                Goal.goals</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="63">
          <span class="hits">1</span>
          
          <code class="ruby">        goal2 = new_goal :predicate2, :a, :b</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="65">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [goal1,goal2],          Goal.goals</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="67">
          <span class="hits">1</span>
          
          <code class="ruby">        goal3 = new_goal :predicate3, :a, :b, :c</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="69">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [goal1,goal2,goal3],    Goal.goals</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="74">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.new&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="76">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should create a new Goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="77">
          <span class="hits">1</span>
          
          <code class="ruby">        goal = Goal.new nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="79">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Goal,   goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="84">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#initialize&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="86">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should initialize calling_goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="87">
          <span class="hits">1</span>
          
          <code class="ruby">        goal1 = Goal.new args</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="88">
          <span class="hits">1</span>
          
          <code class="ruby">        goal2 = Goal.new args, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="90">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil              goal1.calling_goal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="91">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  goal1,    goal2.calling_goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="93">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal   goal1,    :p, [:x,:y]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="94">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal   goal2,    :p, [:x,:y]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="97">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should initialize arguments&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="98">
          <span class="hits">1</span>
          
          <code class="ruby">        goal = Goal.new args, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="100">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  goal.variablise(args),      goal.arguments</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="103">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should initialize terminate&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="104">
          <span class="hits">1</span>
          
          <code class="ruby">        goal = Goal.new args, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="106">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  false,                      goal.terminated?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="109">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should initialize variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="110">
          <span class="hits">1</span>
          
          <code class="ruby">        goal = Goal.new args, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="112">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal, { x: nil, y: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">          &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="118">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should register the goal as undeleted&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="119">
          <span class="hits">1</span>
          
          <code class="ruby">        goal1 = Goal.new args, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="120">
          <span class="hits">1</span>
          
          <code class="ruby">        goal2 = Goal.new args, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="122">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [goal1,goal2],              Goal.goals</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="127">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#myid&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="129">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the pretty id of the goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="130">
          <span class="hits">1</span>
          
          <code class="ruby">        goal1 = Goal.new args, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="131">
          <span class="hits">1</span>
          
          <code class="ruby">        goal2 = Goal.new args, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="133">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;Goal1&#39;,          goal1.myid</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="134">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;Goal2&#39;,          goal2.myid</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="139">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#ancestors&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="141">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return an Array of the parent goals&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="142">
          <span class="hits">1</span>
          
          <code class="ruby">        goal1 = Goal.new args</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="143">
          <span class="hits">1</span>
          
          <code class="ruby">        goal2 = Goal.new args, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="144">
          <span class="hits">1</span>
          
          <code class="ruby">        goal3 = Goal.new args, goal2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="145">
          <span class="hits">1</span>
          
          <code class="ruby">        goal4 = Goal.new args, goal3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="147">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [goal1],                          goal1.ancestors</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="148">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [goal1, goal2],                   goal2.ancestors</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="149">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [goal1, goal2, goal3],            goal3.ancestors</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="150">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [goal1, goal2, goal3, goal4],     goal4.ancestors</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="155">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#ancestry&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="157">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return an Array of the parent goals&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="158">
          <span class="hits">1</span>
          
          <code class="ruby">        goal1 = Goal.new args</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="159">
          <span class="hits">1</span>
          
          <code class="ruby">        goal2 = Goal.new args, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="160">
          <span class="hits">1</span>
          
          <code class="ruby">        goal3 = Goal.new args, goal2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="161">
          <span class="hits">1</span>
          
          <code class="ruby">        goal4 = Goal.new args, goal3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">        ancestors = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="164">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Goal1 -- Solve p(:x,:y)  {:x=&gt;nil, :y=&gt;nil}&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby">          &#39;  Goal2 -- Solve p(:x,:y)  {:x=&gt;nil, :y=&gt;nil}&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby">          &#39;    Goal3 -- Solve p(:x,:y)  {:x=&gt;nil, :y=&gt;nil}&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">          &#39;      Goal4 -- Solve p(:x,:y)  {:x=&gt;nil, :y=&gt;nil}&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="170">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  ancestors[0...1].join(&quot;\n&quot;),      goal1.ancestry</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="171">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  ancestors[0...2].join(&quot;\n&quot;),      goal2.ancestry</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="172">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  ancestors[0...3].join(&quot;\n&quot;),      goal3.ancestry</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="173">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  ancestors[0...4].join(&quot;\n&quot;),      goal4.ancestry</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="174">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="176">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="178">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#inspect&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="179">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="180">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should show a description of the goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="181">
          <span class="hits">1</span>
          
          <code class="ruby">        goal1 = Goal.new args</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="182">
          <span class="hits">1</span>
          
          <code class="ruby">        goal2 = Goal.new pred.(1,:b,&#39;word&#39;), goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="183">
          <span class="hits">1</span>
          
          <code class="ruby">        goal3 = Goal.new args, goal2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="184">
          <span class="hits">1</span>
          
          <code class="ruby">        goal4 = Goal.new args, goal3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="186">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;Goal1 -- Solve p(:x,:y)&#39;,        goal1.inspect</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="187">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;Goal2 -- Solve p(1,:b,&quot;word&quot;)&#39;,  goal2.inspect</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="188">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;Goal3 -- Solve p(:x,:y)&#39;,        goal3.inspect</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="189">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;Goal4 -- Solve p(:x,:y)&#39;,        goal4.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="190">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="194">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#delete!&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="195">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="196">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should delete the goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="197">
          <span class="hits">1</span>
          
          <code class="ruby">        goal1 = Goal.new args</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="198">
          <span class="hits">1</span>
          
          <code class="ruby">        goal2 = Goal.new pred.(1,:b,&#39;word&#39;), goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="199">
          <span class="hits">1</span>
          
          <code class="ruby">        goal3 = Goal.new args, goal2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="200">
          <span class="hits">1</span>
          
          <code class="ruby">        goal4 = Goal.new args, goal3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="202">
          <span class="hits">1</span>
          
          <code class="ruby">        assert                                          goal2.delete!, &#39;goal should delete&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="203">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [goal1, goal3, goal4],            Goal.goals</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="208">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#myid&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="209">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="210">
          <span class="hits">2</span>
          
          <code class="ruby">      let(:pred) { Predicate.new :p }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="211">
          <span class="hits">2</span>
          
          <code class="ruby">      let(:args) { pred.(:x,:y) }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="212">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="213">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the pretty id of the goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="214">
          <span class="hits">1</span>
          
          <code class="ruby">        goal1 = Goal.new args, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="215">
          <span class="hits">1</span>
          
          <code class="ruby">        goal2 = Goal.new args, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="217">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;Goal1&#39;,          goal1.myid</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="218">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;Goal2&#39;,          goal2.myid</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="219">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="221">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="222">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="223">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#deleted?&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="224">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="225">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the deleted state of a goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="226">
          <span class="hits">1</span>
          
          <code class="ruby">        goal = Goal.new args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="227">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="228">
          <span class="hits">1</span>
          
          <code class="ruby">        refute    goal.deleted?, &#39;goal should not be deleted&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="229">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="230">
          <span class="hits">1</span>
          
          <code class="ruby">        Goal.reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="231">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="232">
          <span class="hits">1</span>
          
          <code class="ruby">        assert    goal.deleted?, &#39;goal should be deleted&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="234">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="235">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should memoize the deleted state of a goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="236">
          <span class="hits">1</span>
          
          <code class="ruby">        goal = Goal.new args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="237">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="238">
          <span class="hits">1</span>
          
          <code class="ruby">        check_deleted_spy = Spy.on(goal, :check_deleted).and_call_through</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="240">
          <span class="hits">1</span>
          
          <code class="ruby">        refute    goal.deleted?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="241">
          <span class="hits">1</span>
          
          <code class="ruby">        refute    goal.deleted?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="242">
          <span class="hits">1</span>
          
          <code class="ruby">        refute    goal.deleted?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="243">
          <span class="hits">1</span>
          
          <code class="ruby">        refute    goal.deleted?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="244">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="245">
          <span class="hits">1</span>
          
          <code class="ruby">        Goal.reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="246">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="247">
          <span class="hits">1</span>
          
          <code class="ruby">        assert    goal.deleted?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="248">
          <span class="hits">1</span>
          
          <code class="ruby">        assert    goal.deleted?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="249">
          <span class="hits">1</span>
          
          <code class="ruby">        assert    goal.deleted?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="250">
          <span class="hits">1</span>
          
          <code class="ruby">        assert    goal.deleted?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="251">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="252">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    5,    check_deleted_spy.calls.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="253">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="254">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="255">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="256">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="257">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#check_deleted&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="258">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="259">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return false when the goal is not deleted and keep variables intact&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="260">
          <span class="hits">1</span>
          
          <code class="ruby">        goal = Goal.new args</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="261">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.variable(:x)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="262">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.variable(:y)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="263">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.variable(:z)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="264">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="265">
          <span class="hits">1</span>
          
          <code class="ruby">        variable_remove_spy = Spy.on_instance_method(Variable, :remove)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="266">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="267">
          <span class="hits">1</span>
          
          <code class="ruby">        refute  goal.check_deleted, &#39;goal should not be deleted&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="269">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    0,    variable_remove_spy.calls.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="270">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="272">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return true when the goal is deleted and remove all variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="273">
          <span class="hits">1</span>
          
          <code class="ruby">        goal = Goal.new args</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="274">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.variable(:x)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="275">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.variable(:y)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="276">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.variable(:z)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="277">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="278">
          <span class="hits">1</span>
          
          <code class="ruby">        variable_remove_spy = Spy.on_instance_method(Variable, :remove)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="279">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="280">
          <span class="hits">1</span>
          
          <code class="ruby">        Goal.reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="281">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="282">
          <span class="hits">1</span>
          
          <code class="ruby">        assert  goal.check_deleted, &#39;goal should be deleted&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="283">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="284">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    3,    variable_remove_spy.calls.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="285">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="286">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="287">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="288">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="289">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#terminate!&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="290">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="291">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should set the goal to terminate and log the event&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="292">
          <span class="hits">1</span>
          
          <code class="ruby">        goal = Goal.new args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="293">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="294">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          goal.terminate!,      &#39;the goal should be set to terminate&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="295">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [&#39;terminating&#39;],      goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="296">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="297">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="298">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="299">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="300">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#terminated?&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="301">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="302">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return whether the goal is set to terminate or not&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="303">
          <span class="hits">1</span>
          
          <code class="ruby">        goal = Goal.new args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="304">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="305">
          <span class="hits">1</span>
          
          <code class="ruby">        refute          goal.terminated?,     &#39;the goal should not be initialized to terminate&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="306">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          goal.terminate!,      &#39;the goal should be set to terminate&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="307">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          goal.terminated?,     &#39;the goal should be set to terminate&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="308">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="309">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="310">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="311">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="312">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#variablise&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="313">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="314">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should convert a Symbol into a Variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="315">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Variable   goal.variablise(:k),  :k, goal, [], []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="316">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="317">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="318">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return a Variable as is&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="319">
          <span class="hits">1</span>
          
          <code class="ruby">        v = Variable.new :r, goal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="320">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      v,                goal.variablise(v)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="321">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="322">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="323">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should convert an Array into a Variables and Objects&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="324">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      [goal.value(1),goal.variable(:a),goal.value(&#39;word&#39;)],   goal.variablise([1,:a,&#39;word&#39;])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="325">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="326">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="327">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return a duplicate of an Arguments&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="328">
          <span class="hits">1</span>
          
          <code class="ruby">        duplicate = goal.variablise(args)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="329">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Arguments  duplicate,  :p, goal.variablise([:x, :y])</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="330">
          <span class="hits">1</span>
          
          <code class="ruby">        refute_equal      args,       duplicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="331">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="332">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="333">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should convert a Tail into a Tail with a variablised value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="334">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Tail       goal.variablise(Tail.new :m),  &#39;*Goal1.:m&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="335">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="336">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="337">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return a Value as is&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="338">
          <span class="hits">1</span>
          
          <code class="ruby">        v = Value.new(45, goal)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="339">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      v,                goal.variablise(v)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="340">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="341">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="342">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return an unknown array as is&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="343">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      UNKNOWN_ARRAY,    goal.variablise(UNKNOWN_ARRAY)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="344">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="345">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="346">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return an unknown tail as is&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="347">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      UNKNOWN_TAIL,     goal.variablise(UNKNOWN_TAIL)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="348">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="349">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="350">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should convert any other Object into a Value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="351">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Value      goal.variablise(23.61),  23.61, goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="352">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="353">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="354">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="355">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="356">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#variables&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="357">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="358">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return a Hash of variables and their values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="359">
          <span class="hits">1</span>
          
          <code class="ruby">        goal = Goal.new args</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="360">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.variable(:x)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="361">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.variable(:y)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="362">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.variable(:z)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="363">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="364">
          <span class="hits">1</span>
          
          <code class="ruby">        variables = goal.variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="365">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="366">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of      Hash, variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="367">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="368">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal             goal, :p, [:x,:y]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="369">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal, { x: nil, y: nil, z: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="370">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="371">
          
          
          <code class="ruby">          &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="372">
          
          
          <code class="ruby">          &#39;Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="373">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="374">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="375">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="376">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="377">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="378">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#inspect_variables&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="379">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="380">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return a string showing the instantiations of the variables of the goal&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="381">
          
          
          <code class="ruby">        # -- Initial Goal --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="382">
          <span class="hits">1</span>
          
          <code class="ruby">        goal = Goal.new args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="383">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="384">
          <span class="hits">1</span>
          
          <code class="ruby">        x = goal.variable(:x)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="385">
          <span class="hits">1</span>
          
          <code class="ruby">        y = goal.variable(:y)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="386">
          <span class="hits">1</span>
          
          <code class="ruby">        z = goal.variable(:z)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="387">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="388">
          
          
          <code class="ruby">        expected = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="389">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="390">
          
          
          <code class="ruby">          &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="391">
          
          
          <code class="ruby">          &#39;Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="392">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="393">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="394">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected,     goal.inspect_variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="395">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="396">
          
          
          <code class="ruby">        # -- After First Instantiation --</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="397">
          
          
          <code class="ruby">        #   x.head = y</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="398">
          <span class="hits">1</span>
          
          <code class="ruby">        x.instantiate y, nil, :head</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="399">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="400">
          
          
          <code class="ruby">        expected = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="401">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="402">
          
          
          <code class="ruby">          &#39;  [:head]Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="403">
          
          
          <code class="ruby">          &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="404">
          
          
          <code class="ruby">          &#39;  Goal1.:x[:head]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="405">
          
          
          <code class="ruby">          &#39;Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="406">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="407">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="408">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected,     goal.inspect_variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="409">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="410">
          
          
          <code class="ruby">        # -- After Second Instantiation --</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="411">
          
          
          <code class="ruby">        #   x.head = y</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="412">
          
          
          <code class="ruby">        #   x.tail = z</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="413">
          <span class="hits">1</span>
          
          <code class="ruby">        x.instantiate z, nil, :tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="414">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="415">
          
          
          <code class="ruby">        expected = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="416">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="417">
          
          
          <code class="ruby">          &#39;  [:head]Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="418">
          
          
          <code class="ruby">          &#39;  [:tail]Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="419">
          
          
          <code class="ruby">          &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="420">
          
          
          <code class="ruby">          &#39;  Goal1.:x[:head]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="421">
          
          
          <code class="ruby">          &#39;    [:tail]Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="422">
          
          
          <code class="ruby">          &#39;Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="423">
          
          
          <code class="ruby">          &#39;  Goal1.:x[:tail]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="424">
          
          
          <code class="ruby">          &#39;    [:head]Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="425">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="426">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="427">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected,     goal.inspect_variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="428">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="429">
          
          
          <code class="ruby">        # -- After Third Instantiation --</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="430">
          
          
          <code class="ruby">        #   x = [*y, *z]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="431">
          
          
          <code class="ruby">        #   y = 1,2,3</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="432">
          <span class="hits">1</span>
          
          <code class="ruby">        y.instantiate goal.value([1,2,3])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="433">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="434">
          
          
          <code class="ruby">        expected = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="435">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="436">
          
          
          <code class="ruby">          &#39;  [:head]Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="437">
          
          
          <code class="ruby">          &#39;    Goal1.[1, 2, 3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="438">
          
          
          <code class="ruby">          &#39;  [:tail]Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="439">
          
          
          <code class="ruby">          &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="440">
          
          
          <code class="ruby">          &#39;  Goal1.:x[:head]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="441">
          
          
          <code class="ruby">          &#39;    [:tail]Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="442">
          
          
          <code class="ruby">          &#39;  Goal1.[1, 2, 3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="443">
          
          
          <code class="ruby">          &#39;Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="444">
          
          
          <code class="ruby">          &#39;  Goal1.:x[:tail]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="445">
          
          
          <code class="ruby">          &#39;    [:head]Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="446">
          
          
          <code class="ruby">          &#39;      Goal1.[1, 2, 3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="447">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="448">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="449">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected,     goal.inspect_variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="450">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="451">
          
          
          <code class="ruby">        # -- After Fourth Instantiation --</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="452">
          
          
          <code class="ruby">        #   x = [*y, *z]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="453">
          
          
          <code class="ruby">        #   y = 1,2,3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="454">
          
          
          <code class="ruby">        #   z = 4,5,6</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="455">
          <span class="hits">1</span>
          
          <code class="ruby">        z.instantiate goal.value([4,5,6])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="456">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="457">
          
          
          <code class="ruby">        expected = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="458">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="459">
          
          
          <code class="ruby">          &#39;  [:head]Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="460">
          
          
          <code class="ruby">          &#39;    Goal1.[1, 2, 3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="461">
          
          
          <code class="ruby">          &#39;  [:tail]Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="462">
          
          
          <code class="ruby">          &#39;    Goal1.[4, 5, 6]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="463">
          
          
          <code class="ruby">          &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="464">
          
          
          <code class="ruby">          &#39;  Goal1.:x[:head]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="465">
          
          
          <code class="ruby">          &#39;    [:tail]Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="466">
          
          
          <code class="ruby">          &#39;      Goal1.[4, 5, 6]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="467">
          
          
          <code class="ruby">          &#39;  Goal1.[1, 2, 3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="468">
          
          
          <code class="ruby">          &#39;Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="469">
          
          
          <code class="ruby">          &#39;  Goal1.:x[:tail]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="470">
          
          
          <code class="ruby">          &#39;    [:head]Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="471">
          
          
          <code class="ruby">          &#39;      Goal1.[1, 2, 3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="472">
          
          
          <code class="ruby">          &#39;  Goal1.[4, 5, 6]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="473">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="474">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="475">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected,     goal.inspect_variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="476">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="477">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="478">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="479">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="480">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#values&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="481">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="482">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the values that have been associated with the goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="483">
          <span class="hits">1</span>
          
          <code class="ruby">        goal = Goal.new args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="484">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="485">
          <span class="hits">1</span>
          
          <code class="ruby">        x = goal.variable(:x)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="486">
          <span class="hits">1</span>
          
          <code class="ruby">        y = goal.variable(:y)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="487">
          <span class="hits">1</span>
          
          <code class="ruby">        z = goal.variable(:z)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="488">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="489">
          <span class="hits">1</span>
          
          <code class="ruby">        x.instantiate y, nil, :head</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="490">
          <span class="hits">1</span>
          
          <code class="ruby">        x.instantiate z, nil, :tail</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="491">
          <span class="hits">1</span>
          
          <code class="ruby">        y.instantiate goal.value([1,2,3])</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="492">
          <span class="hits">1</span>
          
          <code class="ruby">        z.instantiate goal.value([4,5,6])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="493">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="494">
          
          
          <code class="ruby">        expected = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="495">
          <span class="hits">1</span>
          
          <code class="ruby">          [1,2,3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="496">
          
          
          <code class="ruby">          [4,5,6],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="497">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="498">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="499">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected,     goal.values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="500">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="501">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="502">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="503">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="504">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#variable&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="505">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="506">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return a non-variable as is&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="507">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    4.132,    goal.variable(4.132)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="508">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="509">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="510">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should create and find a variable from a Symbol or Variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="511">
          <span class="hits">1</span>
          
          <code class="ruby">        refute    goal.variables.key?(:v), &#39;:v should not be a variable&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="512">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="513">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = goal.variable :v</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="514">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="515">
          <span class="hits">1</span>
          
          <code class="ruby">        assert    goal.variables.key?(:v), &#39;:v should be a variable&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="516">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="517">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2 = goal.variable :v</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="518">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="519">
          <span class="hits">1</span>
          
          <code class="ruby">        assert    goal.variables.key?(:v), &#39;:v should be a variable&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="520">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="521">
          <span class="hits">1</span>
          
          <code class="ruby">        variable3 = goal.variable variable2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="522">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="523">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable1, variable2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="524">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable2, variable3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="525">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="526">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="527">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="528">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="529">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#value&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="530">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="531">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should create and find a value from an Object&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="532">
          <span class="hits">1</span>
          
          <code class="ruby">        refute    goal.values.include?(99.02), &#39;99.02 should not be a value&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="533">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="534">
          <span class="hits">1</span>
          
          <code class="ruby">        value1 = goal.value 99.02</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="535">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="536">
          <span class="hits">1</span>
          
          <code class="ruby">        assert    goal.values.include?(99.02), &#39;99.02 should be a value&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="537">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="538">
          <span class="hits">1</span>
          
          <code class="ruby">        value2 = goal.value 99.02</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="539">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="540">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Value    value1,       99.02, goal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="541">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Value    value2,       99.02, goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="542">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="543">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [99.02],      goal.values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="544">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="545">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="546">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="547">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="548">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#value_of&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="549">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="550">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;when name is a Symbol&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="551">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="552">
          <span class="hits">2</span>
          
          <code class="ruby">        let(:variable_name) { :cymbal }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="553">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="554">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should create the Variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="555">
          <span class="hits">1</span>
          
          <code class="ruby">          refute        goal.variables.key?(variable_name), &quot;#{variable_name} should not exist&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="556">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="557">
          <span class="hits">1</span>
          
          <code class="ruby">          refute_nil    goal.value_of(variable_name)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="558">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="559">
          <span class="hits">1</span>
          
          <code class="ruby">          assert        goal.variables.key?(variable_name), &quot;#{variable_name} should exist&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="560">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="561">
          <span class="hits">1</span>
          
          <code class="ruby">          variable       = goal.variable(variable_name)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="562">
          <span class="hits">1</span>
          
          <code class="ruby">          variable.instantiate 44.5</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="563">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="564">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal      44.5,   goal.value_of(variable_name)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="565">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="566">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="567">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="568">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="569">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;when name is not a Symbol&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="570">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="571">
          <span class="hits">2</span>
          
          <code class="ruby">        let(:variable_name) { 99.28 }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="572">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="573">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return the name as the value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="574">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal    99.28,    goal.value_of(variable_name)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="575">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="576">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="577">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="578">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="579">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="580">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="581">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#values_of&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="582">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="583">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return an Array with values_of applied to each element when given an Array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="584">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.instantiate :thomas, &#39;$10&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="585">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="586">
          <span class="hits">1</span>
          
          <code class="ruby">        expected = [[1,&#39;two&#39;], &#39;$10&#39;, 999, &#39;giraffe&#39;, 0.5]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="587">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="588">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected,     goal.values_of([[1,&#39;two&#39;], :thomas, 999, &#39;giraffe&#39;, 0.5])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="589">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="590">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="591">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the value_of the Variable when given a Variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="592">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.instantiate :jones, &#39;Fuzzy&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="593">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="594">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = goal.variable(:jones)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="595">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="596">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;Fuzzy&#39;,      goal.values_of(variable1)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="597">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="598">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="599">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the value_of the Symbol when given a Symbol&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="600">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.instantiate :x, &#39;Staunch&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="601">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="602">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;Staunch&#39;,    goal.values_of(:x)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="603">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="604">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="605">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the value_of the Value when given a Value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="606">
          <span class="hits">1</span>
          
          <code class="ruby">        value1 = goal.value(123.76)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="607">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="608">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    123.76,       goal.values_of(value1)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="609">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="610">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="611">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should somehow splat when given a Tail&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="612">
          <span class="hits">1</span>
          
          <code class="ruby">        tail1 = Tail.new [&#39;apples&#39;,&#39;oranges&#39;,&#39;bananas&#39;]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="613">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="614">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;apples&#39;,     goal.values_of(tail1)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="615">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="616">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="617">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the Object as is when given an Object&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="618">
          <span class="hits">1</span>
          
          <code class="ruby">        object = Object.new</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="619">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="620">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.expects(:value_of).times(0)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="621">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="622">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    object,     goal.values_of(object)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="623">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="624">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="625">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="626">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="627">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#solve&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="628">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="629">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should find no solutions for a goal with no rules&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="630">
          <span class="hits">1</span>
          
          <code class="ruby">        goal1 = new_goal :p, :x, :y</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="631">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="632">
          <span class="hits">1</span>
          
          <code class="ruby">        solutions = goal1.solve</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="633">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="634">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [], solutions</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="635">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="636">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="637">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should solve a fact&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="638">
          <span class="hits">1</span>
          
          <code class="ruby">        predicate :fact</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="639">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="640">
          <span class="hits">1</span>
          
          <code class="ruby">        fact(42).fact!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="641">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="642">
          <span class="hits">1</span>
          
          <code class="ruby">        solutions = fact(42).solve</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="643">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="644">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [{}],  solutions</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="645">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="646">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="647">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not solve a falicy&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="648">
          <span class="hits">1</span>
          
          <code class="ruby">        predicate :fact</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="649">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="650">
          <span class="hits">1</span>
          
          <code class="ruby">        fact(42).falicy!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="651">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="652">
          <span class="hits">1</span>
          
          <code class="ruby">        solutions = fact(42).solve</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="653">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="654">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [],  solutions</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="655">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="656">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="657">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should solve using head and tail with lists&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="658">
          <span class="hits">1</span>
          
          <code class="ruby">        predicate :head_tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="659">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="660">
          <span class="hits">1</span>
          
          <code class="ruby">        head_tail([1,2,3,4,5,6,7]).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="661">
          <span class="hits">1</span>
          
          <code class="ruby">        head_tail([&#39;head&#39;,&#39;body&#39;,&#39;foot&#39;]).fact!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="662">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="663">
          <span class="hits">1</span>
          
          <code class="ruby">        solutions = head_tail(:head/:tail).solve</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="664">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="665">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="666">
          
          
          <code class="ruby">          { head: 1,      tail: [2,3,4,5,6,7] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="667">
          
          
          <code class="ruby">          { head: &#39;head&#39;, tail: [&#39;body&#39;,&#39;foot&#39;] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="668">
          
          
          <code class="ruby">        ], solutions</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="669">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="670">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="671">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should solve a goal recursively&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="672">
          <span class="hits">1</span>
          
          <code class="ruby">        builtin :write</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="673">
          <span class="hits">1</span>
          
          <code class="ruby">        predicate :recursive</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="674">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="675">
          <span class="hits">1</span>
          
          <code class="ruby">        recursive([]) &lt;&lt; [:CUT, true]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="676">
          <span class="hits">1</span>
          
          <code class="ruby">        recursive(:head/:tail) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="677">
          
          
          <code class="ruby">          write(&#39;(&#39;,:head,&#39;)&#39;),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="678">
          
          
          <code class="ruby">          recursive(:tail)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="679">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="680">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="681">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_output &#39;(1)(2)(3)(four)(5)(6)(7)&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="682">
          <span class="hits">1</span>
          
          <code class="ruby">          solutions = recursive([1,2,3,&#39;four&#39;,5,6,7]).solve</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="683">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="684">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal    [{}], solutions</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="685">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="686">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="687">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="688">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="689">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="690">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#satisfy&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="691">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="692">
          <span class="hits">5</span>
          
          <code class="ruby">      let(:block) { -&gt;(subgoal){} }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="693">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="694">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return false when the goal has no arguments&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="695">
          <span class="hits">1</span>
          
          <code class="ruby">        goal = Goal.new nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="696">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="697">
          <span class="hits">1</span>
          
          <code class="ruby">        block.expects(:call).times(0)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="698">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="699">
          <span class="hits">1</span>
          
          <code class="ruby">        refute          goal.satisfy(&amp;block),   name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="700">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="701">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="702">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should access the predicate of its arguments&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="703">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.arguments.expects(:predicate).with().returns(nil).times(1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="704">
          <span class="hits">1</span>
          
          <code class="ruby">        block.expects(:call).times(0)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="705">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="706">
          <span class="hits">1</span>
          
          <code class="ruby">        refute          goal.satisfy(&amp;block),   name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="707">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="708">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="709">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should try to satisfy the predicate with itself&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="710">
          <span class="hits">1</span>
          
          <code class="ruby">        pred.expects(:satisfy).with(goal).returns(nil).times(1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="711">
          <span class="hits">1</span>
          
          <code class="ruby">        block.expects(:call).times(0)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="712">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="713">
          <span class="hits">1</span>
          
          <code class="ruby">        refute          goal.satisfy(&amp;block),   name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="714">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="715">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="716">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should call the block when the predicate is satisfied&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="717">
          <span class="hits">1</span>
          
          <code class="ruby">        pred.(1,2).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="718">
          <span class="hits">1</span>
          
          <code class="ruby">        pred.(3,4).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="719">
          <span class="hits">1</span>
          
          <code class="ruby">        pred.(5,6).fact!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="720">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="721">
          <span class="hits">1</span>
          
          <code class="ruby">        block.expects(:call).returns(true).times(3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="722">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="723">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          goal.satisfy(&amp;block),   name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="724">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="725">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="726">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="727">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="728">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#instantiate&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="729">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="730">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;creates an Array with a Tail using the slash notation with Symbols with a goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="731">
          <span class="hits">1</span>
          
          <code class="ruby">        goal      = new_goal  :bravo, :x, :y, :z</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="732">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="733">
          <span class="hits">1</span>
          
          <code class="ruby">        head_tail = goal.variablise(:head / :tail)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="734">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="735">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Array_with_Tail    head_tail,      [goal.variable(:head)], &#39;*Goal1.:tail&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="736">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="737">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal, { x: nil, y: nil, z: nil, head: nil, tail: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="738">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="739">
          
          
          <code class="ruby">          &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="740">
          
          
          <code class="ruby">          &#39;Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="741">
          
          
          <code class="ruby">          &#39;Goal1.:head&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="742">
          
          
          <code class="ruby">          &#39;Goal1.:tail&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="743">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="744">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="745">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="746">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;creates an Array with a Tail using the slash notation with a single head with a goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="747">
          <span class="hits">1</span>
          
          <code class="ruby">        goal      = new_goal  :bravo, :x, :y, :z</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="748">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="749">
          <span class="hits">1</span>
          
          <code class="ruby">        head_tail = goal.variablise([:head] / :tail)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="750">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="751">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Array_with_Tail    head_tail,      [goal.variable(:head)], &#39;*Goal1.:tail&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="752">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="753">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal, { x: nil, y: nil, z: nil, head: nil, tail: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="754">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="755">
          
          
          <code class="ruby">          &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="756">
          
          
          <code class="ruby">          &#39;Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="757">
          
          
          <code class="ruby">          &#39;Goal1.:head&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="758">
          
          
          <code class="ruby">          &#39;Goal1.:tail&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="759">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="760">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="761">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="762">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;creates variables from its contents with a goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="763">
          <span class="hits">1</span>
          
          <code class="ruby">        predicate :bravo</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="764">
          <span class="hits">1</span>
          
          <code class="ruby">        arguments = Predicate[:bravo].arguments(:x,:y,:z)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="765">
          <span class="hits">1</span>
          
          <code class="ruby">        goal      = arguments.goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="766">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="767">
          <span class="hits">1</span>
          
          <code class="ruby">        head_tail = [:alpha,bravo(:a,:b,:c),[:carly]] / [:x,[:y],bravo(:p,:q/:r)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="768">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="769">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [:alpha,bravo(:a,:b,:c),[:carly], :x,[:y],bravo(:p,:q/:r)].inspect,    head_tail.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="770">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="771">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal, { x: nil, y: nil, z: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="772">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="773">
          
          
          <code class="ruby">          &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="774">
          
          
          <code class="ruby">          &#39;Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="775">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="776">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="777">
          <span class="hits">1</span>
          
          <code class="ruby">        head_tail = goal.variablise(head_tail)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="778">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="779">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;[Goal1.:alpha, bravo(Goal1.:a,Goal1.:b,Goal1.:c), [Goal1.:carly], Goal1.:x, [Goal1.:y], bravo(Goal1.:p,[Goal1.:q, *Goal1.:r])]&#39;,    head_tail.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="780">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="781">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal, { x: nil, y: nil, z: nil, alpha: nil, a: nil, b: nil, c: nil, carly: nil, p: nil, q: nil, r: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="782">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="783">
          
          
          <code class="ruby">          &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="784">
          
          
          <code class="ruby">          &#39;Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="785">
          
          
          <code class="ruby">          &#39;Goal1.:alpha&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="786">
          
          
          <code class="ruby">          &#39;Goal1.:a&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="787">
          
          
          <code class="ruby">          &#39;Goal1.:b&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="788">
          
          
          <code class="ruby">          &#39;Goal1.:c&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="789">
          
          
          <code class="ruby">          &#39;Goal1.:carly&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="790">
          
          
          <code class="ruby">          &#39;Goal1.:p&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="791">
          
          
          <code class="ruby">          &#39;Goal1.:q&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="792">
          
          
          <code class="ruby">          &#39;Goal1.:r&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="793">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="794">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="795">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="796">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should combine Array value of head and Array value of tail when it has a goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="797">
          <span class="hits">1</span>
          
          <code class="ruby">        head_tail = [:first] / :last</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="798">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="799">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.instantiate :first, &#39;alpha&#39;,   goal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="800">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.instantiate :last,  [&#39;omega&#39;], goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="801">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="802">
          <span class="hits">1</span>
          
          <code class="ruby">        head_tail = goal.values_of(goal.variablise(head_tail))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="803">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="804">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [&#39;alpha&#39;,&#39;omega&#39;],        head_tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="805">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="806">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="807">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="808">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="809">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#inherit_variables&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="810">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="811">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return true for an initial goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="812">
          <span class="hits">1</span>
          
          <code class="ruby">        goal    = new_goal :goal,    :x, :y, :z</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="813">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="814">
          <span class="hits">1</span>
          
          <code class="ruby">        assert                  goal.inherit_variables</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="815">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal, { x: nil, y: nil, z: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="816">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="817">
          
          
          <code class="ruby">          &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="818">
          
          
          <code class="ruby">          &#39;Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="819">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="820">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="821">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="822">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should instantiate combined variables of both goals&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="823">
          <span class="hits">1</span>
          
          <code class="ruby">        goal    = new_goal :goal,    :x, :y, :z</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="824">
          <span class="hits">1</span>
          
          <code class="ruby">        subgoal = new_goal :subgoal, :a, :b, :c</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="825">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="826">
          <span class="hits">1</span>
          
          <code class="ruby">        assert  subgoal.inherit_variables(goal)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="827">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal, { x: nil, y: nil, z: nil, a: nil, b: nil, c: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="828">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="829">
          
          
          <code class="ruby">          &#39;  Goal2.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="830">
          
          
          <code class="ruby">          &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="831">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="832">
          
          
          <code class="ruby">          &#39;Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="833">
          
          
          <code class="ruby">          &#39;  Goal2.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="834">
          
          
          <code class="ruby">          &#39;Goal1.:a&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="835">
          
          
          <code class="ruby">          &#39;  Goal2.:a&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="836">
          
          
          <code class="ruby">          &#39;Goal1.:b&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="837">
          
          
          <code class="ruby">          &#39;  Goal2.:b&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="838">
          
          
          <code class="ruby">          &#39;Goal1.:c&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="839">
          
          
          <code class="ruby">          &#39;  Goal2.:c&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="840">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="841">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   subgoal, { a: nil, b: nil, c: nil, x: nil, y: nil, z: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="842">
          
          
          <code class="ruby">          &#39;Goal2.:a&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="843">
          
          
          <code class="ruby">          &#39;  Goal1.:a&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="844">
          
          
          <code class="ruby">          &#39;Goal2.:b&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="845">
          
          
          <code class="ruby">          &#39;  Goal1.:b&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="846">
          
          
          <code class="ruby">          &#39;Goal2.:c&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="847">
          
          
          <code class="ruby">          &#39;  Goal1.:c&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="848">
          
          
          <code class="ruby">          &#39;Goal2.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="849">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="850">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="851">
          
          
          <code class="ruby">          &#39;  Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="852">
          
          
          <code class="ruby">          &#39;Goal2.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="853">
          
          
          <code class="ruby">          &#39;  Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="854">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="855">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="856">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="857">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not make any instantiations when variables cannot be unified&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="858">
          <span class="hits">1</span>
          
          <code class="ruby">        goal    = new_goal :goal,    :x, :y, :z</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="859">
          <span class="hits">1</span>
          
          <code class="ruby">        subgoal = new_goal :subgoal, :a, :b, :c</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="860">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="861">
          <span class="hits">1</span>
          
          <code class="ruby">        goal[:x].instantiate 1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="862">
          <span class="hits">1</span>
          
          <code class="ruby">        subgoal[:x].instantiate 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="863">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="864">
          <span class="hits">1</span>
          
          <code class="ruby">        refute  subgoal.inherit_variables(goal)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="865">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="866">
          
          
          <code class="ruby">          &#39;Cannot unify because 1 != 2 (variable != variable)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="867">
          
          
          <code class="ruby">        ], goal.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="868">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="869">
          
          
          <code class="ruby">          &#39;Cannot unify because 1 != 2 (variable != variable)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="870">
          
          
          <code class="ruby">          &quot;Couldn&#39;t unify: :x WITH Goal1 AND Goal2&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="871">
          
          
          <code class="ruby">        ], subgoal.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="872">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal, { x: 1, y: nil, z: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="873">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="874">
          
          
          <code class="ruby">          &#39;  Goal1.1&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="875">
          
          
          <code class="ruby">          &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="876">
          
          
          <code class="ruby">          &#39;Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="877">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="878">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   subgoal, { a: nil, b: nil, c: nil, x: 2 }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="879">
          
          
          <code class="ruby">          &#39;Goal2.:a&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="880">
          
          
          <code class="ruby">          &#39;Goal2.:b&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="881">
          
          
          <code class="ruby">          &#39;Goal2.:c&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="882">
          
          
          <code class="ruby">          &#39;Goal2.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="883">
          
          
          <code class="ruby">          &#39;  Goal2.2&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="884">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="885">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="886">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="887">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="888">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="889">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="890">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="891">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="206ddef9a545ccf7733a0f7396116192abfa392d">
  <div class="header">
    <h3>test/porolog/instantiation_test.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>453</b> relevant lines. 
      <span class="green"><b>453</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   test/porolog/instantiation_test.rb     - Test Suite for Porolog::Instantiation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban      2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../test_helper&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="10">
          <span class="hits">1</span>
          
          <code class="ruby">describe &#39;Porolog&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="12">
          <span class="hits">1</span>
          
          <code class="ruby">  before(:all) do</code>
        </li>
      
        <li class="covered" data-hits="64" data-linenumber="13">
          <span class="hits">64</span>
          
          <code class="ruby">    reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="16">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;Instantiation&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="64" data-linenumber="18">
          <span class="hits">64</span>
          
          <code class="ruby">    let(:goal1)         { new_goal :generic, :m, :n }</code>
        </li>
      
        <li class="covered" data-hits="63" data-linenumber="19">
          <span class="hits">63</span>
          
          <code class="ruby">    let(:goal2)         { new_goal :specifc, :p, :q }</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="20">
          <span class="hits">22</span>
          
          <code class="ruby">    let(:goal3)         { new_goal :other,   :x, :y }</code>
        </li>
      
        <li class="covered" data-hits="63" data-linenumber="21">
          <span class="hits">63</span>
          
          <code class="ruby">    let(:variable1)     { goal1.variable(:x) }</code>
        </li>
      
        <li class="covered" data-hits="63" data-linenumber="22">
          <span class="hits">63</span>
          
          <code class="ruby">    let(:variable2)     { goal2.variable(:y) }</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="23">
          <span class="hits">22</span>
          
          <code class="ruby">    let(:variable3)     { goal3.variable(:z) }</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="24">
          <span class="hits">4</span>
          
          <code class="ruby">    let(:variable4)     { goal3.variable(:v) }</code>
        </li>
      
        <li class="covered" data-hits="27" data-linenumber="25">
          <span class="hits">27</span>
          
          <code class="ruby">    let(:instantiation) { Instantiation.new variable1, nil, variable2, nil }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="27">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.reset&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="29">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should delete/unregister all instantiations&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="30">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    0,    Instantiation.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="32">
          <span class="hits">1</span>
          
          <code class="ruby">        Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="33">
          <span class="hits">1</span>
          
          <code class="ruby">        Instantiation.new variable1, nil, variable2, 2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="34">
          <span class="hits">1</span>
          
          <code class="ruby">        Instantiation.new variable1, nil, variable3, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="35">
          <span class="hits">1</span>
          
          <code class="ruby">        Instantiation.new variable1, 1,   variable3, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="36">
          <span class="hits">1</span>
          
          <code class="ruby">        Instantiation.new variable1, nil, variable2, :head</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="38">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    5,    Instantiation.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="40">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          Instantiation.reset, name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="42">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    0,    Instantiation.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="47">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.instantiations&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="49">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should be empty to start with&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="50">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal({}, Instantiation.instantiations)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="53">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return all registered instantiations&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="54">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="55">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation2 = Instantiation.new variable1, nil, variable2, 2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="56">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation3 = Instantiation.new variable1, nil, variable3, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="57">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation4 = Instantiation.new variable1, 1,   variable3, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="58">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation5 = Instantiation.new variable2, nil, variable3, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="60">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">          {</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">            instantiation1.signature =&gt; instantiation1,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">            instantiation2.signature =&gt; instantiation2,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">            instantiation3.signature =&gt; instantiation3,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">            instantiation4.signature =&gt; instantiation4,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">            instantiation5.signature =&gt; instantiation5,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">          },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">          Instantiation.instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="74">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.new&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="76">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should create a new instantiation&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="77">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="79">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Instantiation,  instantiation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="82">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not create duplicate instantiations&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="83">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="84">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation2 = Instantiation.new variable1, nil, variable2, 2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="85">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation3 = Instantiation.new variable1, nil, variable3, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="86">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation4 = Instantiation.new variable1, 1,   variable3, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="87">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation5 = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="89">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  instantiation1, instantiation5</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="90">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">          {</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">            [variable1, nil, variable2, nil] =&gt; instantiation1,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">            [variable1, nil, variable2, 2  ] =&gt; instantiation2,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">            [variable1, 1,   variable3, nil] =&gt; instantiation4,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">            [variable1, nil, variable3, nil] =&gt; instantiation3,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">          },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">          Instantiation.instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="103">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#initialize&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="105">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should initialize variable1, variable2, index1, and index2&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="106">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="108">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      instantiation, variable1, variable2, nil, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="111">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should append itself to its variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="112">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="114">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [instantiation],    variable1.instantiations</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="115">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [instantiation],    variable2.instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="118">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should register the instantiation&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="119">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="121">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [instantiation],                      Instantiation.instantiations.values</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="122">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [[variable1, nil, variable2, nil]],   Instantiation.instantiations.keys</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="123">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">          {</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">            [variable1, nil, variable2, nil] =&gt; instantiation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">          },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">          Instantiation.instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="133">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#signature&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="135">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the signature of the instantiation&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="136">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="137">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation2 = Instantiation.new variable1, 4,   variable2, :head</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="139">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [variable1, nil, variable2, nil  ],   instantiation1.signature</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="140">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [variable1, 4,   variable2, :head],   instantiation2.signature</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="145">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#inspect&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="147">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should show its variables and their indices&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="148">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="149">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation2 = Instantiation.new variable1, 4,   variable2, :head</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="151">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;Goal1.:x = Goal2.:y&#39;,                instantiation1.inspect</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="152">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;Goal1.:x[4] = Goal2.:y[:head]&#39;,      instantiation2.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="157">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#remove&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="159">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should remove itself from instantiations of both variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="160">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="162">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [instantiation],        variable1.instantiations</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="163">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [instantiation],        variable2.instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="164">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="165">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation.remove</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="167">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                     variable1.instantiations</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="168">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                     variable2.instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="170">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="171">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should be marked as deleted&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="172">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="174">
          <span class="hits">1</span>
          
          <code class="ruby">        refute          instantiation.deleted?,               &#39;instantiation should not be marked deleted&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="176">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation.remove</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="178">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          instantiation.deleted?,               &#39;instantiation should be marked deleted&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="179">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="180">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="181">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should unregister itself&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="182">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                   Instantiation.instantiations.values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="183">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="184">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="186">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [instantiation],                      Instantiation.instantiations.values</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="187">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [[variable1, nil, variable2, nil]],   Instantiation.instantiations.keys</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="188">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby">          {</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="190">
          
          
          <code class="ruby">            [variable1, nil, variable2, nil] =&gt; instantiation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby">          },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">          Instantiation.instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="194">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="195">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation.remove</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="196">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="197">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                   Instantiation.instantiations.values</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="198">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                   Instantiation.instantiations.keys</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="199">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="200">
          
          
          <code class="ruby">          {</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">          },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="202">
          
          
          <code class="ruby">          Instantiation.instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="203">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="208">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#other_goal_to&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="209">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="210">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the goal of the other variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="211">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="212">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation2 = Instantiation.new variable2, nil, variable3, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="213">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="214">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    goal2,        instantiation1.other_goal_to(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="215">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    goal1,        instantiation1.other_goal_to(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="216">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                    instantiation1.other_goal_to(variable3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="217">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                    instantiation2.other_goal_to(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="218">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    goal3,        instantiation2.other_goal_to(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="219">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    goal2,        instantiation2.other_goal_to(variable3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="221">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="222">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="223">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="224">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#goals&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="225">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="226">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the goals&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="227">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="228">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation2 = Instantiation.new variable1, 4,   variable3, :head</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="229">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="230">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal1, goal2],   instantiation1.goals</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="231">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal1, goal3],   instantiation2.goals</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="232">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="234">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="235">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="236">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#variables&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="237">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="238">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return both variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="239">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="240">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation2 = Instantiation.new variable2, nil, variable3, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="241">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="242">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [variable1,variable2],    instantiation1.variables</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="243">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [variable2,variable3],    instantiation2.variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="244">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="245">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="246">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="247">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="248">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#values&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="249">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="250">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return all values instantiated to its variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="251">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="252">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation2 = Instantiation.new variable2, nil, variable3, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="253">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="254">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                   instantiation1.values</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="255">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                   instantiation2.values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="256">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="257">
          <span class="hits">1</span>
          
          <code class="ruby">        variable3.instantiate Value.new(&#39;word&#39;,goal3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="258">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="259">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [&#39;word&#39;],             instantiation1.values</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="260">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [&#39;word&#39;],             instantiation2.values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="261">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="262">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="263">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return all indexed values instantiated to its variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="264">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new variable1, nil, variable2, 3</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="265">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation2 = Instantiation.new variable2, 4,   variable3, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="266">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="267">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                 instantiation1.values</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="268">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                 instantiation2.values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="269">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="270">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate Value.new([2,3,5,7,11,13,17,19,23],goal2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="272">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    7,                                  variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="273">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [2,3,5,7,11,13,17,19,23],           variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="274">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    11,                                 variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="275">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="276">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [7],                                instantiation1.values</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="277">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [11],                               instantiation2.values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="278">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="279">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.uninstantiate goal2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="280">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="281">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable1,                          variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="282">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable2,                          variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="283">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable3,                          variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="284">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="285">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                 instantiation1.values</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="286">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                 instantiation2.values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="287">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="288">
          <span class="hits">1</span>
          
          <code class="ruby">        words = %w{two three five seven eleven thirteen seventeen nineteen twenty-three}</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="289">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate Value.new(words, goal2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="290">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="291">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;seven&#39;,                            variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="292">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    words,                              variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="293">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;eleven&#39;,                           variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="294">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="295">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [&#39;seven&#39;],                          instantiation1.values</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="296">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [&#39;eleven&#39;],                         instantiation2.values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="297">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="298">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="299">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="300">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="301">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#value_indexed&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="302">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="303">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return unknown tail when value has an unknown tail and the index is greater than the fixed portion of the list&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="304">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    UNKNOWN_TAIL, instantiation.value_indexed([2,3,5,7,UNKNOWN_TAIL],99)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="305">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="306">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="307">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return indexed element when value has an unknown tail and the index is less than the fixed portion of the list&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="308">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    5,            instantiation.value_indexed([2,3,5,7,UNKNOWN_TAIL],2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="309">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="310">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="311">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the component when value is a Variable and the index is a Symbol&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="312">
          <span class="hits">1</span>
          
          <code class="ruby">        value = goal1.value([2,3,5,7,UNKNOWN_TAIL])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="313">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="314">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,                        instantiation.value_indexed(value,:head)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="315">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [3,5,7,UNKNOWN_TAIL],     instantiation.value_indexed(value,:tail)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="316">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="317">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="318">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return nil when value is nil&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="319">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                    instantiation.value_indexed(nil,nil)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="320">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                    instantiation.value_indexed(nil,4)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="321">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                    instantiation.value_indexed(nil,:head)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="322">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                    instantiation.value_indexed(nil,:tail)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="323">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="324">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="325">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return nil when value is a Variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="326">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                    instantiation.value_indexed(variable3,nil)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="327">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                    instantiation.value_indexed(variable3,4)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="328">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                    instantiation.value_indexed(variable3,:head)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="329">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                    instantiation.value_indexed(variable3,:tail)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="330">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="331">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="332">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return nil when value is a Symbol&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="333">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                    instantiation.value_indexed(:z,nil)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="334">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                    instantiation.value_indexed(:z,4)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="335">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                    instantiation.value_indexed(:z,:head)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="336">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                    instantiation.value_indexed(:z,:tail)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="337">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="338">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="339">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return nil when value is an empty Array and index is :tail&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="340">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                    instantiation.value_indexed([],:tail)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="341">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="342">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="343">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the indexed value when index is an Integer&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="344">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    7,            instantiation.value_indexed([2,3,5,7,11],3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="345">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    14,           instantiation.value_indexed(14,3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="346">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;d&#39;,          instantiation.value_indexed(&#39;word&#39;,3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="347">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    6.4,          instantiation.value_indexed(6.4,3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="348">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="349">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="350">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the component when index is a Symbol&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="351">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    5,            instantiation.value_indexed([2,3,5,7,11],:length)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="352">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    11,           instantiation.value_indexed([2,3,5,7,11],:last)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="353">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [2,3,5,7,11], instantiation.value_indexed([2,3,5,7,11],:nothing)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="354">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="355">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="356">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the dynamically sized head when index is an Array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="357">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [3,5,7,11],   instantiation.value_indexed([2,3,5,7,11],[])</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="358">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],           instantiation.value_indexed([2,3,5,7,11],[0])</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="359">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [2],          instantiation.value_indexed([2,3,5,7,11],[1])</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="360">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [2,3],        instantiation.value_indexed([2,3,5,7,11],[2])</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="361">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [2],          instantiation.value_indexed([2,3,5,7,11],[1,1])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="362">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="363">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="364">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should raise an error when index is unexpected&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="365">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_raises Instantiation::UnhandledIndexError do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="366">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal    [2,3,5,7,11], instantiation.value_indexed([2,3,5,7,11],12.34)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="367">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="368">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_raises Instantiation::UnhandledIndexError do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="369">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal    [2,3,5,7,11], instantiation.value_indexed([2,3,5,7,11],&#39;hello&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="370">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="371">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_raises Instantiation::UnhandledIndexError do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="372">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal    [2,3,5,7,11], instantiation.value_indexed([2,3,5,7,11],Object)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="373">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="374">
          <span class="hits">1</span>
          
          <code class="ruby">        object = Object.new</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="375">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_raises Instantiation::UnhandledIndexError do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="376">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal    [2,3,5,7,11], instantiation.value_indexed([2,3,5,7,11],object)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="377">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="378">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="379">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="380">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="381">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="382">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#values_for&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="383">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="384">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return all values instantiated to the specified variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="385">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="386">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation2 = Instantiation.new variable2, nil, variable3, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="387">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="388">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation1.values_for(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="389">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation1.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="390">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation1.values_for(variable3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="391">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation2.values_for(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="392">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation2.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="393">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation2.values_for(variable3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="394">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="395">
          <span class="hits">1</span>
          
          <code class="ruby">        variable3.instantiate Value.new(&#39;word&#39;,goal3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="396">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="397">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables  goal1,   { m: nil, n: nil, x: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="398">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="399">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="400">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="401">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="402">
          
          
          <code class="ruby">          &#39;    Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="403">
          
          
          <code class="ruby">          &#39;      Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="404">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="405">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables  goal2,   { p: nil, q: nil, y: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="406">
          
          
          <code class="ruby">          &#39;Goal2.:p&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="407">
          
          
          <code class="ruby">          &#39;Goal2.:q&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="408">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="409">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="410">
          
          
          <code class="ruby">          &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="411">
          
          
          <code class="ruby">          &#39;    Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="412">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="413">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables  goal3,   { x: nil, y: nil, z: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="414">
          
          
          <code class="ruby">          &#39;Goal3.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="415">
          
          
          <code class="ruby">          &#39;Goal3.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="416">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="417">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="418">
          
          
          <code class="ruby">          &#39;    Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="419">
          
          
          <code class="ruby">          &#39;  Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="420">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="421">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="422">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [&#39;word&#39;],       instantiation1.values_for(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="423">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation1.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="424">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation1.values_for(variable3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="425">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation2.values_for(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="426">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [&#39;word&#39;],       instantiation2.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="427">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation2.values_for(variable3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="428">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="429">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="430">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return all indexed values instantiated to its variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="431">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new variable1, nil, variable2, 3</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="432">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation2 = Instantiation.new variable2, 4,   variable3, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="433">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="434">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation1.values_for(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="435">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation1.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="436">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation2.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="437">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation2.values_for(variable3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="438">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="439">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate Value.new([2,3,5,7,11,13,17,19,23],goal2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="440">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="441">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    7,                                  variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="442">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [2,3,5,7,11,13,17,19,23],           variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="443">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    11,                                 variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="444">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="445">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [7],                                instantiation1.values_for(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="446">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                 instantiation1.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="447">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                 instantiation2.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="448">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [11],                               instantiation2.values_for(variable3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="449">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="450">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.uninstantiate goal2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="451">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="452">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable1,                          variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="453">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable2,                          variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="454">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable3,                          variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="455">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="456">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                 instantiation1.values</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="457">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                 instantiation2.values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="458">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="459">
          <span class="hits">1</span>
          
          <code class="ruby">        words = %w{two three five seven eleven thirteen seventeen nineteen twenty-three}</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="460">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate Value.new(words, goal2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="461">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="462">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;seven&#39;,                            variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="463">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    words,                              variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="464">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;eleven&#39;,                           variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="465">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="466">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [&#39;seven&#39;],                          instantiation1.values</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="467">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [&#39;eleven&#39;],                         instantiation2.values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="468">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="469">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="470">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not infinitely recurse&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="471">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="472">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation2 = Instantiation.new variable2, nil, variable3, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="473">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation3 = Instantiation.new variable3, nil, variable1, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="474">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="475">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],           instantiation1.values_for(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="476">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],           instantiation1.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="477">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],           instantiation2.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="478">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],           instantiation2.values_for(variable3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="479">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],           instantiation3.values_for(variable3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="480">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],           instantiation3.values_for(variable1)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="481">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="482">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="483">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return an uninstantiated tail when the head is known only&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="484">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new variable1, :head, variable2, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="485">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation2 = Instantiation.new variable2, nil, variable3, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="486">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation3 = Instantiation.new variable3, nil, variable4, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="487">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="488">
          <span class="hits">1</span>
          
          <code class="ruby">        goal3.instantiate :v, &#39;head&#39;, goal3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="489">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="490">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal1, { m: nil, n: nil, x: [goal3.value(&#39;head&#39;), UNKNOWN_TAIL] }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="491">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="492">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="493">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="494">
          
          
          <code class="ruby">          &#39;  [:head]Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="495">
          
          
          <code class="ruby">          &#39;    Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="496">
          
          
          <code class="ruby">          &#39;      Goal3.:v&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="497">
          
          
          <code class="ruby">          &#39;        Goal3.&quot;head&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="498">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="499">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="500">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal3, { x: nil, y: nil, z: &#39;head&#39;, v: &#39;head&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="501">
          
          
          <code class="ruby">          &#39;Goal3.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="502">
          
          
          <code class="ruby">          &#39;Goal3.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="503">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="504">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="505">
          
          
          <code class="ruby">          &#39;    Goal1.:x[:head]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="506">
          
          
          <code class="ruby">          &#39;  Goal3.:v&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="507">
          
          
          <code class="ruby">          &#39;    Goal3.&quot;head&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="508">
          
          
          <code class="ruby">          &#39;Goal3.:v&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="509">
          
          
          <code class="ruby">          &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="510">
          
          
          <code class="ruby">          &#39;    Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="511">
          
          
          <code class="ruby">          &#39;      Goal1.:x[:head]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="512">
          
          
          <code class="ruby">          &#39;  Goal3.&quot;head&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="513">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="514">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="515">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [[&#39;head&#39;, UNKNOWN_TAIL]],                   instantiation1.values_for(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="516">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                         instantiation1.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="517">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [&#39;head&#39;],                                   instantiation2.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="518">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                         instantiation2.values_for(variable3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="519">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [&#39;head&#39;],                                   instantiation3.values_for(variable3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="520">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                         instantiation3.values_for(variable4)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="521">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="522">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="523">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return an uninstantiated head when the tail is known only&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="524">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new variable1, :tail, variable2, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="525">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation2 = Instantiation.new variable2, nil, variable3, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="526">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation3 = Instantiation.new variable3, nil, variable4, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="527">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="528">
          <span class="hits">1</span>
          
          <code class="ruby">        goal3.instantiate :v, [&#39;this&#39;,&#39;is&#39;,&#39;the&#39;,&#39;tail&#39;], goal3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="529">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="530">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal1, { m: nil, n: nil, x: [nil, &#39;this&#39;,&#39;is&#39;,&#39;the&#39;,&#39;tail&#39;] }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="531">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="532">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="533">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="534">
          
          
          <code class="ruby">          &#39;  [:tail]Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="535">
          
          
          <code class="ruby">          &#39;    Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="536">
          
          
          <code class="ruby">          &#39;      Goal3.:v&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="537">
          
          
          <code class="ruby">          &#39;        Goal3.[&quot;this&quot;, &quot;is&quot;, &quot;the&quot;, &quot;tail&quot;]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="538">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="539">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="540">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal3, { x: nil, y: nil, z: [&#39;this&#39;,&#39;is&#39;,&#39;the&#39;,&#39;tail&#39;], v: [&#39;this&#39;,&#39;is&#39;,&#39;the&#39;,&#39;tail&#39;] }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="541">
          
          
          <code class="ruby">          &#39;Goal3.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="542">
          
          
          <code class="ruby">          &#39;Goal3.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="543">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="544">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="545">
          
          
          <code class="ruby">          &#39;    Goal1.:x[:tail]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="546">
          
          
          <code class="ruby">          &#39;  Goal3.:v&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="547">
          
          
          <code class="ruby">          &#39;    Goal3.[&quot;this&quot;, &quot;is&quot;, &quot;the&quot;, &quot;tail&quot;]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="548">
          
          
          <code class="ruby">          &#39;Goal3.:v&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="549">
          
          
          <code class="ruby">          &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="550">
          
          
          <code class="ruby">          &#39;    Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="551">
          
          
          <code class="ruby">          &#39;      Goal1.:x[:tail]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="552">
          
          
          <code class="ruby">          &#39;  Goal3.[&quot;this&quot;, &quot;is&quot;, &quot;the&quot;, &quot;tail&quot;]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="553">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="554">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="555">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [[nil, &#39;this&#39;,&#39;is&#39;,&#39;the&#39;,&#39;tail&#39;]],          instantiation1.values_for(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="556">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                         instantiation1.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="557">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal3.value([&#39;this&#39;,&#39;is&#39;,&#39;the&#39;,&#39;tail&#39;])],  instantiation2.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="558">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                         instantiation2.values_for(variable3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="559">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal3.value([&#39;this&#39;,&#39;is&#39;,&#39;the&#39;,&#39;tail&#39;])],  instantiation3.values_for(variable3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="560">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                         instantiation3.values_for(variable4)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="561">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="562">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="563">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return a list with uninstantiated elements and tail with the value at the index&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="564">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new variable1, 3,   variable2, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="565">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation2 = Instantiation.new variable2, nil, variable3, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="566">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation3 = Instantiation.new variable3, nil, variable4, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="567">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="568">
          <span class="hits">1</span>
          
          <code class="ruby">        goal3.instantiate :v, 45.9, goal3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="569">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="570">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal1, { m: nil, n: nil, x: [nil, nil, nil, goal3.value(45.9), UNKNOWN_TAIL] }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="571">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="572">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="573">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="574">
          
          
          <code class="ruby">          &#39;  [3]Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="575">
          
          
          <code class="ruby">          &#39;    Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="576">
          
          
          <code class="ruby">          &#39;      Goal3.:v&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="577">
          
          
          <code class="ruby">          &#39;        Goal3.45.9&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="578">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="579">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="580">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal3, { x: nil, y: nil, z: 45.9, v: 45.9 }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="581">
          
          
          <code class="ruby">          &#39;Goal3.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="582">
          
          
          <code class="ruby">          &#39;Goal3.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="583">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="584">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="585">
          
          
          <code class="ruby">          &#39;    Goal1.:x[3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="586">
          
          
          <code class="ruby">          &#39;  Goal3.:v&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="587">
          
          
          <code class="ruby">          &#39;    Goal3.45.9&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="588">
          
          
          <code class="ruby">          &#39;Goal3.:v&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="589">
          
          
          <code class="ruby">          &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="590">
          
          
          <code class="ruby">          &#39;    Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="591">
          
          
          <code class="ruby">          &#39;      Goal1.:x[3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="592">
          
          
          <code class="ruby">          &#39;  Goal3.45.9&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="593">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="594">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="595">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [[nil, nil, nil, 45.9, UNKNOWN_TAIL]],      instantiation1.values_for(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="596">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                         instantiation1.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="597">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal3.value(45.9)],                        instantiation2.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="598">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                         instantiation2.values_for(variable3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="599">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal3.value(45.9)],                        instantiation3.values_for(variable3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="600">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                         instantiation3.values_for(variable4)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="601">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="602">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="603">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the value of variable1 when the specified variable is variable2 and variable1 is not a Variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="604">
          <span class="hits">1</span>
          
          <code class="ruby">        value1 = goal1.value(&#39;titanium&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="605">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="606">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new value1,    nil, variable3, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="607">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="608">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [value1],       instantiation1.values_for(variable3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="609">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="610">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="611">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the value of variable1 given the instantiation of the flathead of variable1&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="612">
          <span class="hits">1</span>
          
          <code class="ruby">        value1 = goal1.value([1,2,3,4])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="613">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="614">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = variable1.instantiate variable2, nil, :flathead</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="615">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate value1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="616">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="617">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [[1,2,3,4,UNKNOWN_TAIL]],       instantiation1.values_for(variable1)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="618">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="619">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="620">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the value of variable1 given the instantiation of the flathead of variable2&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="621">
          <span class="hits">1</span>
          
          <code class="ruby">        value1 = goal1.value([1,2,3,4])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="622">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="623">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = variable2.instantiate variable1, :flathead</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="624">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate value1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="625">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="626">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [[1,2,3,4,UNKNOWN_TAIL]],       instantiation1.values_for(variable1)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="627">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="628">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="629">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the value of variable1 given the instantiation of the flattail of variable1&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="630">
          <span class="hits">1</span>
          
          <code class="ruby">        value1 = goal1.value([1,2,3,4])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="631">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="632">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = variable1.instantiate variable2, nil, :flattail</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="633">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate value1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="634">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="635">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [[UNKNOWN_TAIL,1,2,3,4]],       instantiation1.values_for(variable1)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="636">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="637">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="638">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the value of variable1 given the instantiation of the flattail of variable2&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="639">
          <span class="hits">1</span>
          
          <code class="ruby">        value1 = goal1.value([1,2,3,4])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="640">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="641">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = variable2.instantiate variable1, :flattail</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="642">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate value1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="643">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="644">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [[UNKNOWN_TAIL,1,2,3,4]],       instantiation1.values_for(variable1)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="645">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="646">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="647">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="648">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="649">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#value_at_index&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="650">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="651">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;when index is nil&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="652">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="653">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return nil for a nil value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="654">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_nil                    instantiation.value_at_index(nil,nil)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="655">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="656">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="657">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return the value for a non-nil value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="658">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal  &#39;orange&#39;,       instantiation.value_at_index(&#39;orange&#39;,nil)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="659">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="660">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="661">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="662">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="663">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;when index is Integer&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="664">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="665">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return nil for nil value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="666">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_nil                                                    instantiation.value_at_index(nil,5)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="667">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="668">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="669">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return an Array for an Integer indexed value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="670">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal    [nil,nil,nil,nil,nil,&#39;word&#39;,UNKNOWN_TAIL],    instantiation.value_at_index(&#39;word&#39;,5)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="671">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="672">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="673">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="674">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="675">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;when index is Symbol&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="676">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="677">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return an Array for a head indexed value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="678">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal    [[&#39;word&#39;,&#39;from&#39;,&#39;list&#39;],UNKNOWN_TAIL],        instantiation.value_at_index([&#39;word&#39;,&#39;from&#39;,&#39;list&#39;],:head)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="679">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="680">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="681">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return an Array for a tail indexed value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="682">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal    [nil,&#39;word&#39;,&#39;from&#39;,&#39;list&#39;],                   instantiation.value_at_index([&#39;word&#39;,&#39;from&#39;,&#39;list&#39;],:tail)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="683">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="684">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="685">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return an error for an unrecognised symbol indexed value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="686">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_raises Instantiation::UnhandledIndexError do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="687">
          <span class="hits">1</span>
          
          <code class="ruby">            assert_equal    :error,                                       instantiation.value_at_index([&#39;word&#39;,&#39;from&#39;,&#39;list&#39;],:size)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="688">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="689">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="690">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="691">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="692">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="693">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;when index is Array&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="694">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="695">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return an Array for a tail indexed value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="696">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal    [nil,&#39;word&#39;,&#39;from&#39;,&#39;list&#39;],                   instantiation.value_at_index([&#39;word&#39;,&#39;from&#39;,&#39;list&#39;],[])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="697">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="698">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="699">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return an Array for a tail indexed value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="700">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal    [[&#39;word&#39;,&#39;from&#39;,&#39;list&#39;], UNKNOWN_TAIL],       instantiation.value_at_index([&#39;word&#39;,&#39;from&#39;,&#39;list&#39;],[1])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="701">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="702">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="703">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return an Array for a tail indexed value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="704">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal    [[&#39;word&#39;,&#39;from&#39;,&#39;list&#39;], UNKNOWN_TAIL],       instantiation.value_at_index([&#39;word&#39;,&#39;from&#39;,&#39;list&#39;],[2])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="705">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="706">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="707">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return an Array for a tail indexed value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="708">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal    [[&#39;word&#39;,&#39;from&#39;,&#39;list&#39;], UNKNOWN_TAIL],       instantiation.value_at_index([&#39;word&#39;,&#39;from&#39;,&#39;list&#39;],[-2])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="709">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="710">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="711">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="712">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="713">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;when index is Float&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="714">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="715">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return an error for an unrecognised symbol indexed value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="716">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_raises Instantiation::UnhandledIndexError do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="717">
          <span class="hits">1</span>
          
          <code class="ruby">            assert_equal    [&#39;word&#39;,&#39;from&#39;,&#39;list&#39;],                       instantiation.value_at_index([&#39;word&#39;,&#39;from&#39;,&#39;list&#39;],2.3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="718">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="719">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="720">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="721">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="722">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="723">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return all values instantiated to the specified variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="724">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="725">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation2 = Instantiation.new variable2, nil, variable3, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="726">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="727">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation1.values_for(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="728">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation1.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="729">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation1.values_for(variable3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="730">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation2.values_for(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="731">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation2.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="732">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation2.values_for(variable3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="733">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="734">
          <span class="hits">1</span>
          
          <code class="ruby">        variable3.instantiate Value.new(&#39;word&#39;,goal3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="735">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="736">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables  goal1,   { m: nil, n: nil, x: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="737">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="738">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="739">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="740">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="741">
          
          
          <code class="ruby">          &#39;    Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="742">
          
          
          <code class="ruby">          &#39;      Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="743">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="744">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="745">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables  goal2,   { p: nil, q: nil, y: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="746">
          
          
          <code class="ruby">          &#39;Goal2.:p&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="747">
          
          
          <code class="ruby">          &#39;Goal2.:q&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="748">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="749">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="750">
          
          
          <code class="ruby">          &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="751">
          
          
          <code class="ruby">          &#39;    Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="752">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="753">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="754">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables  goal3,   { x: nil, y: nil, z: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="755">
          
          
          <code class="ruby">          &#39;Goal3.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="756">
          
          
          <code class="ruby">          &#39;Goal3.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="757">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="758">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="759">
          
          
          <code class="ruby">          &#39;    Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="760">
          
          
          <code class="ruby">          &#39;  Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="761">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="762">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="763">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [&#39;word&#39;],       instantiation1.values_for(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="764">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation1.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="765">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation1.values_for(variable3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="766">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation2.values_for(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="767">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [&#39;word&#39;],       instantiation2.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="768">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation2.values_for(variable3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="769">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="770">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="771">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return all indexed values instantiated to its variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="772">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new variable1, nil, variable2, 3</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="773">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation2 = Instantiation.new variable2, 4,   variable3, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="774">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="775">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation1.values_for(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="776">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation1.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="777">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation2.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="778">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],             instantiation2.values_for(variable3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="779">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="780">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate Value.new([2,3,5,7,11,13,17,19,23],goal2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="781">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="782">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    7,                                  variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="783">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [2,3,5,7,11,13,17,19,23],           variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="784">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    11,                                 variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="785">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="786">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [7],                                instantiation1.values_for(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="787">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                 instantiation1.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="788">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                 instantiation2.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="789">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [11],                               instantiation2.values_for(variable3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="790">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="791">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.uninstantiate goal2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="792">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="793">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable1,                          variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="794">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable2,                          variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="795">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable3,                          variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="796">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="797">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                 instantiation1.values</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="798">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],                                 instantiation2.values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="799">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="800">
          <span class="hits">1</span>
          
          <code class="ruby">        words = %w{two three five seven eleven thirteen seventeen nineteen twenty-three}</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="801">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate Value.new(words, goal2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="802">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="803">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;seven&#39;,                            variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="804">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    words,                              variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="805">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;eleven&#39;,                           variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="806">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="807">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [&#39;seven&#39;],                          instantiation1.values</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="808">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [&#39;eleven&#39;],                         instantiation2.values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="809">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="810">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="811">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not infinitely recurse&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="812">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="813">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation2 = Instantiation.new variable2, nil, variable3, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="814">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation3 = Instantiation.new variable3, nil, variable1, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="815">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="816">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],           instantiation1.values_for(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="817">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],           instantiation1.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="818">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],           instantiation2.values_for(variable2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="819">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],           instantiation2.values_for(variable3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="820">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],           instantiation3.values_for(variable3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="821">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [],           instantiation3.values_for(variable1)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="822">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="823">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="824">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="825">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="826">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#without_index_on&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="827">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="828">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return true for a variable without an index in the instantiation&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="829">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="830">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="831">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    true,       instantiation.without_index_on?(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="832">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    true,       instantiation.without_index_on?(variable2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="833">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="834">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="835">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return correctly when the instantiation has one index&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="836">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation = Instantiation.new variable1, 3, variable2, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="837">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="838">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    false,      instantiation.without_index_on?(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="839">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    true,       instantiation.without_index_on?(variable2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="840">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="841">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="842">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return correctly when the instantiation has one index (other one)&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="843">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation = Instantiation.new variable1, nil, variable2, 3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="844">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="845">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    true,       instantiation.without_index_on?(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="846">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    false,      instantiation.without_index_on?(variable2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="847">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="848">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="849">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return false when the instantiation has two indexes&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="850">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation = Instantiation.new variable1, 3, variable2, 3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="851">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="852">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    false,      instantiation.without_index_on?(variable1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="853">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    false,      instantiation.without_index_on?(variable2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="854">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="855">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="856">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return false for a variable not in the instantiation&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="857">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="858">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="859">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    false,      instantiation.without_index_on?(variable3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="860">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="861">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="862">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="863">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="864">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#deleted?&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="865">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="866">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return true when removed&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="867">
          <span class="hits">1</span>
          
          <code class="ruby">        refute          instantiation.deleted?,               &#39;instantiation should not be marked deleted&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="868">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="869">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation.remove</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="870">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="871">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          instantiation.deleted?,               &#39;instantiation should be marked deleted&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="872">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="873">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="874">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return true when the goal of variable1 is deleted&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="875">
          <span class="hits">1</span>
          
          <code class="ruby">        refute          instantiation.deleted?,               &#39;instantiation should not be marked deleted&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="876">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="877">
          <span class="hits">1</span>
          
          <code class="ruby">        Goal.goals.delete(goal1)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="878">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="879">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          instantiation.deleted?,               &#39;instantiation should be marked deleted&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="880">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="881">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="882">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return true when the goal of variable2 is deleted&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="883">
          <span class="hits">1</span>
          
          <code class="ruby">        refute          instantiation.deleted?,               &#39;instantiation should not be marked deleted&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="884">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="885">
          <span class="hits">1</span>
          
          <code class="ruby">        Goal.goals.delete(goal2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="886">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="887">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          instantiation.deleted?,               &#39;instantiation should be marked deleted&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="888">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="889">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="890">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="891">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="892">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#belongs_to?&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="893">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="894">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should correctly determine the relationship between an instantition and a goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="895">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation1 = Instantiation.new variable1, nil, variable2, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="896">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation2 = Instantiation.new variable2, nil, variable3, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="897">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="898">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          instantiation1.belongs_to?(goal1),   &#39;instantiation1 should belong to goal1&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="899">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          instantiation1.belongs_to?(goal2),   &#39;instantiation1 should belong to goal2&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="900">
          <span class="hits">1</span>
          
          <code class="ruby">        refute          instantiation1.belongs_to?(goal3),   &#39;instantiation1 should not belong to goal3&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="901">
          <span class="hits">1</span>
          
          <code class="ruby">        refute          instantiation2.belongs_to?(goal1),   &#39;instantiation2 should not belong to goal1&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="902">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          instantiation2.belongs_to?(goal2),   &#39;instantiation2 should belong to goal2&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="903">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          instantiation2.belongs_to?(goal3),   &#39;instantiation2 should belong to goal3&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="904">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="905">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="906">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="907">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="908">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="909">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="910">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="029606da68e2f930c84e8be84e43975f87a55841">
  <div class="header">
    <h3>test/porolog/porolog_test.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>955</b> relevant lines. 
      <span class="green"><b>955</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   test/porolog/porolog_test.rb     - Test Suite for Porolog module</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban      4 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../test_helper&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="10">
          <span class="hits">1</span>
          
          <code class="ruby">describe &#39;Porolog&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="12">
          <span class="hits">1</span>
          
          <code class="ruby">  before(:all) do</code>
        </li>
      
        <li class="covered" data-hits="252" data-linenumber="13">
          <span class="hits">252</span>
          
          <code class="ruby">    reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="16">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;UNKNOWN_TAIL&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="18">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#inspect&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="20">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return distinctive notation&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="21">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      &#39;...&#39;,            UNKNOWN_TAIL.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="26">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#tail&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="28">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return itself&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="29">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      UNKNOWN_TAIL,     UNKNOWN_TAIL.tail</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="30">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      UNKNOWN_TAIL,     UNKNOWN_TAIL.tail(1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="31">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      UNKNOWN_TAIL,     UNKNOWN_TAIL.tail(5)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="38">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#predicate&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="40">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should create a Predicate&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">      # -- Precondition Baseline --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="42">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal      0,                Scope[:default].predicates.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">      # -- Test --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="45">
          <span class="hits">1</span>
          
          <code class="ruby">      single_predicate = predicate :single</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">      # -- Compare Result Against Baseline --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="48">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal      1,                Scope[:default].predicates.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="49">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal      :single,          Scope[:default].predicates.first.name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="50">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Predicate  single_predicate, :single, []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="53">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should define a method to create Arguments for solving&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="54">
          <span class="hits">1</span>
          
          <code class="ruby">      refute                    respond_to?(:delta)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="56">
          <span class="hits">1</span>
          
          <code class="ruby">      predicate :delta</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="58">
          <span class="hits">1</span>
          
          <code class="ruby">      assert                    respond_to?(:delta)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="59">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Arguments          delta(1, :X, [&#39;left&#39;,&#39;right&#39;]),   :delta, [1, :X, [&#39;left&#39;,&#39;right&#39;]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="62">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should create multiple Predicates&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="63">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal              0,        Scope[:default].predicates.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="65">
          <span class="hits">1</span>
          
          <code class="ruby">      multiple_predicates = predicate :alpha, :beta, :gamma</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="67">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal              3,        Scope[:default].predicates.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="68">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal              :alpha,   Scope[:default].predicates[0].name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="69">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal              :beta,    Scope[:default].predicates[1].name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="70">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal              :gamma,   Scope[:default].predicates[2].name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="71">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_instance_of        Array,    multiple_predicates</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="72">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal              3,        multiple_predicates.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="73">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Predicate          multiple_predicates[0], :alpha, []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="74">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Predicate          multiple_predicates[1], :beta,  []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="75">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Predicate          multiple_predicates[2], :gamma, []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="78">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should define multiple methods to create Arguments for solving&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="79">
          <span class="hits">1</span>
          
          <code class="ruby">      refute                    respond_to?(:epsilon)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="80">
          <span class="hits">1</span>
          
          <code class="ruby">      refute                    respond_to?(:upsilon)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="82">
          <span class="hits">1</span>
          
          <code class="ruby">      predicate :epsilon, :upsilon</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="84">
          <span class="hits">1</span>
          
          <code class="ruby">      assert                    respond_to?(:epsilon)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="85">
          <span class="hits">1</span>
          
          <code class="ruby">      assert                    respond_to?(:upsilon)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="86">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Arguments          epsilon(),   :epsilon, []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="87">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Arguments          upsilon([]), :upsilon, [[]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="90">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should define a method in a base class as an instance method and a class method&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="91">
          <span class="hits">1</span>
          
          <code class="ruby">      class Base1 ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="93">
          <span class="hits">1</span>
          
          <code class="ruby">      refute_includes   Base1.methods,            :localised_predicate</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="94">
          <span class="hits">1</span>
          
          <code class="ruby">      refute_includes   Base1.instance_methods,   :localised_predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="96">
          <span class="hits">1</span>
          
          <code class="ruby">      class Base1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="98">
          <span class="hits">1</span>
          
          <code class="ruby">        predicate :localised_predicate, class_base: self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="100">
          <span class="hits">1</span>
          
          <code class="ruby">        localised_predicate(:X) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">          between(:X, 1, 5)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="104">
          <span class="hits">1</span>
          
          <code class="ruby">        def process</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="105">
          <span class="hits">1</span>
          
          <code class="ruby">          localised_predicate(:X).solve_for(:X)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="109">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_includes   Base1.methods,            :localised_predicate</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="110">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_includes   Base1.instance_methods,   :localised_predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="112">
          <span class="hits">1</span>
          
          <code class="ruby">      refute_includes   methods,                  :localised_predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="114">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_solutions    Base1.localised_predicate(:X),  [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby">        { X: 1 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">        { X: 2 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby">        { X: 3 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">        { X: 4 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">        { X: 5 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="122">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [1,2,3,4,5],    Base1.new.process</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="127">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#unify_goals&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="129">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify goals for the same predicate&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">      # -- Setup --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="131">
          <span class="hits">1</span>
          
          <code class="ruby">      goal1 = new_goal :p, :m, :n</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="132">
          <span class="hits">1</span>
          
          <code class="ruby">      goal2 = new_goal :p, :s, :t</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">      # -- Precondition Baseline --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="135">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Goal_variables   goal1,    { m: nil, n: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">        &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">        &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">      ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="140">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Goal_variables   goal2,    { s: nil, t: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby">        &#39;Goal2.:s&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">        &#39;Goal2.:t&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby">      ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby">      # -- Test --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="146">
          <span class="hits">1</span>
          
          <code class="ruby">      assert  unify_goals(goal1, goal2), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="148">
          
          
          <code class="ruby">      # -- Compare Result Against Baseline --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="149">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Goal_variables   goal1,    { m: nil, n: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby">        &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">        &#39;  Goal2.:s&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby">        &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">        &#39;  Goal2.:t&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">      ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="156">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Goal_variables   goal2,    { s: nil, t: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">        &#39;Goal2.:s&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">        &#39;  Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby">        &#39;Goal2.:t&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby">        &#39;  Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby">      ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="164">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should not unify goals for different predicates&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="165">
          <span class="hits">1</span>
          
          <code class="ruby">      goal1 = new_goal :p, :x, :y</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="166">
          <span class="hits">1</span>
          
          <code class="ruby">      goal2 = new_goal :q, :x, :y</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="168">
          <span class="hits">1</span>
          
          <code class="ruby">      refute  unify_goals(goal1, goal2), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="170">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal      [&#39;Cannot unify goals because they are for different predicates: :p and :q&#39;],    goal1.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="171">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal      [&#39;Cannot unify goals because they are for different predicates: :p and :q&#39;],    goal2.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="172">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="174">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="176">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#instantiate_unifications&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="178">
          <span class="hits">4</span>
          
          <code class="ruby">    let(:goal1) { new_goal :p, :x, :y }</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="179">
          <span class="hits">4</span>
          
          <code class="ruby">    let(:goal2) { new_goal :q, :i, :j, :k }</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="180">
          <span class="hits">4</span>
          
          <code class="ruby">    let(:goal3) { new_goal :r, :n }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="181">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="182">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should precheck inconsistent unifications&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="183">
          
          
          <code class="ruby">      unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="184">
          <span class="hits">1</span>
          
          <code class="ruby">        [:x, :k, goal1, goal2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">        [:x, :j, goal1, goal2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="186">
          
          
          <code class="ruby">        [:x, 12, goal1, goal3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="187">
          
          
          <code class="ruby">        [:x, 37, goal1, goal3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="190">
          <span class="hits">1</span>
          
          <code class="ruby">      refute    instantiate_unifications(unifications), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="193">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should create instantiations&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="194">
          
          
          <code class="ruby">      # -- Setup --</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="195">
          
          
          <code class="ruby">      unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="196">
          <span class="hits">1</span>
          
          <code class="ruby">        [:x, :k, goal1, goal2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="197">
          
          
          <code class="ruby">        [:x, :j, goal1, goal2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="198">
          
          
          <code class="ruby">        [:x, 12, goal1, goal3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="199">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="200">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">      # -- Precondition Baseline --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="202">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Goal_variables     goal1, { x: nil, y: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="203">
          
          
          <code class="ruby">        &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby">        &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby">      ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="207">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Goal_variables     goal2, { i: nil, j: nil, k: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="208">
          
          
          <code class="ruby">        &#39;Goal2.:i&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="209">
          
          
          <code class="ruby">        &#39;Goal2.:j&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="210">
          
          
          <code class="ruby">        &#39;Goal2.:k&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby">      ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="212">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="213">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Goal_variables     goal3, { n: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="214">
          
          
          <code class="ruby">        &#39;Goal3.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="215">
          
          
          <code class="ruby">      ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="217">
          
          
          <code class="ruby">      # -- Test --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="218">
          <span class="hits">1</span>
          
          <code class="ruby">      assert    instantiate_unifications(unifications), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="219">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby">      # -- Compare Result Against Baseline --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="221">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Goal_variables     goal1, { x: 12, y: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="222">
          
          
          <code class="ruby">        &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="223">
          
          
          <code class="ruby">        &#39;  Goal2.:k&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="224">
          
          
          <code class="ruby">        &#39;  Goal2.:j&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="225">
          
          
          <code class="ruby">        &#39;  Goal3.12&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="226">
          
          
          <code class="ruby">        &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="227">
          
          
          <code class="ruby">      ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="228">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="229">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Goal_variables     goal2, { i: nil, j: 12, k: 12 }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="230">
          
          
          <code class="ruby">        &#39;Goal2.:i&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="231">
          
          
          <code class="ruby">        &#39;Goal2.:j&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="232">
          
          
          <code class="ruby">        &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby">        &#39;    Goal2.:k&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="234">
          
          
          <code class="ruby">        &#39;    Goal3.12&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="235">
          
          
          <code class="ruby">        &#39;Goal2.:k&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="236">
          
          
          <code class="ruby">        &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="237">
          
          
          <code class="ruby">        &#39;    Goal2.:j&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="238">
          
          
          <code class="ruby">        &#39;    Goal3.12&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby">      ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="240">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="241">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Goal_variables     goal3, { n: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="242">
          
          
          <code class="ruby">        &#39;Goal3.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="243">
          
          
          <code class="ruby">      ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="244">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="245">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="246">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return false for inconsistent unifications not picked up by the precheck&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="247">
          
          
          <code class="ruby">      #   12</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="248">
          
          
          <code class="ruby">      #  /</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="249">
          
          
          <code class="ruby">      # i</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="250">
          
          
          <code class="ruby">      #  \</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="251">
          
          
          <code class="ruby">      #   x</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="252">
          
          
          <code class="ruby">      #  /</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="253">
          
          
          <code class="ruby">      # j</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="254">
          
          
          <code class="ruby">      #  \</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="255">
          
          
          <code class="ruby">      #   y</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="256">
          
          
          <code class="ruby">      #  /</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="257">
          
          
          <code class="ruby">      # k</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="258">
          
          
          <code class="ruby">      #  \</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="259">
          
          
          <code class="ruby">      #   37</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="260">
          
          
          <code class="ruby">      unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="261">
          <span class="hits">1</span>
          
          <code class="ruby">        [:x, :i, goal1, goal2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="262">
          
          
          <code class="ruby">        [:i, 12, goal2, goal3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="263">
          
          
          <code class="ruby">        [:j, :x, goal2, goal1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="264">
          
          
          <code class="ruby">        [:j, :y, goal2, goal1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="265">
          
          
          <code class="ruby">        [:k, :y, goal2, goal1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="266">
          
          
          <code class="ruby">        [:k, 37, goal2, goal3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="267">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="269">
          <span class="hits">1</span>
          
          <code class="ruby">      refute    instantiate_unifications(unifications), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="270">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="271">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Goal_variables     goal1, { x: nil, y: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="272">
          
          
          <code class="ruby">        &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="273">
          
          
          <code class="ruby">        &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="274">
          
          
          <code class="ruby">      ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="275">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="276">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Goal_variables     goal2, { i: nil, j: nil, k: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="277">
          
          
          <code class="ruby">        &#39;Goal2.:i&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="278">
          
          
          <code class="ruby">        &#39;Goal2.:j&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="279">
          
          
          <code class="ruby">        &#39;Goal2.:k&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="280">
          
          
          <code class="ruby">      ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="281">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="282">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Goal_variables     goal3, { n: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="283">
          
          
          <code class="ruby">        &#39;Goal3.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="284">
          
          
          <code class="ruby">      ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="285">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="286">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="287">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="288">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="289">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#unify&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="290">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="291">
          <span class="hits">25</span>
          
          <code class="ruby">    let(:goal)  { new_goal :p, :x, :y }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="292">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:goal2) { new_goal :q, :x, :y }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="293">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="294">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;when [:atomic,:atomic]&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="295">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="296">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should unify equal atomic numbers&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="297">
          <span class="hits">1</span>
          
          <code class="ruby">        assert    unify(42, 42, goal),                    name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="298">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="299">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="300">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not unify unequal atomic numbers&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="301">
          <span class="hits">1</span>
          
          <code class="ruby">        refute    unify(42, 99, goal),                    name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="302">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="303">
          
          
          <code class="ruby">        expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="304">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Cannot unify because 42 != 99 (atomic != atomic)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="305">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="306">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="307">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_log,                     goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="308">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="309">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="310">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="311">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="312">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;when [:array,:array]&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="313">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="314">
          <span class="hits">1</span>
          
          <code class="ruby">      before do</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="315">
          <span class="hits">4</span>
          
          <code class="ruby">        @spy = Spy.on(self, :unify_arrays).and_call_through</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="316">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="317">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="318">
          <span class="hits">1</span>
          
          <code class="ruby">      after do</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="319">
          <span class="hits">4</span>
          
          <code class="ruby">        assert_equal  1,  @spy.calls.size, &quot;expected unify_arrays to be called once for #{name}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="320">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="321">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="322">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should unify empty arrays&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="323">
          <span class="hits">1</span>
          
          <code class="ruby">        assert    unify([], [], goal),                    name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="324">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="325">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="326">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should unify equal arrays&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="327">
          <span class="hits">1</span>
          
          <code class="ruby">        assert    unify([7,11,13], [7,11,13], goal),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="328">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="329">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="330">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not unify unequal arrays&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="331">
          <span class="hits">1</span>
          
          <code class="ruby">        refute    unify([7,11,13], [7,11,14], goal),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="332">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="333">
          
          
          <code class="ruby">        expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="334">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Cannot unify incompatible values: 13 with 14&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="335">
          
          
          <code class="ruby">          &#39;Cannot unify because [7, 11, 13] != [7, 11, 14] (array != array)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="336">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="337">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="338">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_log,                     goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="339">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="340">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="341">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not unify arrays of different lengths&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="342">
          <span class="hits">1</span>
          
          <code class="ruby">        refute    unify([7,11,13], [7,11,13,13], goal),   name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="343">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="344">
          
          
          <code class="ruby">        expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="345">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Cannot unify arrays of different lengths: [7, 11, 13] with [7, 11, 13, 13]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="346">
          
          
          <code class="ruby">          &#39;Cannot unify because [7, 11, 13] != [7, 11, 13, 13] (array != array)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="347">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="348">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="349">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_log,                     goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="350">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="351">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="352">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="353">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="354">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;when [:variable,:atomic]&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="355">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="356">
          <span class="hits">1</span>
          
          <code class="ruby">      before do</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="357">
          <span class="hits">2</span>
          
          <code class="ruby">        expects(:unify_arrays).times(0)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="358">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="359">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="360">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return an instantiation&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="361">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [[:word, &#39;word&#39;, goal, goal]],    unify(:word, &#39;word&#39;, goal),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="362">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="363">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="364">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not unify an instantiated variable with a different value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="365">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.instantiate :word, &#39;other&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="366">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="367">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                                        unify(:word, &#39;word&#39;, goal),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="368">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="369">
          
          
          <code class="ruby">        expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="370">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Cannot unify because Goal1.&quot;other&quot; != &quot;word&quot; (variable != atomic)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="371">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="372">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="373">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_log,                     goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="374">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="375">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="376">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="377">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="378">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;when [:atomic,:variable]&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="379">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="380">
          <span class="hits">1</span>
          
          <code class="ruby">      before do</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="381">
          <span class="hits">2</span>
          
          <code class="ruby">        expects(:unify_arrays).times(0)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="382">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="383">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="384">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return an instantiation&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="385">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [[:word, &#39;word&#39;, goal, goal]],    unify(&#39;word&#39;, :word, goal),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="386">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="387">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="388">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not unify instantiated variables with different values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="389">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.instantiate :word, &#39;something&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="390">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="391">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                                        unify(&#39;word&#39;, :word, goal),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="392">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="393">
          
          
          <code class="ruby">        expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="394">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Cannot unify because &quot;word&quot; != Goal1.&quot;something&quot; (atomic != variable)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="395">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="396">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="397">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_log,                     goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="398">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="399">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="400">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="401">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="402">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;when [:variable, :variable]&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="403">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="404">
          <span class="hits">1</span>
          
          <code class="ruby">      before do</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="405">
          <span class="hits">4</span>
          
          <code class="ruby">        expects(:unify_arrays).times(0)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="406">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="407">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="408">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return an instantiation&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="409">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [[:x, :y, goal, goal2]],    unify(:x, :y, goal, goal2),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="410">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="411">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="412">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not unify instantiated variables with different values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="413">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.instantiate :word, &#39;something&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="414">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.instantiate :draw, &#39;picturing&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="415">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="416">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                                        unify(:draw, :word, goal),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="417">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="418">
          
          
          <code class="ruby">        expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="419">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Cannot unify because &quot;picturing&quot; != &quot;something&quot; (variable != variable)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="420">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="421">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="422">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_log,   goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="423">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="424">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="425">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should unify the unknown array with a variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="426">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.instantiate :X, UNKNOWN_ARRAY</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="427">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.instantiate :Y, [1,2,3,4]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="428">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="429">
          <span class="hits">1</span>
          
          <code class="ruby">        unifications = unify(goal[:X], goal[:Y], goal)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="430">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="431">
          
          
          <code class="ruby">        expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="432">
          <span class="hits">1</span>
          
          <code class="ruby">          [goal[:X], goal[:Y], goal, goal]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="433">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="434">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="435">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_unifications,    unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="436">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="437">
          <span class="hits">1</span>
          
          <code class="ruby">        expected_log = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="438">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="439">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_log,   goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="440">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="441">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="442">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should unify the unknown array with an array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="443">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.instantiate :X, [1,2,3,4]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="444">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.instantiate :Y, UNKNOWN_ARRAY</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="445">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="446">
          <span class="hits">1</span>
          
          <code class="ruby">        unifications = unify(goal[:X], goal[:Y], goal)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="447">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="448">
          
          
          <code class="ruby">        expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="449">
          <span class="hits">1</span>
          
          <code class="ruby">          [goal[:X], goal[:Y], goal, goal]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="450">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="451">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="452">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_unifications,    unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="453">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="454">
          <span class="hits">1</span>
          
          <code class="ruby">        expected_log = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="455">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="456">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_log,   goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="457">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="458">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="459">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="460">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="461">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;when [:variable, :array]&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="462">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="463">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return an instantiation&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="464">
          <span class="hits">1</span>
          
          <code class="ruby">        expects(:unify_arrays).times(0)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="465">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="466">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [[:list, [7,11,13], goal, goal]],     unify(:list, [7,11,13], goal),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="467">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="468">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="469">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not unify instantiated variables with different values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="470">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.instantiate :word, [1,2,3,4]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="471">
          <span class="hits">1</span>
          
          <code class="ruby">        expects(:unify_arrays).times(1)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="472">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="473">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                                            unify(:word, [1,2,3,5], goal),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="474">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="475">
          
          
          <code class="ruby">        expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="476">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Cannot unify because Goal1.[1, 2, 3, 4] != [1, 2, 3, 5] (variable/array != array)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="477">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="478">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="479">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_log,   goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="480">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="481">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="482">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not unify instantiated variables with a non-array value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="483">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.instantiate :word, 1234</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="484">
          <span class="hits">1</span>
          
          <code class="ruby">        expects(:unify_arrays).times(0)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="485">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="486">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                                            unify(:word, [1,2,3,5], goal),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="487">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="488">
          
          
          <code class="ruby">        expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="489">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Cannot unify because Goal1.1234 != [1, 2, 3, 5] (variable != array)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="490">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="491">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="492">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_log,   goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="493">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="494">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="495">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="496">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="497">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;when [:array, :variable]&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="498">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="499">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not unify instantiated variables that are not instantiated with an array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="500">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.instantiate :word, &#39;1 2 3 4&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="501">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="502">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                                            unify([1,2,3,4], :word, goal),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="503">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="504">
          
          
          <code class="ruby">        expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="505">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Cannot unify because [1, 2, 3, 4] != Goal1.&quot;1 2 3 4&quot; (array != variable)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="506">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="507">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="508">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_log,                     goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="509">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="510">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="511">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return an instantiation&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="512">
          <span class="hits">1</span>
          
          <code class="ruby">        expects(:unify_arrays).times(0)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="513">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="514">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [[:list, [7,11,13], goal, goal]],     unify([7,11,13], :list, goal),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="515">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="516">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="517">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not unify instantiated variables with different values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="518">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.instantiate :word, [1,2,3,4]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="519">
          <span class="hits">1</span>
          
          <code class="ruby">        expects(:unify_arrays).times(1)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="520">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="521">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                                            unify([1,2,3,5], :word, goal),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="522">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="523">
          
          
          <code class="ruby">        expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="524">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Cannot unify because [1, 2, 3, 5] != Goal1.[1, 2, 3, 4] (variable/array != array)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="525">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="526">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="527">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_log,                     goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="528">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="529">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="530">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should unify instantiated variables with unifiable values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="531">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.instantiate :word, [1,2,3]/:w</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="532">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="533">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiations = unify([nil,nil,3,4,5], :word, goal)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="534">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="535">
          <span class="hits">1</span>
          
          <code class="ruby">        expected_log            = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="536">
          
          
          <code class="ruby">        expected_instantiations = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="537">
          <span class="hits">1</span>
          
          <code class="ruby">          [:w, [4,5], goal, goal],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="538">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="539">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="540">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_log,             goal.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="541">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_instantiations,  instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="542">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="543">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="544">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="545">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="546">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;when [:array,:atomic], [:atomic,:array]&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="547">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="548">
          <span class="hits">1</span>
          
          <code class="ruby">      before do</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="549">
          <span class="hits">2</span>
          
          <code class="ruby">        expects(:unify_arrays).times(0)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="550">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="551">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="552">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return nil for unifying array and atomic&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="553">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                                           unify([7,11,13], &#39;word&#39;, goal),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="554">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="555">
          
          
          <code class="ruby">        expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="556">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Cannot unify [7, 11, 13] with &quot;word&quot; (array != atomic)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="557">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="558">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="559">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_log,                     goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="560">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="561">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="562">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return nil for unifying atomic and array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="563">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                                           unify(&#39;word&#39;, [7,11,13], goal),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="564">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="565">
          
          
          <code class="ruby">        expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="566">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Cannot unify &quot;word&quot; with [7, 11, 13] (atomic != array)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="567">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="568">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="569">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_log,                     goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="570">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="571">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="572">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="573">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="574">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;when [:array, :tail]&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="575">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="576">
          <span class="hits">3</span>
          
          <code class="ruby">      let(:goal)  { new_goal :p, :x, :y }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="577">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="578">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should unify an array and a tail&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="579">
          <span class="hits">1</span>
          
          <code class="ruby">        assert    unify([7,11,13], Tail.new([[7,11,goal[:P]]]), goal),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="580">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="581">
          <span class="hits">1</span>
          
          <code class="ruby">        expected_log = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="582">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="583">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_log,                     goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="584">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="585">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="586">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not unify an array and tail when they cannot be unified&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="587">
          <span class="hits">1</span>
          
          <code class="ruby">        refute    unify([7,11,13], Tail.new([[7,11,14]]), goal),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="588">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="589">
          
          
          <code class="ruby">        expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="590">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Cannot unify incompatible values: 13 with 14&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="591">
          
          
          <code class="ruby">          &#39;Cannot unify: [7, 11, 13] with [7, 11, 14]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="592">
          
          
          <code class="ruby">          &#39;Cannot unify because [7, 11, 13] != *[[7, 11, 14]] (array != tail)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="593">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="594">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="595">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_log,                     goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="596">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="597">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="598">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="599">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="600">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;when [:tail, :array]&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="601">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="602">
          <span class="hits">3</span>
          
          <code class="ruby">      let(:goal)  { new_goal :p, :x, :y }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="603">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="604">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should unify a tail and an array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="605">
          <span class="hits">1</span>
          
          <code class="ruby">        assert    unify(Tail.new([[7,11,13]]), [7,11,goal[:P]], goal),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="606">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="607">
          <span class="hits">1</span>
          
          <code class="ruby">        expected_log = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="608">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="609">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_log,                     goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="610">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="611">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="612">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not unify a tail and an array when they cannot be unified&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="613">
          <span class="hits">1</span>
          
          <code class="ruby">        refute    unify(Tail.new([[7,11,13]]), [7,11,14], goal),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="614">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="615">
          
          
          <code class="ruby">        expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="616">
          <span class="hits">1</span>
          
          <code class="ruby">          &#39;Cannot unify incompatible values: 13 with 14&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="617">
          
          
          <code class="ruby">          &#39;Cannot unify: [7, 11, 13] with [7, 11, 14]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="618">
          
          
          <code class="ruby">          &#39;Cannot unify because *[[7, 11, 13]] != [7, 11, 14] (tail != array)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="619">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="620">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="621">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_log,                     goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="622">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="623">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="624">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="625">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="626">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;when [:tail, :tail]&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="627">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="628">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;something&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="629">
          
          
          <code class="ruby">        expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="630">
          <span class="hits">1</span>
          
          <code class="ruby">          [goal[:B], [goal[:H]]/:T,  goal, goal],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="631">
          
          
          <code class="ruby">          [goal[:C], [goal[:H]]/:NT, goal, goal]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="632">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="633">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    expected_unifications, unify(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="634">
          
          
          <code class="ruby">          [:A, :B,      :C],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="635">
          
          
          <code class="ruby">          [:A, [:H]/:T, [:H]/:NT],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="636">
          
          
          <code class="ruby">          goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="637">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="638">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="639">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="640">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="641">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="642">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="643">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="644">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#unify_arrays&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="645">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="135" data-linenumber="646">
          <span class="hits">135</span>
          
          <code class="ruby">    let(:g1)    { new_goal(:p, :x, :y) }</code>
        </li>
      
        <li class="covered" data-hits="135" data-linenumber="647">
          <span class="hits">135</span>
          
          <code class="ruby">    let(:g2)    { new_goal(:q, :a, :b) }</code>
        </li>
      
        <li class="covered" data-hits="135" data-linenumber="648">
          <span class="hits">135</span>
          
          <code class="ruby">    let(:goals) { [g1, g2]             }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="649">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="650">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should not unify arrays when left is not an Array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="651">
          <span class="hits">1</span>
          
          <code class="ruby">      expect_unify_arrays_with_calls 0, 0, 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="652">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="653">
          <span class="hits">1</span>
          
          <code class="ruby">      refute_Unify_arrays [{}, []], goals, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="654">
          
          
          <code class="ruby">        &#39;Cannot unify a non-array with an array: {} with []&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="655">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="656">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="657">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="658">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should not unify arrays when right is not an Array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="659">
          <span class="hits">1</span>
          
          <code class="ruby">      expect_unify_arrays_with_calls 0, 0, 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="660">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="661">
          <span class="hits">1</span>
          
          <code class="ruby">      refute_Unify_arrays [[], 4], goals, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="662">
          
          
          <code class="ruby">        &#39;Cannot unify a non-array with an array: [] with 4&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="663">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="664">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="665">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="666">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify but without unifications when left is the unknown array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="667">
          <span class="hits">1</span>
          
          <code class="ruby">      expect_unify_arrays_with_calls 0, 0, 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="668">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="669">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Unify_arrays [UNKNOWN_ARRAY, [:a,:b,:c]], goals, [g2[:a], g2[:b], g2[:c]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="670">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="671">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="672">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify but without unifications when right is the unknown array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="673">
          <span class="hits">1</span>
          
          <code class="ruby">      expect_unify_arrays_with_calls 0, 0, 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="674">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="675">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Unify_arrays [[:x,:y,:z], UNKNOWN_ARRAY], goals, [g1[:x], g1[:y], g1[:z]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="676">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="677">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="678">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify but without unifications when left and right are the unknown array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="679">
          <span class="hits">1</span>
          
          <code class="ruby">      expect_unify_arrays_with_calls 0, 0, 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="680">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="681">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Unify_arrays [[UNKNOWN_TAIL], UNKNOWN_ARRAY], goals, UNKNOWN_ARRAY</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="682">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="683">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="684">
          
          
          <code class="ruby">    arrays_without_tails = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="685">
          <span class="hits">1</span>
          
          <code class="ruby">      [],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="686">
          
          
          <code class="ruby">      [1, 2, 3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="687">
          
          
          <code class="ruby">      [1, 2, 3, 4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="688">
          
          
          <code class="ruby">      [:x, :y, :z],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="689">
          
          
          <code class="ruby">      [[&#39;one&#39;], [&#39;word&#39;], [&#39;sentences&#39;]],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="690">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="691">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="692">
          
          
          <code class="ruby">    arrays_with_tails = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="693">
          <span class="hits">1</span>
          
          <code class="ruby">      []/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="694">
          
          
          <code class="ruby">      [1]/:z,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="695">
          
          
          <code class="ruby">      [1, 2]/:s,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="696">
          
          
          <code class="ruby">      [1, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="697">
          
          
          <code class="ruby">      [1, 2, 3, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="698">
          
          
          <code class="ruby">      [1, 2, 3, 4, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="699">
          
          
          <code class="ruby">      [:x, :y, :z, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="700">
          
          
          <code class="ruby">      [[&#39;one&#39;], [&#39;word&#39;], [&#39;sentences&#39;]]/:tail,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="701">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="702">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="703">
          <span class="hits">1</span>
          
          <code class="ruby">    arrays_without_tails.combination(2).each do |arrays|</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="704">
          <span class="hits">10</span>
          
          <code class="ruby">      it &quot;should call unify_arrays_with_no_tails when there are no tails: #{arrays.map(&amp;:inspect).join(&#39; and &#39;)}&quot; do</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="705">
          <span class="hits">10</span>
          
          <code class="ruby">        expect_unify_arrays_with_calls 1, 0, 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="706">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="707">
          <span class="hits">10</span>
          
          <code class="ruby">        unify_arrays(*arrays, *goals)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="708">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="709">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="710">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="711">
          <span class="hits">1</span>
          
          <code class="ruby">    arrays_with_tails.combination(2).each do |arrays|</code>
        </li>
      
        <li class="covered" data-hits="28" data-linenumber="712">
          <span class="hits">28</span>
          
          <code class="ruby">      it &quot;should call unify_arrays_with_all_tails when all arrays have tails: #{arrays.map(&amp;:inspect).join(&#39; and &#39;)}&quot; do</code>
        </li>
      
        <li class="covered" data-hits="28" data-linenumber="713">
          <span class="hits">28</span>
          
          <code class="ruby">        expect_unify_arrays_with_calls 0, 0, 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="714">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="28" data-linenumber="715">
          <span class="hits">28</span>
          
          <code class="ruby">        unify_arrays(*arrays, *goals)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="716">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="717">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="718">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="719">
          
          
          <code class="ruby">    (</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="720">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_without_tails.product(arrays_with_tails) +</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="721">
          
          
          <code class="ruby">      arrays_with_tails.product(arrays_without_tails)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="722">
          
          
          <code class="ruby">    ).each do |arrays|</code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="723">
          <span class="hits">80</span>
          
          <code class="ruby">      it &quot;should call unify_arrays_with_some_tails when one array has a tail and the other does not: #{arrays.map(&amp;:inspect).join(&#39; and &#39;)}&quot; do</code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="724">
          <span class="hits">80</span>
          
          <code class="ruby">        expect_unify_arrays_with_calls 0, 1, 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="725">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="726">
          <span class="hits">80</span>
          
          <code class="ruby">        unify_arrays(*arrays, *goals)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="727">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="728">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="729">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="730">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify identical arrays without variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="731">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Unify_arrays [[1,2,3], [1,2,3]], goals, [1,2,3]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="732">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="733">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="734">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify an array of variables with an array of atomics&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="735">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Unify_arrays [[:a,:b,:c], [1,2,3]], goals, [1,2,3], [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="736">
          
          
          <code class="ruby">        [:a, 1, g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="737">
          
          
          <code class="ruby">        [:b, 2, g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="738">
          
          
          <code class="ruby">        [:c, 3, g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="739">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="740">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="741">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="742">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify an array of atomics with an array of variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="743">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Unify_arrays [[1,2,3], [:a,:b,:c]], goals, [1,2,3], [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="744">
          
          
          <code class="ruby">        [:a, 1, g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="745">
          
          
          <code class="ruby">        [:b, 2, g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="746">
          
          
          <code class="ruby">        [:c, 3, g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="747">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="748">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="749">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="750">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify arrays of variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="751">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Unify_arrays [[:x,:y,:z], [:a,:b,:c]], goals, [nil,nil,nil], [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="752">
          
          
          <code class="ruby">        [:x, :a, g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="753">
          
          
          <code class="ruby">        [:y, :b, g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="754">
          
          
          <code class="ruby">        [:z, :c, g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="755">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="756">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="757">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="758">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify a fixed array with an array with a tail&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="759">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Unify_arrays [[:a, 2, 3], [1]/:t], goals, [1,2,3], [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="760">
          
          
          <code class="ruby">        [:a, 1,     g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="761">
          
          
          <code class="ruby">        [:t, [2,3], g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="762">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="763">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="764">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="765">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify a fixed array with the unknown array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="766">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Unify_arrays [[1,2,3], UNKNOWN_ARRAY], goals, [1,2,3]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="767">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="768">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="769">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify the unknown array with the unknown array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="770">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Unify_arrays [UNKNOWN_ARRAY, UNKNOWN_ARRAY], goals, UNKNOWN_ARRAY</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="771">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="772">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="773">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify arrays with variable tails&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="774">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Unify_arrays [[:a, :b]/:c, [:x, :y]/:z], goals, [nil,nil,UNKNOWN_TAIL], [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="775">
          
          
          <code class="ruby">        [:a, :x, g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="776">
          
          
          <code class="ruby">        [:b, :y, g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="777">
          
          
          <code class="ruby">        [:c, :z, g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="778">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="779">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="780">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="781">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify arrays with variable tails of different lenths&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="782">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Unify_arrays [[:a, :b]/:c, [:x]/:z], goals, [nil,nil,UNKNOWN_TAIL], [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="783">
          
          
          <code class="ruby">        [g2[:x], g1[:a],            g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="784">
          
          
          <code class="ruby">        [g2[:z], [g1[:b]]/g1[:c],   g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="785">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="786">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="787">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="788">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify arrays with overlapping variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="789">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Unify_arrays [[:a,:a,:c,:c,:e], [1,:b,:b,:d,:d]], goals, [1, nil, nil, nil, nil], [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="790">
          
          
          <code class="ruby">        [g1[:a], g2[1],  g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="791">
          
          
          <code class="ruby">        [g1[:a], g2[:b], g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="792">
          
          
          <code class="ruby">        [g1[:c], g2[:b], g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="793">
          
          
          <code class="ruby">        [g1[:c], g2[:d], g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="794">
          
          
          <code class="ruby">        [g1[:e], g2[:d], g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="795">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="796">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="797">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="798">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify complementary arrays&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="799">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Unify_arrays [[1,2]/:t, [:a,:b,3,4,5]], goals, [1,2,3,4,5], [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="800">
          
          
          <code class="ruby">        [g2[:a], g1[1],     g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="801">
          
          
          <code class="ruby">        [g2[:b], g1[2],     g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="802">
          
          
          <code class="ruby">        [g1[:t], [3, 4, 5], g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="803">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="804">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="805">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="806">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="807">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="808">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#unify_many_arrays&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="809">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="810">
          <span class="hits">7</span>
          
          <code class="ruby">    let(:goal)   { new_goal(:p, :x, :y) }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="811">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="812">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return nil when not all arrays are Arrays or variables&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="813">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="814">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,2,3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="815">
          
          
          <code class="ruby">        123,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="816">
          
          
          <code class="ruby">        :x,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="817">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="818">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="819">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil      unify_many_arrays(arrays, [goal] * arrays.size),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="820">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="821">
          
          
          <code class="ruby">      expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="822">
          <span class="hits">1</span>
          
          <code class="ruby">        &#39;Cannot unify: [1, 2, 3] with 123 with :x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="823">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="824">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="825">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_log,                     goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="826">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="827">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="828">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should not return nil when all arrays are Arrays or variables&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="829">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="830">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,2,3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="831">
          
          
          <code class="ruby">        UNKNOWN_ARRAY,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="832">
          
          
          <code class="ruby">        :x,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="833">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="834">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="835">
          <span class="hits">1</span>
          
          <code class="ruby">      result = unify_many_arrays(arrays, [goal] * arrays.size)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="836">
          <span class="hits">1</span>
          
          <code class="ruby">      refute_nil      result,      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="837">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="838">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="839">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="840">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged       = [1,2,3]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="841">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="842">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="843">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="844">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_merged,          merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="845">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_unifications,    unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="846">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="847">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="848">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should automatically merge unknown arrays&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="849">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="850">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,2,3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="851">
          
          
          <code class="ruby">        UNKNOWN_ARRAY,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="852">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="853">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="854">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [[1,2,3], []],        unify_many_arrays(arrays, [goal] * arrays.size),      name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="855">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="856">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="857">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should call unify_arrays_with_no_tails when there are no Arrays with Tails&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="858">
          <span class="hits">1</span>
          
          <code class="ruby">      expect_unify_arrays_with_calls 1, 0, 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="859">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="860">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="861">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,   2,    3,  nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="862">
          
          
          <code class="ruby">        [1,   nil,  3,  4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="863">
          
          
          <code class="ruby">        [nil, 2,    3,  nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="864">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="865">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="866">
          <span class="hits">1</span>
          
          <code class="ruby">      unify_many_arrays(arrays, [goal] * arrays.size)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="867">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="868">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="869">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should call unify_arrays_with_all_tails when all Arrays have Tails&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="870">
          <span class="hits">1</span>
          
          <code class="ruby">      expect_unify_arrays_with_calls 0, 0, 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="871">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="872">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="873">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,   2,    3,  UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="874">
          
          
          <code class="ruby">        [1,   nil,  3,  ]/:x,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="875">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="876">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="877">
          <span class="hits">1</span>
          
          <code class="ruby">      unify_many_arrays(arrays, [goal] * arrays.size)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="878">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="879">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="880">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should call unify_arrays_with_some_tails when there is a combination of Arrays with and without Tails&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="881">
          <span class="hits">1</span>
          
          <code class="ruby">      expect_unify_arrays_with_calls 0, 1, 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="882">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="883">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="884">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,   2,    3,  UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="885">
          
          
          <code class="ruby">        [1,   nil,  3,  4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="886">
          
          
          <code class="ruby">        [nil, 2,    3,  nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="887">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="888">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="889">
          <span class="hits">1</span>
          
          <code class="ruby">      unify_many_arrays(arrays, [goal] * arrays.size)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="890">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="891">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="892">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="893">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="894">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#has_tail?&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="895">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="896">
          
          
          <code class="ruby">    # -- Non-Arrays --</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="897">
          <span class="hits">4</span>
          
          <code class="ruby">    let(:goal)                      { new_goal(:p, :x, :y) }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="898">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:variable)                  { goal.variable(:x) }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="899">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:object)                    { Object.new }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="900">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:symbol)                    { :symbol }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="901">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:integer)                   { 789 }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="902">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="903">
          
          
          <code class="ruby">    # -- Arrays --</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="904">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:empty_array)               { [] }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="905">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:finite_array)              { [1,2,3,4,5] }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="906">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:array_with_unknown_tail)   { [1,2,3,4,5,UNKNOWN_TAIL] }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="907">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:array_with_variable_tail)  { [1,2,3,4,5]/:tail }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="908">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:unknown_array)             { UNKNOWN_ARRAY }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="909">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="910">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;when not given an Array&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="911">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="912">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return false when given an uninstantiated variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="913">
          <span class="hits">1</span>
          
          <code class="ruby">        refute  has_tail?(variable), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="914">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="915">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="916">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return false when given an Object&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="917">
          <span class="hits">1</span>
          
          <code class="ruby">        refute  has_tail?(object), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="918">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="919">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="920">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return false when given a Symbol&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="921">
          <span class="hits">1</span>
          
          <code class="ruby">        refute  has_tail?(symbol), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="922">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="923">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="924">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return false when given an Integer&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="925">
          <span class="hits">1</span>
          
          <code class="ruby">        refute  has_tail?(integer), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="926">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="927">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="928">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="929">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="930">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;when given an Array&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="931">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="932">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return false when the Array is empty&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="933">
          <span class="hits">1</span>
          
          <code class="ruby">        refute  has_tail?(empty_array), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="934">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="935">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="936">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return false when the last element is atomic&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="937">
          <span class="hits">1</span>
          
          <code class="ruby">        refute  has_tail?(finite_array), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="938">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="939">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="940">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return true when the last element is unknown&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="941">
          <span class="hits">1</span>
          
          <code class="ruby">        assert  has_tail?(array_with_unknown_tail), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="942">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="943">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="944">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return true when the last element is a Tail&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="945">
          <span class="hits">1</span>
          
          <code class="ruby">        assert  has_tail?(array_with_variable_tail), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="946">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="947">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="948">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return true when given an unknown array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="949">
          <span class="hits">1</span>
          
          <code class="ruby">        assert  has_tail?(unknown_array), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="950">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="951">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="952">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;and the array has an instantiated tail&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="953">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="954">
          <span class="hits">1</span>
          
          <code class="ruby">        before do</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="955">
          <span class="hits">2</span>
          
          <code class="ruby">          goal.instantiate :a, 1</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="956">
          <span class="hits">2</span>
          
          <code class="ruby">          goal.instantiate :b, 2</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="957">
          <span class="hits">2</span>
          
          <code class="ruby">          goal.instantiate :c, 3</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="958">
          <span class="hits">2</span>
          
          <code class="ruby">          goal.instantiate :d, 4</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="959">
          <span class="hits">2</span>
          
          <code class="ruby">          goal.instantiate :e, [5]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="960">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="961">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="962">
          <span class="hits">1</span>
          
          <code class="ruby">        describe &#39;and to apply value to the array&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="963">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="964">
          <span class="hits">1</span>
          
          <code class="ruby">          it &#39;should return false&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="965">
          <span class="hits">1</span>
          
          <code class="ruby">            array = goal.variablise([:a, :b, :c, :d]/:e)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="966">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="967">
          <span class="hits">1</span>
          
          <code class="ruby">            refute  has_tail?(array, true), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="968">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="969">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="970">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="971">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="972">
          <span class="hits">1</span>
          
          <code class="ruby">        describe &#39;and to not apply value to the array&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="973">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="974">
          <span class="hits">1</span>
          
          <code class="ruby">          it &#39;should return true&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="975">
          <span class="hits">1</span>
          
          <code class="ruby">            array = goal.variablise([:a, :b, :c, :d]/:e)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="976">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="977">
          <span class="hits">1</span>
          
          <code class="ruby">            assert  has_tail?(array, false), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="978">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="979">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="980">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="981">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="982">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="983">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="984">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="985">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="986">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="987">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="988">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#expand_splat&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="989">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="990">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return an empty array as is&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="991">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [],     expand_splat([])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="992">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="993">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="994">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return non-arrays as is&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="995">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    5,      expand_splat(5)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="996">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="997">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="998">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should expand an array of just a Tail&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="999">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    :t,     expand_splat([]/:t)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1000">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1001">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1002">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should not expand an array with a Tail&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1003">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [1,2,3]/:t,     expand_splat([1,2,3]/:t)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1004">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1005">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1006">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should expand a tail&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1007">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [1,2,3,4,5],    expand_splat([1,2,3,Tail.new([4,5])])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1008">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1009">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1010">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should expand nested arrays&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1011">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    [99, [1,2,3,4], 99],    expand_splat([99,[1,2,3,Tail.new([4])],99])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1012">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1013">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1014">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1015">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1016">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#unify_arrays_with_no_tails&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1017">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="1018">
          <span class="hits">14</span>
          
          <code class="ruby">    let(:g1)    { new_goal(:p, :x, :y) }</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="1019">
          <span class="hits">14</span>
          
          <code class="ruby">    let(:g2)    { new_goal(:q, :a, :b) }</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="1020">
          <span class="hits">14</span>
          
          <code class="ruby">    let(:g3)    { new_goal(:r, :s, :t) }</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1021">
          <span class="hits">10</span>
          
          <code class="ruby">    let(:g4)    { new_goal(:v, :i, :j) }</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1022">
          <span class="hits">10</span>
          
          <code class="ruby">    let(:goals) { [g1, g2, g3, g4]     }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1023">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1024">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return nil when any array has a tail&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1025">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1026">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,  2,  3,  4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1027">
          
          
          <code class="ruby">        [1,  2,  3]/:tail,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1028">
          
          
          <code class="ruby">        [:w, :x, :y, :z]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1029">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1030">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0..arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1031">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1032">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil      unify_arrays_with_no_tails(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1033">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1034">
          
          
          <code class="ruby">      expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1035">
          <span class="hits">1</span>
          
          <code class="ruby">        &#39;Wrong unification method called: no_tails but one or more of [[1, 2, 3, 4], [1, 2, 3, *:tail], [:w, :x, :y, :z]] has a tail&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1036">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1037">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1038">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1039">
          <span class="hits">4</span>
          
          <code class="ruby">        assert_equal    expected_log,                     goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1040">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1041">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1042">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1043">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should not unify finite arrays with unequal sizes&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1044">
          
          
          <code class="ruby">      # -- First &gt; Last --</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1045">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1046">
          <span class="hits">1</span>
          
          <code class="ruby">        [nil, nil, nil, nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1047">
          
          
          <code class="ruby">        [1,   2,   3]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1048">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1049">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1050">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1051">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil                        unify_arrays_with_no_tails(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1052">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1053">
          
          
          <code class="ruby">      # -- First = Last --</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1054">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1055">
          <span class="hits">1</span>
          
          <code class="ruby">        [nil, nil, nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1056">
          
          
          <code class="ruby">        [1,   2,   3]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1057">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1058">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1059">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1060">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged       = [1,2,3]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1061">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_unifications = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1062">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1063">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_arrays_with_no_tails(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1064">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1065">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_merged,          merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1066">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_unifications,    unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1067">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1068">
          
          
          <code class="ruby">      # -- First &lt; Last --</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1069">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1070">
          <span class="hits">1</span>
          
          <code class="ruby">        [nil, nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1071">
          
          
          <code class="ruby">        [1,   2,   3]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1072">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1073">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1074">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1075">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil                        unify_arrays_with_no_tails(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1076">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1077">
          
          
          <code class="ruby">      # -- Check Log --</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1078">
          
          
          <code class="ruby">      expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1079">
          <span class="hits">1</span>
          
          <code class="ruby">        &#39;Cannot unify arrays of different lengths: [nil, nil, nil, nil] with [1, 2, 3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1080">
          
          
          <code class="ruby">        &#39;Cannot unify arrays of different lengths: [nil, nil] with [1, 2, 3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1081">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1082">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1083">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="1084">
          <span class="hits">2</span>
          
          <code class="ruby">        assert_equal    expected_log,                     goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1085">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1086">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1087">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1088">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should merge values with nil as an empty slot&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1089">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1090">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,   2,   3,   nil, nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1091">
          
          
          <code class="ruby">        [nil, nil, nil, 4,   nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1092">
          
          
          <code class="ruby">        [nil, nil, nil, nil, 5],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1093">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1094">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1095">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1096">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_arrays_with_no_tails(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1097">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1098">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged       = [1, 2, 3, 4, 5]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1099">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_unifications = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1100">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1101">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  expected_merged,        merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1102">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  expected_unifications,  unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1103">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1104">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1105">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return nil when the finite arrays have different sizes&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1106">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1107">
          <span class="hits">1</span>
          
          <code class="ruby">        [nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1108">
          
          
          <code class="ruby">        [nil, nil, nil, nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1109">
          
          
          <code class="ruby">        [nil, nil, nil, nil, nil, nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1110">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1111">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1112">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1113">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil                        unify_arrays_with_no_tails(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1114">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1115">
          
          
          <code class="ruby">      expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1116">
          <span class="hits">1</span>
          
          <code class="ruby">        &#39;Cannot unify arrays of different lengths: [nil] with [nil, nil, nil, nil] with [nil, nil, nil, nil, nil, nil]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1117">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1118">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1119">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="1120">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_equal    expected_log,                     goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1121">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1122">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1123">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1124">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return nil when the arrays have incompatible values&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1125">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1126">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,   2,   3,   nil, nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1127">
          
          
          <code class="ruby">        [nil, nil, nil, 4,   nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1128">
          
          
          <code class="ruby">        [8,   nil, nil, nil, 5],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1129">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1130">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1131">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1132">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil                        unify_arrays_with_no_tails(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1133">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1134">
          
          
          <code class="ruby">      expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1135">
          <span class="hits">1</span>
          
          <code class="ruby">        &#39;Cannot unify incompatible values: 1 with 8&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1136">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1137">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1138">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="1139">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_equal    expected_log,                     goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1140">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1141">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1142">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1143">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return necessary unifications to unify variables&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1144">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1145">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,   2,   nil, nil, nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1146">
          
          
          <code class="ruby">        [:j,  :n,  :n,  4,   nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1147">
          
          
          <code class="ruby">        [:x,  nil, :m,  :y,  :z],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1148">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1149">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1150">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1151">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_arrays_with_no_tails(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1152">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1153">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged       = [1, 2, nil, 4, nil]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1154">
          
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1155">
          <span class="hits">1</span>
          
          <code class="ruby">        [g2[:j], g1[1],   g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1156">
          
          
          <code class="ruby">        [g3[:x], g1[1],   g3, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1157">
          
          
          <code class="ruby">        [g2[:j], g3[:x],  g2, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1158">
          
          
          <code class="ruby">        [g2[:n], g1[2],   g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1159">
          
          
          <code class="ruby">        [g2[:n], g3[:m],  g2, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1160">
          
          
          <code class="ruby">        [g3[:y], g2[4],   g3, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1161">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1162">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1163">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_merged,          merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1164">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_unifications,    unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1165">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1166">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1167">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should deduce array goals from array elements when missing&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1168">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1169">
          <span class="hits">1</span>
          
          <code class="ruby">        [         nil, 2,   nil, g1.value(4), nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1170">
          
          
          <code class="ruby">        g2.value([1,   nil, 3,   nil,         nil]),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1171">
          
          
          <code class="ruby">        g3.value([nil, :x,  nil, nil,         5]),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1172">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1173">
          <span class="hits">1</span>
          
          <code class="ruby">      missing_goals = [nil, nil, nil]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1174">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1175">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_arrays_with_no_tails(arrays, missing_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1176">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1177">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged       = [1, 2, 3, 4, 5]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1178">
          
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1179">
          <span class="hits">1</span>
          
          <code class="ruby">        [g3.variable(:x), g1.value(2), g3, g1]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1180">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1181">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1182">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_merged,            merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1183">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_unifications,      unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1184">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1185">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1186">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should map Values as is&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1187">
          <span class="hits">1</span>
          
          <code class="ruby">      value1 = g1.value(91)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1188">
          <span class="hits">1</span>
          
          <code class="ruby">      g1.instantiate(:gi, [nil, value1, nil, 93])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1189">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1190">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1191">
          <span class="hits">1</span>
          
          <code class="ruby">        [         nil, 2,    nil,  :gi,                   nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1192">
          
          
          <code class="ruby">        g2.value([1,   nil,  3,    [90,  nil, nil, nil],  nil]),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1193">
          
          
          <code class="ruby">        g3.value([nil, :x,   nil,  [nil, nil, 92,  :gy],  5]),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1194">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1195">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1196">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = [g1, nil, nil]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1197">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1198">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_arrays_with_no_tails(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1199">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1200">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged       = [1, 2, 3, [90, 91, 92, 93], 5]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1201">
          
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1202">
          <span class="hits">1</span>
          
          <code class="ruby">        [g3.variable(:x),  g1.value(2),  g3, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1203">
          
          
          <code class="ruby">        [g3.variable(:gy), g1.value(93), g3, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1204">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1205">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1206">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_merged,          merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1207">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_unifications,    unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1208">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1209">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1210">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should detect ununifiable values embedded in subarrays&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1211">
          <span class="hits">1</span>
          
          <code class="ruby">      value1 = g1.value(91)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1212">
          <span class="hits">1</span>
          
          <code class="ruby">      g1.instantiate(:gi, [nil, value1, 92.1, 93])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1213">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1214">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1215">
          <span class="hits">1</span>
          
          <code class="ruby">        [         nil, 2,    nil,  :gi,                   nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1216">
          
          
          <code class="ruby">        g2.value([1,   nil,  3,    [90,  nil, nil, nil],  nil]),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1217">
          
          
          <code class="ruby">        g3.value([nil, :x,   nil,  [nil, nil, 92,  :gy],  5]),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1218">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1219">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1220">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = [g1, nil, nil]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1221">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1222">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil      unify_arrays_with_no_tails(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1223">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1224">
          
          
          <code class="ruby">      expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1225">
          <span class="hits">1</span>
          
          <code class="ruby">        &#39;Cannot unify incompatible values: 92.1 with 92&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1226">
          
          
          <code class="ruby">        &#39;Cannot unify: [nil, 91, 92.1, 93] with [90, nil, nil, nil] with [nil, nil, 92, Goal3.:gy]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1227">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1228">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1229">
          <span class="hits">1</span>
          
          <code class="ruby">      [g1, g2, g3].each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="1230">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_equal    expected_log,   goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1231">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1232">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1233">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1234">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should not expand variables when they are instantiated to the unknown array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1235">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...4]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1236">
          <span class="hits">1</span>
          
          <code class="ruby">      g4.instantiate :z, UNKNOWN_ARRAY</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1237">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1238">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,   2,   nil, nil, nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1239">
          
          
          <code class="ruby">        [:j,  :n,  :n,  4,   nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1240">
          
          
          <code class="ruby">        [:x,  nil, :m,  :y,  :z],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1241">
          
          
          <code class="ruby">        :z</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1242">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1243">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1244">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    UNKNOWN_ARRAY,      g4[:z].value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1245">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1246">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_arrays_with_no_tails(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1247">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1248">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged       = [1, 2, nil, 4, g3[:z]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1249">
          
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1250">
          <span class="hits">1</span>
          
          <code class="ruby">        [g2[:j], g1[1],   g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1251">
          
          
          <code class="ruby">        [g2[:n], g1[2],   g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1252">
          
          
          <code class="ruby">        [g3[:x], g1[1],   g3, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1253">
          
          
          <code class="ruby">        [g4[:z], [g1[1],  g1[2], g1.value(nil), g1.value(nil), g1.value(nil)], g4, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1254">
          
          
          <code class="ruby">        [g2[:j], g3[:x],  g2, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1255">
          
          
          <code class="ruby">        [g2[:n], g3[:m],  g2, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1256">
          
          
          <code class="ruby">        [g3[:y], g2[4],   g3, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1257">
          
          
          <code class="ruby">        [g4[:z], [g2[:j], g2[:n],  g2[:n], g2[4],  g2.value(nil)], g4, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1258">
          
          
          <code class="ruby">        [g4[:z], [g3[:x], g3.value(nil), g3[:m], g3[:y], g3[:z]],  g4, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1259">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1260">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1261">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_merged,          merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1262">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_unifications,    unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1263">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1264">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1265">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should not expand variables when they are instantiated to the unknown tail&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1266">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...4]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1267">
          <span class="hits">1</span>
          
          <code class="ruby">      g4.instantiate :z, UNKNOWN_TAIL</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1268">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1269">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,   2,   nil, nil, nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1270">
          
          
          <code class="ruby">        [:j,  :n,  :n,  4,   nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1271">
          
          
          <code class="ruby">        [:x,  nil, :m,  :y,  :z],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1272">
          
          
          <code class="ruby">        :z</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1273">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1274">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1275">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    g4[:z],             g4[:z].value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1276">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1277">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_arrays_with_no_tails(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1278">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1279">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged       = [1, 2, nil, 4, nil]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1280">
          
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1281">
          <span class="hits">1</span>
          
          <code class="ruby">        [g2[:j], g1[1],   g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1282">
          
          
          <code class="ruby">        [g2[:n], g1[2],   g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1283">
          
          
          <code class="ruby">        [g3[:x], g1[1],   g3, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1284">
          
          
          <code class="ruby">        [g4[:z], [g1[1],  g1[2], g1.value(nil), g1.value(nil), g1.value(nil)], g4, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1285">
          
          
          <code class="ruby">        [g2[:j], g3[:x],  g2, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1286">
          
          
          <code class="ruby">        [g2[:n], g3[:m],  g2, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1287">
          
          
          <code class="ruby">        [g3[:y], g2[4],   g3, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1288">
          
          
          <code class="ruby">        [g4[:z], [g2[:j], g2[:n],  g2[:n], g2[4],  g2.value(nil)], g4, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1289">
          
          
          <code class="ruby">        [g4[:z], [g3[:x], g3.value(nil), g3[:m], g3[:y], g3[:z]],  g4, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1290">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1291">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1292">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_merged,          merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1293">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_unifications,    unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1294">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1295">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1296">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should not unify an atomic with an embedded unknown array &#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1297">
          <span class="hits">1</span>
          
          <code class="ruby">      value1 = g1.value(91)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1298">
          <span class="hits">1</span>
          
          <code class="ruby">      g1.instantiate(:gi, [nil, value1, 92.1, 93])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1299">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1300">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1301">
          <span class="hits">1</span>
          
          <code class="ruby">        [         nil, 2,    nil,  :gi,                   nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1302">
          
          
          <code class="ruby">        g2.value([1,   nil,  3,    [90,  nil, nil, nil],  nil]),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1303">
          
          
          <code class="ruby">        g3.value([nil, :x,   nil,  [nil, nil, UNKNOWN_ARRAY,  :gy],  5]),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1304">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1305">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1306">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = [g1, nil, nil]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1307">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1308">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil      unify_arrays_with_no_tails(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1309">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1310">
          
          
          <code class="ruby">      expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1311">
          <span class="hits">1</span>
          
          <code class="ruby">        &#39;Cannot unify incompatible values: 92.1 with [...]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1312">
          
          
          <code class="ruby">        &#39;Cannot unify: [nil, 91, 92.1, 93] with [90, nil, nil, nil] with [nil, nil, [...], Goal3.:gy]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1313">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1314">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1315">
          <span class="hits">1</span>
          
          <code class="ruby">      [g1, g2, g3].each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="1316">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_equal    expected_log,   goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1317">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1318">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1319">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1320">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should not unify arrays where one embedded variable cannot be unified&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1321">
          <span class="hits">1</span>
          
          <code class="ruby">      g1.instantiate(:a, :b)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1322">
          <span class="hits">1</span>
          
          <code class="ruby">      g2.instantiate(:a, 2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1323">
          <span class="hits">1</span>
          
          <code class="ruby">      g3.instantiate(:a, 3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1324">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1325">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1326">
          <span class="hits">1</span>
          
          <code class="ruby">        [[:a]],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1327">
          
          
          <code class="ruby">        [[:a]],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1328">
          
          
          <code class="ruby">        [[:a]],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1329">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1330">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1331">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1332">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil      unify_arrays_with_no_tails(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1333">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1334">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1335">
          
          
          <code class="ruby">        &#39;Cannot unify: [Goal1.:a] with [Goal2.2] with [Goal3.3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1336">
          
          
          <code class="ruby">      ], g1.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1337">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1338">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1339">
          
          
          <code class="ruby">        &#39;Cannot unify because Goal2.2 != Goal3.3 (atomic != atomic)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1340">
          
          
          <code class="ruby">        &#39;Cannot unify: Goal2.2 with Goal3.3&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1341">
          
          
          <code class="ruby">        &#39;Cannot unify: [Goal1.:a] with [Goal2.2] with [Goal3.3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1342">
          
          
          <code class="ruby">      ], g2.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1343">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1344">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1345">
          
          
          <code class="ruby">        &#39;Cannot unify because Goal2.2 != Goal3.3 (atomic != atomic)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1346">
          
          
          <code class="ruby">        &#39;Cannot unify: Goal2.2 with Goal3.3&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1347">
          
          
          <code class="ruby">        &#39;Cannot unify: [Goal1.:a] with [Goal2.2] with [Goal3.3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1348">
          
          
          <code class="ruby">      ], g3.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1349">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1350">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1351">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1352">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1353">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#unify_arrays_with_some_tails&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1354">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="1355">
          <span class="hits">12</span>
          
          <code class="ruby">    let(:g1)    { new_goal(:p, :x, :y) }</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="1356">
          <span class="hits">12</span>
          
          <code class="ruby">    let(:g2)    { new_goal(:q, :a, :b) }</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="1357">
          <span class="hits">11</span>
          
          <code class="ruby">    let(:g3)    { new_goal(:r, :s, :t) }</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="1358">
          <span class="hits">11</span>
          
          <code class="ruby">    let(:goals) { [g1, g2, g3]         }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1359">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1360">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should not unify a finite array with an array with a tail that has more finite elements&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1361">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1362">
          <span class="hits">1</span>
          
          <code class="ruby">        [nil, nil, nil, nil, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1363">
          
          
          <code class="ruby">        [1,   2,   3]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1364">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1365">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1366">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1367">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil                        unify_arrays_with_some_tails(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1368">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1369">
          
          
          <code class="ruby">      expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1370">
          <span class="hits">1</span>
          
          <code class="ruby">        &#39;Cannot unify enough elements: [nil, nil, nil, nil, ...] with [Goal2.1, Goal2.2, Goal2.3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1371">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1372">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1373">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_log,                     g1.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1374">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_log,                     g2.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1375">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1376">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1377">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify a finite array with an array with a tail that has less finite elements&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1378">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1379">
          <span class="hits">1</span>
          
          <code class="ruby">        [nil, nil, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1380">
          
          
          <code class="ruby">        [1,   2,   3]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1381">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1382">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1383">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1384">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  [[1,2,3],[]],       unify_arrays_with_some_tails(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1385">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1386">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1387">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should merge values with an unknown tail&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1388">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1389">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,   2,   3,   UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1390">
          
          
          <code class="ruby">        [nil, nil, nil, 4,   nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1391">
          
          
          <code class="ruby">        [nil, nil, nil, nil, 5],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1392">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1393">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1394">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1395">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  [[1,2,3,4,5],[]],   unify_arrays_with_some_tails(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1396">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1397">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1398">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return nil when the finite arrays have different sizes&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1399">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1400">
          <span class="hits">1</span>
          
          <code class="ruby">        [nil, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1401">
          
          
          <code class="ruby">        [nil, nil, nil, nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1402">
          
          
          <code class="ruby">        [nil, nil, nil, nil, nil, nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1403">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1404">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1405">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1406">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil                        unify_arrays_with_some_tails(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1407">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1408">
          
          
          <code class="ruby">      expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1409">
          <span class="hits">1</span>
          
          <code class="ruby">        &#39;Cannot unify different sizes of arrays: [nil, ...] with [nil, nil, nil, nil] with [nil, nil, nil, nil, nil, nil]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1410">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1411">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1412">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_log,                     g1.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1413">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_log,                     g2.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1414">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_log,                     g3.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1415">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1416">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1417">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return nil when the arrays have incompatible values&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1418">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1419">
          <span class="hits">1</span>
          
          <code class="ruby">        [1, 2, 3, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1420">
          
          
          <code class="ruby">        [nil, nil, nil, 4, nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1421">
          
          
          <code class="ruby">        [5,   nil, nil, nil, 5],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1422">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1423">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1424">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1425">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil                        unify_arrays_with_some_tails(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1426">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1427">
          
          
          <code class="ruby">      expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1428">
          <span class="hits">1</span>
          
          <code class="ruby">        &#39;Cannot unify enough elements: Goal1.1 with Goal3.5&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1429">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1430">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1431">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_log,                     g1.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1432">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_log,                     g2.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1433">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_log,                     g3.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1434">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1435">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1436">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return necessary unification to unify variables&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1437">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1438">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,   2,   nil, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1439">
          
          
          <code class="ruby">        [:j,  :n,  :n,  4,  nil],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1440">
          
          
          <code class="ruby">        [:x,  nil, :m,  :y, :z],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1441">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1442">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1443">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1444">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_arrays_with_some_tails(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1445">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1446">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged       = [1, 2, nil, 4, g3[:z]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1447">
          
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1448">
          <span class="hits">1</span>
          
          <code class="ruby">        [g2.variable(:j), g1.value(1),      g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1449">
          
          
          <code class="ruby">        [g3.variable(:x), g1.value(1),      g3, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1450">
          
          
          <code class="ruby">        [g2.variable(:j), g3.variable(:x),  g2, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1451">
          
          
          <code class="ruby">        [g2.variable(:n), g1.value(2),      g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1452">
          
          
          <code class="ruby">        [g2.variable(:n), g3.variable(:m),  g2, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1453">
          
          
          <code class="ruby">        [g3.variable(:y), g2.value(4),      g3, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1454">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1455">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1456">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  [expected_merged, expected_unifications],   [merged, unifications], name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1457">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1458">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1459">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should handle a range of cases&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1460">
          
          
          <code class="ruby">      [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1461">
          <span class="hits">1</span>
          
          <code class="ruby">        [[[],                        [1,UNKNOWN_TAIL]      ],   nil, [&#39;Cannot unify enough elements: [] with [Goal2.1, ...]&#39;]],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1462">
          
          
          <code class="ruby">        [[[]/:t,                     [1]                   ],   [[1], [[g1.variable(:t), [1], g1, g2]]]],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1463">
          
          
          <code class="ruby">        [[[],                        [1,2]/:s              ],   nil, [&#39;Cannot unify enough elements: [] with [Goal2.1, Goal2.2, *Goal2.:s]&#39;]],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1464">
          
          
          <code class="ruby">        [[[]/:t,                     [1,2]                 ],   [[1,2], [[g1.variable(:t), [1,2], g1, g2]]]],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1465">
          
          
          <code class="ruby">        [[[1,2,3],                   [1,UNKNOWN_TAIL]      ],   [[1,2,3],[]]],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1466">
          
          
          <code class="ruby">        [[[1,2,3,UNKNOWN_TAIL],      [1]                   ],   nil, [&#39;Cannot unify enough elements: [Goal1.1, Goal1.2, Goal1.3, ...] with [Goal2.1]&#39;]],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1467">
          
          
          <code class="ruby">        [[[1],                       [1,2,3,UNKNOWN_TAIL]  ],   nil, [&#39;Cannot unify enough elements: [Goal1.1] with [Goal2.1, Goal2.2, Goal2.3, ...]&#39;]],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1468">
          
          
          <code class="ruby">        [[[1]/:z,                    [1,2,3]               ],   [[1,2,3], [[g1.variable(:z), [2, 3], g1, g2]]]],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1469">
          
          
          <code class="ruby">        [[[:x,:y,:z],                [1,2,3,4,UNKNOWN_TAIL]],   nil, [&#39;Cannot unify enough elements: [Goal1.:x, Goal1.:y, Goal1.:z] with [Goal2.1, Goal2.2, Goal2.3, Goal2.4, ...]&#39;]],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1470">
          
          
          <code class="ruby">        [[[:x,:y,:z,UNKNOWN_TAIL],   [1,2,3,4]             ],   [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1471">
          
          
          <code class="ruby">          [1,2,3,4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1472">
          
          
          <code class="ruby">          [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1473">
          
          
          <code class="ruby">            [g1.variable(:x), g2.value(1), g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1474">
          
          
          <code class="ruby">            [g1.variable(:y), g2.value(2), g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1475">
          
          
          <code class="ruby">            [g1.variable(:z), g2.value(3), g1, g2]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1476">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1477">
          
          
          <code class="ruby">        ]],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1478">
          
          
          <code class="ruby">      ].each do |arrays, expected, expected_log|</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1479">
          <span class="hits">10</span>
          
          <code class="ruby">        arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1480">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1481">
          <span class="hits">10</span>
          
          <code class="ruby">        result = unify_arrays_with_some_tails(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1482">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1483">
          <span class="hits">10</span>
          
          <code class="ruby">        if expected.nil?</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="1484">
          <span class="hits">5</span>
          
          <code class="ruby">          assert_nil                  result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1485">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="1486">
          <span class="hits">5</span>
          
          <code class="ruby">          arrays_goals.uniq.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1487">
          <span class="hits">10</span>
          
          <code class="ruby">            assert_equal    expected_log,                     goal.log</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1488">
          <span class="hits">10</span>
          
          <code class="ruby">            goal.log[0..-1] = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1489">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1490">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="1491">
          <span class="hits">5</span>
          
          <code class="ruby">          assert_equal    expected,   result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1492">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1493">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1494">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1495">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1496">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should raise a no goal error when no goals are supplied and the arrays have no embedded goals&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1497">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1498">
          <span class="hits">1</span>
          
          <code class="ruby">        [nil, nil, nil, nil, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1499">
          
          
          <code class="ruby">        [1,   2,   3]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1500">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1501">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = [nil] * arrays.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1502">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1503">
          <span class="hits">1</span>
          
          <code class="ruby">      error = assert_raises Porolog::NoGoalError do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1504">
          <span class="hits">1</span>
          
          <code class="ruby">        unify_arrays_with_some_tails(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1505">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1506">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1507">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal &#39;[nil, nil, nil, nil, ...] has no associated goal!  Cannot variablise!&#39;, error.message</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1508">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1509">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1510">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should derive goals from embedded goals when the goals are not supplied&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1511">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = [g1, nil]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1512">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1513">
          <span class="hits">1</span>
          
          <code class="ruby">        [nil, nil, nil,   nil, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1514">
          
          
          <code class="ruby">        [1,   2,   g2[3], 4]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1515">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1516">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="1517">
          <span class="hits">3</span>
          
          <code class="ruby">      refute              arrays.all?{|array| has_tail?(array, false)  },  &quot;not all arrays should have a tail&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="1518">
          <span class="hits">2</span>
          
          <code class="ruby">      refute              arrays.all?{|array| !has_tail?(array, false) },  &quot;not all arrays should not have a tail&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1519">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1520">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_arrays_with_some_tails(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1521">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1522">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged       = [1,2,3,4]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1523">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1524">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1525">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1526">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_merged,              merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1527">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_unifications,        unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1528">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1529">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1530">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should extract embedded variables and values in an array in a value&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1531">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1532">
          <span class="hits">1</span>
          
          <code class="ruby">        g1.value([nil, :b, nil,   nil, 5]),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1533">
          
          
          <code class="ruby">        [1,   2,   g2[3], 4]/:t</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1534">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1535">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1536">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="1537">
          <span class="hits">2</span>
          
          <code class="ruby">      refute              arrays.all?{|array| has_tail?(array, false)  },  &quot;not all arrays should have a tail&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="1538">
          <span class="hits">3</span>
          
          <code class="ruby">      refute              arrays.all?{|array| !has_tail?(array, false) },  &quot;not all arrays should not have a tail&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1539">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1540">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_arrays_with_some_tails(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1541">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1542">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged       = [1,2,3,4,5]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1543">
          
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1544">
          <span class="hits">1</span>
          
          <code class="ruby">        [g1[:b], g2[2], g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1545">
          
          
          <code class="ruby">        [g2[:t], [5],   g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1546">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1547">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1548">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_merged,              merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1549">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_unifications,        unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1550">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1551">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1552">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify multiple atomics and tails&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1553">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1554">
          <span class="hits">1</span>
          
          <code class="ruby">        g1.value([nil, :b, nil,   nil, 5, 6, 7]),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1555">
          
          
          <code class="ruby">        [1,   2,   g2[3], 4]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1556">
          
          
          <code class="ruby">        [1,   2,   g3[3], 4]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1557">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1558">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1559">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="1560">
          <span class="hits">2</span>
          
          <code class="ruby">      refute          arrays.all?{|array| has_tail?(array, false)  },  &quot;not all arrays should have a tail&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="1561">
          <span class="hits">3</span>
          
          <code class="ruby">      refute          arrays.all?{|array| !has_tail?(array, false) },  &quot;not all arrays should not have a tail&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1562">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1563">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_arrays_with_some_tails(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1564">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1565">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged       = [1,2,3,4,5,6,7]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1566">
          
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1567">
          <span class="hits">1</span>
          
          <code class="ruby">        [g1[:b], g2[2],     g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1568">
          
          
          <code class="ruby">        [g1[:b], g3[2],     g1, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1569">
          
          
          <code class="ruby">        [g2[:t], [5,6,7],   g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1570">
          
          
          <code class="ruby">        [g3[:t], [5,6,7],   g3, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1571">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1572">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1573">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_merged,              merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1574">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_unifications,        unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1575">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1576">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1577">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should not unify incompatible atomics&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1578">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1579">
          <span class="hits">1</span>
          
          <code class="ruby">        g1.value([nil, :b, nil,   nil, 5]),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1580">
          
          
          <code class="ruby">        [1,   2,   g2[3], 4]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1581">
          
          
          <code class="ruby">        [1,   3,   g3[3], 4]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1582">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1583">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1584">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="1585">
          <span class="hits">2</span>
          
          <code class="ruby">      refute          arrays.all?{|array| has_tail?(array, false)  },  &quot;not all arrays should have a tail&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="1586">
          <span class="hits">3</span>
          
          <code class="ruby">      refute          arrays.all?{|array| !has_tail?(array, false) },  &quot;not all arrays should not have a tail&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1587">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1588">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil      unify_arrays_with_some_tails(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1589">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1590">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1591">
          
          
          <code class="ruby">        &#39;Cannot unify non-variables: 2 with 3&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1592">
          
          
          <code class="ruby">      ], g1.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1593">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1594">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1595">
          
          
          <code class="ruby">        &#39;Cannot unify non-variables: 2 with 3&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1596">
          
          
          <code class="ruby">      ], g2.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1597">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1598">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1599">
          
          
          <code class="ruby">        &#39;Cannot unify non-variables: 2 with 3&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1600">
          
          
          <code class="ruby">      ], g3.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1601">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1602">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1603">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1604">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1605">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#unify_arrays_with_all_tails&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1606">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="1607">
          <span class="hits">7</span>
          
          <code class="ruby">    let(:g1)    { new_goal(:p, :x, :y) }</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="1608">
          <span class="hits">7</span>
          
          <code class="ruby">    let(:g2)    { new_goal(:q, :a, :b) }</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="1609">
          <span class="hits">7</span>
          
          <code class="ruby">    let(:g3)    { new_goal(:r, :s, :t) }</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="1610">
          <span class="hits">7</span>
          
          <code class="ruby">    let(:goals) { [g1, g2, g3]         }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1611">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="1612">
          <span class="hits">3</span>
          
          <code class="ruby">    let(:array_with_tail_1) { [1,  2,  Tail.new(:h)] }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="1613">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:array_with_tail_2) { [:h, :b]/:t }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="1614">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:array_with_tail_3) { [:x, :y, UNKNOWN_TAIL] }</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1615">
          <span class="hits">1</span>
          
          <code class="ruby">    let(:head_and_tail_1)   { [1,  Tail.new([2,3])] }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="1616">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:head_and_tail_2)   { [:h]/:t }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="1617">
          <span class="hits">2</span>
          
          <code class="ruby">    let(:head_and_tail_3)   { [:x, UNKNOWN_TAIL] }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1618">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1619">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should call unify_tail_with_tail when no array is headtail&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1620">
          <span class="hits">1</span>
          
          <code class="ruby">      expects(:unify_tail_with_tail).times(1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1621">
          <span class="hits">1</span>
          
          <code class="ruby">      expects(:unify_headtail_with_tail).times(0)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1622">
          <span class="hits">1</span>
          
          <code class="ruby">      expects(:unify_headtail_with_headtail).times(0)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1623">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1624">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1625">
          <span class="hits">1</span>
          
          <code class="ruby">        array_with_tail_1,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1626">
          
          
          <code class="ruby">        array_with_tail_2,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1627">
          
          
          <code class="ruby">        array_with_tail_3,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1628">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1629">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1630">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1631">
          <span class="hits">1</span>
          
          <code class="ruby">      unify_arrays_with_all_tails(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1632">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1633">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1634">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should call unify_headtail_with_tail when all arrays but one are headtail&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1635">
          <span class="hits">1</span>
          
          <code class="ruby">      expects(:unify_tail_with_tail).times(0)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1636">
          <span class="hits">1</span>
          
          <code class="ruby">      expects(:unify_headtail_with_tail).times(1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1637">
          <span class="hits">1</span>
          
          <code class="ruby">      expects(:unify_headtail_with_headtail).times(0)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1638">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1639">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1640">
          <span class="hits">1</span>
          
          <code class="ruby">        array_with_tail_1,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1641">
          
          
          <code class="ruby">        head_and_tail_2,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1642">
          
          
          <code class="ruby">        head_and_tail_3,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1643">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1644">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1645">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1646">
          <span class="hits">1</span>
          
          <code class="ruby">      unify_arrays_with_all_tails(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1647">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1648">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1649">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should include unifications of variables in a tail&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1650">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1651">
          <span class="hits">1</span>
          
          <code class="ruby">        [nil, nil, nil]/:list,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1652">
          
          
          <code class="ruby">        [1,   2,   3,   nil, :y, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1653">
          
          
          <code class="ruby">        [nil, :x,  nil, 4,   Tail.new([nil,6])],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1654">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1655">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1656">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1657">
          <span class="hits">1</span>
          
          <code class="ruby">      g1.instantiate :list, [4,5,:z]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1658">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1659">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_arrays_with_all_tails(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1660">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1661">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged       = [1,2,3,4,5,6]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1662">
          
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1663">
          <span class="hits">1</span>
          
          <code class="ruby">        [g3[:x], g2[2], g3, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1664">
          
          
          <code class="ruby">        [g2[:y], g1[5], g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1665">
          
          
          <code class="ruby">        [g1[:z], g3[6], g1, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1666">
          
          
          <code class="ruby">        [g1[:z], g1[6], g1, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1667">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1668">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1669">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_merged,              merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1670">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_unifications,        unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1671">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1672">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1673">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should not unify arrays where one embedded variable cannot be unified&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1674">
          <span class="hits">1</span>
          
          <code class="ruby">      g1.instantiate(:a, [g1.value(1), g1.value(2), g1.value(3), UNKNOWN_TAIL])</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1675">
          <span class="hits">1</span>
          
          <code class="ruby">      g2.instantiate(:a, :b)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1676">
          <span class="hits">1</span>
          
          <code class="ruby">      g3.instantiate(:a, :b)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1677">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1678">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1679">
          <span class="hits">1</span>
          
          <code class="ruby">        :a,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1680">
          
          
          <code class="ruby">        [:a,Tail.new([1])],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1681">
          
          
          <code class="ruby">        [:a, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1682">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1683">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1684">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1685">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil      unify_arrays_with_all_tails(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1686">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1687">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1688">
          
          
          <code class="ruby">        &#39;Cannot unify enough elements: Goal1.[Goal1.1, Goal1.2, Goal1.3, ...] with [Goal2.:a, Goal2.1]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1689">
          
          
          <code class="ruby">        &#39;Cannot unify because Goal1.[Goal1.1, Goal1.2, Goal1.3, ...] != [:a, 1] (variable/array != array)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1690">
          
          
          <code class="ruby">        &#39;Cannot unify embedded arrays: :a with [:a, 1]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1691">
          
          
          <code class="ruby">      ], g1.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1692">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1693">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1694">
          
          
          <code class="ruby">        &#39;Cannot unify enough elements: Goal1.[Goal1.1, Goal1.2, Goal1.3, ...] with [Goal2.:a, Goal2.1]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1695">
          
          
          <code class="ruby">        &#39;Cannot unify because Goal1.[Goal1.1, Goal1.2, Goal1.3, ...] != [:a, 1] (variable/array != array)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1696">
          
          
          <code class="ruby">        &#39;Cannot unify embedded arrays: :a with [:a, 1]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1697">
          
          
          <code class="ruby">      ], g2.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1698">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1699">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1700">
          
          
          <code class="ruby">        &#39;Cannot unify embedded arrays: :a with [:a, 1]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1701">
          
          
          <code class="ruby">      ], g3.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1702">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1703">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1704">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify arrays where all embedded variables can be unified&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1705">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1706">
          <span class="hits">1</span>
          
          <code class="ruby">        [g1.variable(:a), g1.value(2), g1.variable(:c), g1.value(4)],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1707">
          
          
          <code class="ruby">        [g2.value(1), g1.variable(:b), g2.value(3), UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1708">
          
          
          <code class="ruby">        [:a, :b, Tail.new([3,:d])],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1709">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1710">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1711">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1712">
          <span class="hits">1</span>
          
          <code class="ruby">      assert arrays.map(&amp;:headtail?).none?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1713">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1714">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged = [1,2,3,4]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1715">
          
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1716">
          <span class="hits">1</span>
          
          <code class="ruby">        [g1.variable(:a), g2.value(1),      g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1717">
          
          
          <code class="ruby">        [g1.variable(:a), g3.variable(:a),  g1, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1718">
          
          
          <code class="ruby">        [g3.variable(:a), g2.value(1),      g3, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1719">
          
          
          <code class="ruby">        [g1.variable(:b), g1.value(2),      g1, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1720">
          
          
          <code class="ruby">        [g3.variable(:b), g1.value(2),      g3, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1721">
          
          
          <code class="ruby">        [g1.variable(:b), g3.variable(:b),  g1, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1722">
          
          
          <code class="ruby">        [g1.variable(:c), g2.value(3),      g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1723">
          
          
          <code class="ruby">        [g1.variable(:c), g3.value(3),      g1, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1724">
          
          
          <code class="ruby">        [g3.variable(:d), g1.value(4),      g3, g1]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1725">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1726">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_arrays_with_all_tails(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1727">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1728">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [], g1.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1729">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [], g2.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1730">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [], g3.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1731">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1732">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_merged,        merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1733">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_unifications,  unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1734">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1735">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1736">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify embedded arrays where all embedded variables can be unified&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1737">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1738">
          <span class="hits">1</span>
          
          <code class="ruby">        :e,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1739">
          
          
          <code class="ruby">        [[1],[2],[3],[4]],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1740">
          
          
          <code class="ruby">        [[1],[2],[3],[4]],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1741">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1742">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1743">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1744">
          <span class="hits">1</span>
          
          <code class="ruby">      assert arrays.map(&amp;:headtail?).none?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1745">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1746">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged = [[1],[2],[3],[4]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1747">
          
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1748">
          <span class="hits">1</span>
          
          <code class="ruby">        [:e, [[1], [2], [3], [4]], g1, g2]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1749">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1750">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_arrays_with_all_tails(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1751">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1752">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [], g1.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1753">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [], g2.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1754">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [], g3.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1755">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1756">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_merged,        merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1757">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    expected_unifications,  unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1758">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1759">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1760">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1761">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1762">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#unify_tail_with_tail&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1763">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1764">
          <span class="hits">6</span>
          
          <code class="ruby">    let(:g1)    { new_goal(:p, :x, :y) }</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1765">
          <span class="hits">6</span>
          
          <code class="ruby">    let(:g2)    { new_goal(:q, :a, :b) }</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1766">
          <span class="hits">6</span>
          
          <code class="ruby">    let(:g3)    { new_goal(:r, :s, :t) }</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1767">
          <span class="hits">6</span>
          
          <code class="ruby">    let(:g4)    { new_goal(:j, :k, :l) }</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1768">
          <span class="hits">6</span>
          
          <code class="ruby">    let(:goals) { [g1, g2, g3, g4]     }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1769">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1770">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should reject a non-headtail array&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1771">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1772">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,Tail.new([2,3])],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1773">
          
          
          <code class="ruby">        [4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1774">
          
          
          <code class="ruby">        [7,UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1775">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1776">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1777">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1778">
          <span class="hits">1</span>
          
          <code class="ruby">      refute              arrays.all?(&amp;:headtail?)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1779">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1780">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil          unify_tail_with_tail(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1781">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1782">
          <span class="hits">1</span>
          
          <code class="ruby">      msg = &#39;Wrong method called to unify [[1, *[2, 3]], [4], [7, ...]]&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1783">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1784">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal        [msg],      g1.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1785">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal        [msg],      g2.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1786">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal        [msg],      g3.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1787">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1788">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1789">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should process more than two arrays that are a non-headtail&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1790">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1791">
          <span class="hits">1</span>
          
          <code class="ruby">        [1, 2, Tail.new([3,4])],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1792">
          
          
          <code class="ruby">        [:a, :b]/:c,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1793">
          
          
          <code class="ruby">        [:d, :e, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1794">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1795">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1796">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1797">
          <span class="hits">4</span>
          
          <code class="ruby">      assert        arrays.all?{|array| has_tail?(array, false) }</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1798">
          <span class="hits">1</span>
          
          <code class="ruby">      assert        arrays.map(&amp;:headtail?).map(&amp;:!).all?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1799">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1800">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_tail_with_tail(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1801">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1802">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged = [1,2,3,4]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1803">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1804">
          
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1805">
          <span class="hits">1</span>
          
          <code class="ruby">        [g2.variable(:a), g1.value(1),          g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1806">
          
          
          <code class="ruby">        [g3.variable(:d), g1.value(1),          g3, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1807">
          
          
          <code class="ruby">        [g2.variable(:a), g3.variable(:d),      g2, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1808">
          
          
          <code class="ruby">        [g2.variable(:b), g1.value(2),          g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1809">
          
          
          <code class="ruby">        [g3.variable(:e), g1.value(2),          g3, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1810">
          
          
          <code class="ruby">        [g2.variable(:b), g3.variable(:e),      g2, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1811">
          
          
          <code class="ruby">        [g2.variable(:c), g1.variablise([3,4]), g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1812">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1813">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1814">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  expected_merged,        merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1815">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal  expected_unifications,  unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1816">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1817">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1818">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify arrays of different lengths&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1819">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1820">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,   2,   UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1821">
          
          
          <code class="ruby">        [nil, nil, 3,   4,   UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1822">
          
          
          <code class="ruby">        [nil, nil, nil, nil, 5, 6, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1823">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1824">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1825">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1826">
          <span class="hits">4</span>
          
          <code class="ruby">      assert        arrays.all?{|array| has_tail?(array) }</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1827">
          <span class="hits">1</span>
          
          <code class="ruby">      assert        arrays.map(&amp;:headtail?).map(&amp;:!).all?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1828">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1829">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_tail_with_tail(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1830">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1831">
          
          
          <code class="ruby">      expected_merged = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1832">
          <span class="hits">1</span>
          
          <code class="ruby">        g1.value(1),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1833">
          
          
          <code class="ruby">        g1.value(2),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1834">
          
          
          <code class="ruby">        g2.value(3),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1835">
          
          
          <code class="ruby">        g2.value(4),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1836">
          
          
          <code class="ruby">        g3.value(5),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1837">
          
          
          <code class="ruby">        g3.value(6),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1838">
          
          
          <code class="ruby">        UNKNOWN_TAIL,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1839">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1840">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1841">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1842">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1843">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1844">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal expected_merged,       merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1845">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal expected_unifications, unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1846">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1847">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1848">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify all combinations of tails and tails&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1849">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1850">
          <span class="hits">1</span>
          
          <code class="ruby">        [:a,:b]/:c,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1851">
          
          
          <code class="ruby">        [:d,:e]/:f,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1852">
          
          
          <code class="ruby">        [:g,:h]/:i,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1853">
          
          
          <code class="ruby">        [:j,:k]/:l,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1854">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1855">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1856">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="1857">
          <span class="hits">5</span>
          
          <code class="ruby">      assert        arrays.all?{|array| has_tail?(array) }</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1858">
          <span class="hits">1</span>
          
          <code class="ruby">      assert        arrays.map(&amp;:headtail?).map(&amp;:!).all?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1859">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1860">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_tail_with_tail(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1861">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1862">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged = [nil, nil, UNKNOWN_TAIL]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1863">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1864">
          
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1865">
          <span class="hits">1</span>
          
          <code class="ruby">        [g1[:a], g2[:d], g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1866">
          
          
          <code class="ruby">        [g1[:a], g3[:g], g1, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1867">
          
          
          <code class="ruby">        [g1[:a], g4[:j], g1, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1868">
          
          
          <code class="ruby">        [g2[:d], g3[:g], g2, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1869">
          
          
          <code class="ruby">        [g2[:d], g4[:j], g2, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1870">
          
          
          <code class="ruby">        [g3[:g], g4[:j], g3, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1871">
          
          
          <code class="ruby">        [g1[:b], g2[:e], g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1872">
          
          
          <code class="ruby">        [g1[:b], g3[:h], g1, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1873">
          
          
          <code class="ruby">        [g1[:b], g4[:k], g1, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1874">
          
          
          <code class="ruby">        [g2[:e], g3[:h], g2, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1875">
          
          
          <code class="ruby">        [g2[:e], g4[:k], g2, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1876">
          
          
          <code class="ruby">        [g3[:h], g4[:k], g3, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1877">
          
          
          <code class="ruby">        [g1[:c], g2[:f], g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1878">
          
          
          <code class="ruby">        [g1[:c], g3[:i], g1, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1879">
          
          
          <code class="ruby">        [g1[:c], g4[:l], g1, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1880">
          
          
          <code class="ruby">        [g2[:f], g3[:i], g2, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1881">
          
          
          <code class="ruby">        [g2[:f], g4[:l], g2, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1882">
          
          
          <code class="ruby">        [g3[:i], g4[:l], g3, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1883">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1884">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1885">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal expected_merged,       merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1886">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal expected_unifications, unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1887">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1888">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1889">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should not unify ununifiable arrays&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1890">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1891">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,2,3,4,UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1892">
          
          
          <code class="ruby">        [1,4,3,2,UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1893">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1894">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1895">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="1896">
          <span class="hits">3</span>
          
          <code class="ruby">      assert        arrays.all?{|array| has_tail?(array) }</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1897">
          <span class="hits">1</span>
          
          <code class="ruby">      assert        arrays.map(&amp;:headtail?).map(&amp;:!).all?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1898">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1899">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil    unify_tail_with_tail(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1900">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1901">
          
          
          <code class="ruby">      expected_log = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1902">
          <span class="hits">1</span>
          
          <code class="ruby">        &#39;Cannot unify incompatible values: 2 with 4&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1903">
          
          
          <code class="ruby">        &#39;Cannot unify Goal1.2 with Goal2.4&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1904">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1905">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1906">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="1907">
          <span class="hits">2</span>
          
          <code class="ruby">        assert_equal    expected_log,   goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1908">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1909">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1910">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1911">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1912">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1913">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#unify_headtail_with_tail&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1914">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1915">
          <span class="hits">10</span>
          
          <code class="ruby">    let(:g1)    { new_goal(:p, :x, :y) }</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1916">
          <span class="hits">10</span>
          
          <code class="ruby">    let(:g2)    { new_goal(:q, :a, :b) }</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1917">
          <span class="hits">10</span>
          
          <code class="ruby">    let(:g3)    { new_goal(:r, :s, :t) }</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1918">
          <span class="hits">10</span>
          
          <code class="ruby">    let(:g4)    { new_goal(:j, :k, :l) }</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1919">
          <span class="hits">10</span>
          
          <code class="ruby">    let(:goals) { [g1, g2, g3, g4]     }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1920">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1921">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should reject a non-tail array&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1922">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1923">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,Tail.new([2,3])],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1924">
          
          
          <code class="ruby">        [4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1925">
          
          
          <code class="ruby">        [1,2,3,7,UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1926">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1927">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1928">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="1929">
          <span class="hits">2</span>
          
          <code class="ruby">      refute              arrays.all?{|array| has_tail?(array) }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1930">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1931">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil          unify_headtail_with_tail(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1932">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1933">
          <span class="hits">1</span>
          
          <code class="ruby">      msg = &#39;Wrong method called to unify [[1, *[2, 3]], [4], [1, 2, 3, 7, ...]]&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1934">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1935">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal        [msg],      g1.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1936">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal        [msg],      g2.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1937">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal        [msg],      g3.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1938">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1939">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1940">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify more than two arrays that have a tail&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1941">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1942">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,  Tail.new([2,3])],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1943">
          
          
          <code class="ruby">        [:a, :b]/:f,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1944">
          
          
          <code class="ruby">        [:c, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1945">
          
          
          <code class="ruby">        [:d, :e, UNKNOWN_TAIL]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1946">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1947">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1948">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="1949">
          <span class="hits">5</span>
          
          <code class="ruby">      assert              arrays.all?{|array| has_tail?(array, false) }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1950">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1951">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_headtail_with_tail(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1952">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1953">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged = [1,2,3]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1954">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1955">
          
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1956">
          <span class="hits">1</span>
          
          <code class="ruby">        [g3[:c], g1[1],   g3, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1957">
          
          
          <code class="ruby">        [g2[:a], g4[:d],  g2, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1958">
          
          
          <code class="ruby">        [g2[:b], g4[:e],  g2, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1959">
          
          
          <code class="ruby">        [g2[:a], g1[1],   g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1960">
          
          
          <code class="ruby">        [g2[:b], g1[2],   g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1961">
          
          
          <code class="ruby">        [g2[:f], [3],     g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1962">
          
          
          <code class="ruby">        [g4[:d], g1[1],   g4, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1963">
          
          
          <code class="ruby">        [g4[:e], g1[2],   g4, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1964">
          
          
          <code class="ruby">        [g3[:c], g2[:a],  g3, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1965">
          
          
          <code class="ruby">        [g3[:c], g4[:d],  g3, g4]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1966">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1967">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1968">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal expected_merged,       merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1969">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal expected_unifications, unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1970">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1971">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1972">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify unifiable arrays with different length tails&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1973">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1974">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,  UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1975">
          
          
          <code class="ruby">        [:a, :b, :c, :d]/:f,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1976">
          
          
          <code class="ruby">        [:c, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1977">
          
          
          <code class="ruby">        [:d, 2, UNKNOWN_TAIL]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1978">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1979">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1980">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="1981">
          <span class="hits">5</span>
          
          <code class="ruby">      assert              arrays.all?{|array| has_tail?(array, false) }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1982">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1983">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_headtail_with_tail(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1984">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1985">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged = [1,2,nil,nil,UNKNOWN_TAIL]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1986">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1987">
          
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1988">
          <span class="hits">1</span>
          
          <code class="ruby">        [g3[:c], g1[1],   g3, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1989">
          
          
          <code class="ruby">        [g2[:a], g4[:d],  g2, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1990">
          
          
          <code class="ruby">        [g2[:b], g4[2],   g2, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1991">
          
          
          <code class="ruby">        [g2[:a], g1[1],   g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1992">
          
          
          <code class="ruby">        [g4[:d], g1[1],   g4, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1993">
          
          
          <code class="ruby">        [g3[:c], g2[:a],  g3, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1994">
          
          
          <code class="ruby">        [g3[:c], g4[:d],  g3, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1995">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1996">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1997">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal expected_merged,       merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1998">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal expected_unifications, unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1999">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2000">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2001">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should not unify unifiable heads across a headtail and an array with a tail&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2002">
          <span class="hits">1</span>
          
          <code class="ruby">      g1.instantiate :h, 1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2003">
          <span class="hits">1</span>
          
          <code class="ruby">      g2.instantiate :h, 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2004">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2005">
          <span class="hits">1</span>
          
          <code class="ruby">        [:h]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2006">
          
          
          <code class="ruby">        [:h,:b]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2007">
          
          
          <code class="ruby">        [:h]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2008">
          
          
          <code class="ruby">        [:h]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2009">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2010">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2011">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2012">
          <span class="hits">5</span>
          
          <code class="ruby">      assert              arrays.all?{|array| has_tail?(array, false) },  &#39;all arrays should have a tail&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2013">
          <span class="hits">1</span>
          
          <code class="ruby">      refute              arrays.map(&amp;:headtail?).all?,                   &#39;not all arrays should be a headtail array&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2014">
          <span class="hits">1</span>
          
          <code class="ruby">      refute              arrays.map(&amp;:headtail?).map(&amp;:!).all?,          &#39;not all arrays should be an array with a tail&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2015">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2016">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil          unify_headtail_with_tail(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2017">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2018">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2019">
          
          
          <code class="ruby">        &#39;Cannot unify because 1 != 2 (variable != variable)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2020">
          
          
          <code class="ruby">        &#39;Cannot unify heads: Goal1.:h with Goal2.:h&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2021">
          
          
          <code class="ruby">      ],   g1.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2022">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2023">
          
          
          <code class="ruby">        &#39;Cannot unify because 1 != 2 (variable != variable)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2024">
          
          
          <code class="ruby">        &#39;Cannot unify heads: Goal1.:h with Goal2.:h&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2025">
          
          
          <code class="ruby">      ],   g2.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2026">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2027">
          
          
          <code class="ruby">      ],   g3.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2028">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2029">
          
          
          <code class="ruby">      ],   g4.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2030">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2031">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2032">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should not unify tails with different values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2033">
          <span class="hits">1</span>
          
          <code class="ruby">      g1.instantiate :t, [2,3]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2034">
          <span class="hits">1</span>
          
          <code class="ruby">      g2.instantiate :t, [2,4]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2035">
          <span class="hits">1</span>
          
          <code class="ruby">      g3.instantiate :t, 4</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2036">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2037">
          <span class="hits">1</span>
          
          <code class="ruby">        [:h]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2038">
          
          
          <code class="ruby">        [:h]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2039">
          
          
          <code class="ruby">        [:h,:b]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2040">
          
          
          <code class="ruby">        [:h]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2041">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2042">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2043">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2044">
          <span class="hits">5</span>
          
          <code class="ruby">      assert              arrays.all?{|array| has_tail?(array, false) },  &#39;all arrays should have a tail&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2045">
          <span class="hits">1</span>
          
          <code class="ruby">      refute              arrays.map(&amp;:headtail?).all?,                   &#39;not all arrays should be a headtail array&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2046">
          <span class="hits">1</span>
          
          <code class="ruby">      refute              arrays.map(&amp;:headtail?).map(&amp;:!).all?,          &#39;not all arrays should be an array with a tail&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2047">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2048">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil          unify_headtail_with_tail(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2049">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2050">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2051">
          
          
          <code class="ruby">        &#39;Cannot unify because [2, 3] != [2, 4] (variable != variable)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2052">
          
          
          <code class="ruby">        &#39;Cannot unify headtail tails: Goal1.:t with Goal2.:t&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2053">
          
          
          <code class="ruby">        &#39;Could not unify headtail arrays: [Goal1.:h, Goal1.2, Goal1.3] with [Goal2.:h, Goal2.2, Goal2.4] with [Goal4.:h, *Goal4.:t]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2054">
          
          
          <code class="ruby">      ],   g1.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2055">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2056">
          
          
          <code class="ruby">        &#39;Cannot unify because [2, 3] != [2, 4] (variable != variable)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2057">
          
          
          <code class="ruby">        &#39;Cannot unify headtail tails: Goal1.:t with Goal2.:t&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2058">
          
          
          <code class="ruby">        &#39;Could not unify headtail arrays: [Goal1.:h, Goal1.2, Goal1.3] with [Goal2.:h, Goal2.2, Goal2.4] with [Goal4.:h, *Goal4.:t]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2059">
          
          
          <code class="ruby">      ],   g2.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2060">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal        [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2061">
          
          
          <code class="ruby">      ],   g3.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2062">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal        [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2063">
          
          
          <code class="ruby">        &#39;Could not unify headtail arrays: [Goal1.:h, Goal1.2, Goal1.3] with [Goal2.:h, Goal2.2, Goal2.4] with [Goal4.:h, *Goal4.:t]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2064">
          
          
          <code class="ruby">      ],   g4.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2065">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2066">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2067">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should not unify variable length arrays that have been instantiatd to different lengths&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2068">
          <span class="hits">1</span>
          
          <code class="ruby">      g1.instantiate :t, [2,3]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2069">
          <span class="hits">1</span>
          
          <code class="ruby">      g2.instantiate :t, 3</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2070">
          <span class="hits">1</span>
          
          <code class="ruby">      g3.instantiate :t, [2,3,4]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2071">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2072">
          <span class="hits">1</span>
          
          <code class="ruby">        [:h]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2073">
          
          
          <code class="ruby">        [:h,:b]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2074">
          
          
          <code class="ruby">        [:h]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2075">
          
          
          <code class="ruby">        [:h]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2076">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2077">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2078">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2079">
          <span class="hits">5</span>
          
          <code class="ruby">      assert              arrays.all?{|array| has_tail?(array, false) },  &#39;all arrays should have a tail&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2080">
          <span class="hits">1</span>
          
          <code class="ruby">      refute              arrays.map(&amp;:headtail?).all?,                   &#39;not all arrays should be a headtail array&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2081">
          <span class="hits">1</span>
          
          <code class="ruby">      refute              arrays.map(&amp;:headtail?).map(&amp;:!).all?,          &#39;not all arrays should be an array with a tail&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2082">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2083">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil      unify_headtail_with_tail(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2084">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2085">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2086">
          
          
          <code class="ruby">      ], g1.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2087">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2088">
          
          
          <code class="ruby">      ], g2.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2089">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2090">
          
          
          <code class="ruby">        &#39;Cannot unify [Goal3.:h, Goal3.2, Goal3.3, Goal3.4] because it has a different length from 3&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2091">
          
          
          <code class="ruby">      ], g3.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2092">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2093">
          
          
          <code class="ruby">      ], g4.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2094">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2095">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2096">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should not unify incompatible tails&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2097">
          <span class="hits">1</span>
          
          <code class="ruby">      g1.instantiate :t, [2,3]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2098">
          <span class="hits">1</span>
          
          <code class="ruby">      g2.instantiate :b, 2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2099">
          <span class="hits">1</span>
          
          <code class="ruby">      g2.instantiate :t, [3]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2100">
          <span class="hits">1</span>
          
          <code class="ruby">      g3.instantiate :t, [4]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2101">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2102">
          <span class="hits">1</span>
          
          <code class="ruby">        [:h]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2103">
          
          
          <code class="ruby">        [:h,:b]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2104">
          
          
          <code class="ruby">        [:h,:b]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2105">
          
          
          <code class="ruby">        [:h]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2106">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2107">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2108">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2109">
          <span class="hits">5</span>
          
          <code class="ruby">      assert              arrays.all?{|array| has_tail?(array, false) },  &#39;all arrays should have a tail&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2110">
          <span class="hits">1</span>
          
          <code class="ruby">      refute              arrays.map(&amp;:headtail?).all?,                   &#39;not all arrays should be a headtail array&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2111">
          <span class="hits">1</span>
          
          <code class="ruby">      refute              arrays.map(&amp;:headtail?).map(&amp;:!).all?,          &#39;not all arrays should be an array with a tail&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2112">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2113">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil    unify_headtail_with_tail(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2114">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2115">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2116">
          
          
          <code class="ruby">      ], g1.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2117">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2118">
          
          
          <code class="ruby">        &#39;Cannot unify incompatible values: 3 with 4&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2119">
          
          
          <code class="ruby">        &#39;Cannot unify: [3] with [4]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2120">
          
          
          <code class="ruby">      ], g2.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2121">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2122">
          
          
          <code class="ruby">        &#39;Cannot unify incompatible values: 3 with 4&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2123">
          
          
          <code class="ruby">        &#39;Cannot unify: [3] with [4]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2124">
          
          
          <code class="ruby">      ], g3.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2125">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2126">
          
          
          <code class="ruby">      ], g4.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2127">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2128">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2129">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should expand tails that overlap extended heads&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2130">
          <span class="hits">1</span>
          
          <code class="ruby">      g1.instantiate :t, [3,3]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2131">
          <span class="hits">1</span>
          
          <code class="ruby">      g2.instantiate :b, 2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2132">
          <span class="hits">1</span>
          
          <code class="ruby">      g2.instantiate :t, [3]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2133">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2134">
          <span class="hits">1</span>
          
          <code class="ruby">        [:h]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2135">
          
          
          <code class="ruby">        [:h,:b]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2136">
          
          
          <code class="ruby">        [:h,:b]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2137">
          
          
          <code class="ruby">        [:h]/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2138">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2139">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2140">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2141">
          <span class="hits">5</span>
          
          <code class="ruby">      assert              arrays.all?{|array| has_tail?(array, false) },  &#39;all arrays should have a tail&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2142">
          <span class="hits">1</span>
          
          <code class="ruby">      refute              arrays.map(&amp;:headtail?).all?,                   &#39;not all arrays should be a headtail array&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2143">
          <span class="hits">1</span>
          
          <code class="ruby">      refute              arrays.map(&amp;:headtail?).map(&amp;:!).all?,          &#39;not all arrays should be an array with a tail&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2144">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2145">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil        unify_headtail_with_tail(arrays, arrays_goals, []), name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2146">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2147">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2148">
          
          
          <code class="ruby">        &#39;Cannot unify incompatible values: 3 with 2&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2149">
          
          
          <code class="ruby">        &#39;Cannot unify because Goal1.[3, 3] != [Goal2.:b, *Goal2.:t] (variable/array != array)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2150">
          
          
          <code class="ruby">        &#39;Cannot unify tails: Goal1.:t with [Goal2.:b, *Goal2.:t]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2151">
          
          
          <code class="ruby">      ], g1.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2152">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2153">
          
          
          <code class="ruby">        &#39;Cannot unify incompatible values: 3 with 2&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2154">
          
          
          <code class="ruby">        &#39;Cannot unify because Goal1.[3, 3] != [Goal2.:b, *Goal2.:t] (variable/array != array)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2155">
          
          
          <code class="ruby">        &#39;Cannot unify tails: Goal1.:t with [Goal2.:b, *Goal2.:t]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2156">
          
          
          <code class="ruby">      ], g2.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2157">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2158">
          
          
          <code class="ruby">      ], g3.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2159">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2160">
          
          
          <code class="ruby">      ], g4.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2161">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2162">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2163">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;prioritises X over Y when merging&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2164">
          
          
          <code class="ruby">      # -- atomic over known array over non-array over unknown array/tail --</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2165">
          
          
          <code class="ruby">      # atomic over known</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2166">
          
          
          <code class="ruby">      #             known array over non-array</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2167">
          
          
          <code class="ruby">      #                              non-array over unknown array/tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2168">
          
          
          <code class="ruby">      # atomic over                  non-array</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2169">
          
          
          <code class="ruby">      #                   array over                unknown array/tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2170">
          
          
          <code class="ruby">      # atomic over                                 unknown array/tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2171">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2172">
          <span class="hits">1</span>
          
          <code class="ruby">      g1.instantiate :t, [1,2,3]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2173">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2174">
          <span class="hits">1</span>
          
          <code class="ruby">        :h/:t,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2175">
          
          
          <code class="ruby">        UNKNOWN_ARRAY,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2176">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2177">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2178">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2179">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_headtail_with_tail(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2180">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2181">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged       = [nil, 1, 2, 3]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2182">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_unifications = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2183">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2184">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal expected_merged,       merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2185">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal expected_unifications, unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2186">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2187">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2188">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2189">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2190">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#unify_headtail_with_headtail&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2191">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2192">
          <span class="hits">5</span>
          
          <code class="ruby">    let(:g1)    { new_goal(:p, :x, :y) }</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2193">
          <span class="hits">5</span>
          
          <code class="ruby">    let(:g2)    { new_goal(:q, :a, :b) }</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2194">
          <span class="hits">5</span>
          
          <code class="ruby">    let(:g3)    { new_goal(:r, :s, :t) }</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2195">
          <span class="hits">5</span>
          
          <code class="ruby">    let(:g4)    { new_goal(:j, :k, :l) }</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2196">
          <span class="hits">5</span>
          
          <code class="ruby">    let(:goals) { [g1, g2, g3, g4]     }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2197">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2198">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should reject a non-headtail array&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2199">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2200">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,Tail.new([2,3])],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2201">
          
          
          <code class="ruby">        [4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2202">
          
          
          <code class="ruby">        [7,UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2203">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2204">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2205">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2206">
          <span class="hits">1</span>
          
          <code class="ruby">      refute              arrays.all?(&amp;:headtail?)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2207">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2208">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil          unify_headtail_with_headtail(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2209">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2210">
          <span class="hits">1</span>
          
          <code class="ruby">      msg = &#39;Wrong method called to unify [[1, *[2, 3]], [4], [7, ...]]&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2211">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2212">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="2213">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_equal        [msg],      goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2214">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2215">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2216">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2217">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should not unify unequal heads&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2218">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2219">
          <span class="hits">1</span>
          
          <code class="ruby">        [1,Tail.new([2,3])],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2220">
          
          
          <code class="ruby">        [4]/:y,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2221">
          
          
          <code class="ruby">        [7,UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2222">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2223">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2224">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2225">
          <span class="hits">1</span>
          
          <code class="ruby">      assert              arrays.all?(&amp;:headtail?), &quot;arrays should all be headtails: #{arrays.reject(&amp;:headtail?).map(&amp;:inspect).join(&#39; and &#39;)}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2226">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2227">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_nil          unify_headtail_with_headtail(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2228">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2229">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2230">
          
          
          <code class="ruby">        &#39;Cannot unify because 1 != 4 (atomic != atomic)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2231">
          
          
          <code class="ruby">        &#39;Cannot unify headtail heads: &quot;1 with 4&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2232">
          
          
          <code class="ruby">      ], g1.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2233">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2234">
          
          
          <code class="ruby">        &#39;Cannot unify because 1 != 4 (atomic != atomic)&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2235">
          
          
          <code class="ruby">        &#39;Cannot unify headtail heads: &quot;1 with 4&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2236">
          
          
          <code class="ruby">      ], g2.log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2237">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2238">
          
          
          <code class="ruby">      ], g3.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2239">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2240">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2241">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should process more than two arrays that are a headtail&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2242">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2243">
          <span class="hits">1</span>
          
          <code class="ruby">        [1, Tail.new([2,3])],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2244">
          
          
          <code class="ruby">        [:a]/:f,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2245">
          
          
          <code class="ruby">        [:c, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2246">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2247">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2248">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2249">
          <span class="hits">1</span>
          
          <code class="ruby">      assert              arrays.all?(&amp;:headtail?)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2250">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2251">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_headtail_with_headtail(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2252">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2253">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged = [1,2,3]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2254">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2255">
          
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2256">
          <span class="hits">1</span>
          
          <code class="ruby">        [:a, 1,             g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2257">
          
          
          <code class="ruby">        [:f, [2,3],         g2, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2258">
          
          
          <code class="ruby">        [:c, 1,             g3, g1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2259">
          
          
          <code class="ruby">        [:a, :c,            g2, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2260">
          
          
          <code class="ruby">        [:f, UNKNOWN_TAIL,  g2, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2261">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2262">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2263">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal expected_merged,       merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2264">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal expected_unifications, unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2265">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2266">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="2267">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_equal        [],         goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2268">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2269">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2270">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2271">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should unify all combinations of heads and tails&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2272">
          
          
          <code class="ruby">      arrays = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2273">
          <span class="hits">1</span>
          
          <code class="ruby">        [:a]/:b,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2274">
          
          
          <code class="ruby">        [:c]/:d,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2275">
          
          
          <code class="ruby">        [:e]/:f,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2276">
          
          
          <code class="ruby">        [:g]/:h,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2277">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2278">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals = goals[0...arrays.size]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2279">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2280">
          <span class="hits">1</span>
          
          <code class="ruby">      assert              arrays.all?(&amp;:headtail?)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2281">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2282">
          <span class="hits">1</span>
          
          <code class="ruby">      merged, unifications = unify_headtail_with_headtail(arrays, arrays_goals, [])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2283">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2284">
          <span class="hits">1</span>
          
          <code class="ruby">      expected_merged = [nil, UNKNOWN_TAIL]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2285">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2286">
          
          
          <code class="ruby">      expected_unifications = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2287">
          <span class="hits">1</span>
          
          <code class="ruby">        [:a, :c, g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2288">
          
          
          <code class="ruby">        [:b, :d, g1, g2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2289">
          
          
          <code class="ruby">        [:a, :e, g1, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2290">
          
          
          <code class="ruby">        [:b, :f, g1, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2291">
          
          
          <code class="ruby">        [:a, :g, g1, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2292">
          
          
          <code class="ruby">        [:b, :h, g1, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2293">
          
          
          <code class="ruby">        [:c, :e, g2, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2294">
          
          
          <code class="ruby">        [:d, :f, g2, g3],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2295">
          
          
          <code class="ruby">        [:c, :g, g2, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2296">
          
          
          <code class="ruby">        [:d, :h, g2, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2297">
          
          
          <code class="ruby">        [:e, :g, g3, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2298">
          
          
          <code class="ruby">        [:f, :h, g3, g4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2299">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2300">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2301">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal expected_merged,       merged</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2302">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal expected_unifications, unifications</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2303">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2304">
          <span class="hits">1</span>
          
          <code class="ruby">      arrays_goals.each do |goal|</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="2305">
          <span class="hits">4</span>
          
          <code class="ruby">        assert_equal        [],         goal.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2306">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2307">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2308">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2309">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2310">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2311">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#builtin&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2312">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2313">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should create a Predicate&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2314">
          
          
          <code class="ruby">      # -- Precondition Baseline --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2315">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal      0,                Scope[:default].predicates.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2316">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2317">
          
          
          <code class="ruby">      # -- Test --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2318">
          <span class="hits">1</span>
          
          <code class="ruby">      single_predicate = builtin :member</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2319">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2320">
          
          
          <code class="ruby">      # -- Compare Result Against Baseline --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2321">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal      1,                Scope[:default].predicates.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2322">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal      :member,          Scope[:default].predicates.first.name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2323">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Predicate  single_predicate, :member, []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2324">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2325">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2326">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should define a method to create Arguments for solving&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2327">
          <span class="hits">1</span>
          
          <code class="ruby">      Object.class_eval{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2328">
          <span class="hits">1</span>
          
          <code class="ruby">        remove_method(:member) if public_method_defined?(:member)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2329">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2330">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2331">
          <span class="hits">1</span>
          
          <code class="ruby">      refute                    respond_to?(:member)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2332">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2333">
          <span class="hits">1</span>
          
          <code class="ruby">      builtin :member</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2334">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2335">
          <span class="hits">1</span>
          
          <code class="ruby">      assert                    respond_to?(:member)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2336">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Arguments          member(:X, [&#39;left&#39;,&#39;right&#39;]),   :member, [:X, [&#39;left&#39;,&#39;right&#39;]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2337">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2338">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_includes           methods,                        :member</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2339">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2340">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2341">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should create multiple Predicates&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2342">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal              0,        Scope[:default].predicates.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2343">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2344">
          <span class="hits">1</span>
          
          <code class="ruby">      multiple_predicates = builtin :member, :append, :is</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2345">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2346">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal              3,        Scope[:default].predicates.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2347">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal              :member,  Scope[:default].predicates[0].name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2348">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal              :append,  Scope[:default].predicates[1].name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2349">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal              :is,      Scope[:default].predicates[2].name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2350">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_instance_of        Array,    multiple_predicates</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2351">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal              3,        multiple_predicates.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2352">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Predicate          multiple_predicates[0], :member,  []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2353">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Predicate          multiple_predicates[1], :append,  []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2354">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Predicate          multiple_predicates[2], :is,      []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2355">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2356">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2357">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should define multiple methods to create Arguments for solving&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2358">
          <span class="hits">1</span>
          
          <code class="ruby">      Object.class_eval{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2359">
          <span class="hits">1</span>
          
          <code class="ruby">        remove_method(:member) if public_method_defined?(:member)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2360">
          <span class="hits">1</span>
          
          <code class="ruby">        remove_method(:append) if public_method_defined?(:append)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2361">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2362">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2363">
          <span class="hits">1</span>
          
          <code class="ruby">      refute                    respond_to?(:member)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2364">
          <span class="hits">1</span>
          
          <code class="ruby">      refute                    respond_to?(:append)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2365">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2366">
          <span class="hits">1</span>
          
          <code class="ruby">      builtin :member, :append</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2367">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2368">
          <span class="hits">1</span>
          
          <code class="ruby">      assert                    respond_to?(:member)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2369">
          <span class="hits">1</span>
          
          <code class="ruby">      assert                    respond_to?(:append)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2370">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Arguments          member(:X, :L),       :member, [:X, :L]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2371">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Arguments          append(:A, :B, :AB),  :append, [:A, :B, :AB]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2372">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2373">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2374">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should define a method in a base class as an instance method and a class method&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2375">
          <span class="hits">1</span>
          
          <code class="ruby">      Object.class_eval{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2376">
          <span class="hits">1</span>
          
          <code class="ruby">        remove_method(:member) if public_method_defined?(:member)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2377">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2378">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2379">
          <span class="hits">1</span>
          
          <code class="ruby">      class Base2 ; end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2380">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2381">
          <span class="hits">1</span>
          
          <code class="ruby">      refute_includes   Base2.methods,            :member</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2382">
          <span class="hits">1</span>
          
          <code class="ruby">      refute_includes   Base2.instance_methods,   :member</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2383">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2384">
          <span class="hits">1</span>
          
          <code class="ruby">      builtin :member, class_base: Base2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2385">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2386">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_includes   Base2.methods,            :member</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2387">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_includes   Base2.instance_methods,   :member</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2388">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2389">
          <span class="hits">1</span>
          
          <code class="ruby">      refute_includes   methods,                  :member</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2390">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2391">
          <span class="hits">1</span>
          
          <code class="ruby">      class Base2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2392">
          <span class="hits">1</span>
          
          <code class="ruby">        def process</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2393">
          <span class="hits">1</span>
          
          <code class="ruby">          member(:X, [4,5,6]).solve_for(:X)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2394">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2395">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2396">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2397">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_solutions    Base2.member(:X, [1,2,3]),  [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2398">
          
          
          <code class="ruby">        { X: 1 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2399">
          
          
          <code class="ruby">        { X: 2 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2400">
          
          
          <code class="ruby">        { X: 3 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2401">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2402">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2403">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal        [4,5,6],    Base2.new.process</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2404">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2405">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2406">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2407">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2408">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;#_&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2409">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2410">
          <span class="hits">1</span>
          
          <code class="ruby">    let(:goal)  { new_goal :p, :x, :y }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2411">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2412">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should return a different variable on each call&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2413">
          
          
          <code class="ruby">      # _ is overridden by MiniTest</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2414">
          <span class="hits">1</span>
          
          <code class="ruby">      variable1 = Porolog._</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2415">
          <span class="hits">1</span>
          
          <code class="ruby">      variable2 = Porolog._</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2416">
          <span class="hits">1</span>
          
          <code class="ruby">      variable3 = Porolog._</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2417">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2418">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    :_a,            variable1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2419">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    :_b,            variable2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2420">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    :_c,            variable3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2421">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2422">
          <span class="hits">1</span>
          
          <code class="ruby">      refute_equal    variable1,      variable2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2423">
          <span class="hits">1</span>
          
          <code class="ruby">      refute_equal    variable2,      variable3</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2424">
          <span class="hits">1</span>
          
          <code class="ruby">      refute_equal    variable3,      variable1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2425">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2426">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2427">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2428">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2429">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="a734cbee67cc046ff91cdf05c1cc23374446867b">
  <div class="header">
    <h3>test/porolog/predicate/builtin_test.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>575</b> relevant lines. 
      <span class="green"><b>575</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   test/porolog/predicate/builtin_test.rb     - Test Suite for Porolog::Predicate::Builtin</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban      30 July 2020</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../../test_helper&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="10">
          <span class="hits">1</span>
          
          <code class="ruby">describe &#39;Porolog&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="12">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;Predicate&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="14">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;Builtin&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="16">
          <span class="hits">1</span>
          
          <code class="ruby">      before(:all) do</code>
        </li>
      
        <li class="covered" data-hits="140" data-linenumber="17">
          <span class="hits">140</span>
          
          <code class="ruby">        reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="20">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#write&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="22">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should output an atom&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="23">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_output &#39;hello&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="24">
          <span class="hits">1</span>
          
          <code class="ruby">            builtin :write</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="26">
          <span class="hits">1</span>
          
          <code class="ruby">            assert_solutions    write(&#39;hello&#39;), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="30">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should output an integer&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="31">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_output &#39;456&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="32">
          <span class="hits">1</span>
          
          <code class="ruby">            builtin :write</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="34">
          <span class="hits">1</span>
          
          <code class="ruby">            assert_solutions    write(456), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="38">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should output an uninstantiated variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="39">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_output &#39;:X&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="40">
          <span class="hits">1</span>
          
          <code class="ruby">            builtin :write</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="42">
          <span class="hits">1</span>
          
          <code class="ruby">            assert_solutions    write(:X), [{ X: nil }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="46">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should output an instantiated variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="47">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_output &#39;72&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="48">
          <span class="hits">1</span>
          
          <code class="ruby">            builtin :write, :is</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="49">
          <span class="hits">1</span>
          
          <code class="ruby">            predicate :inst</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="51">
          <span class="hits">1</span>
          
          <code class="ruby">            inst(:X, :Y) &lt;&lt; [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="52">
          <span class="hits">1</span>
          
          <code class="ruby">              is(:Y, :X) {|x| x + 4 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">              write(:Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">            ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="56">
          <span class="hits">1</span>
          
          <code class="ruby">            assert_solutions    inst(23 + 45, :Y), [{ Y: 72 }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="62">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#writenl&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="64">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should output an atom and a new line&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="65">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_output &quot;hello\n&quot; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="66">
          <span class="hits">1</span>
          
          <code class="ruby">            builtin :writenl</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="68">
          <span class="hits">1</span>
          
          <code class="ruby">            assert_solutions    writenl(&#39;hello&#39;), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="72">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should output an integer and a new line&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="73">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_output &quot;456\n&quot; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="74">
          <span class="hits">1</span>
          
          <code class="ruby">            builtin :writenl</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="76">
          <span class="hits">1</span>
          
          <code class="ruby">            assert_solutions    writenl(456), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="80">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should output an uninstantiated variable and a new line&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="81">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_output &quot;:X\n&quot; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="82">
          <span class="hits">1</span>
          
          <code class="ruby">            builtin :writenl</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="84">
          <span class="hits">1</span>
          
          <code class="ruby">            assert_solutions    writenl(:X), [{ X: nil }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="88">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should output an instantiated variable and a new line&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="89">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_output &quot;72\n&quot; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="90">
          <span class="hits">1</span>
          
          <code class="ruby">            builtin :writenl, :is</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="91">
          <span class="hits">1</span>
          
          <code class="ruby">            predicate :inst</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="93">
          <span class="hits">1</span>
          
          <code class="ruby">            inst(:X, :Y) &lt;&lt; [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="94">
          <span class="hits">1</span>
          
          <code class="ruby">              is(:Y, :X) {|x| x + 4 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">              writenl(:Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">            ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="98">
          <span class="hits">1</span>
          
          <code class="ruby">            assert_solutions    inst(23 + 45, :Y), [{ Y: 72 }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="104">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#nl&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="106">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should output a newline&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="107">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_output &quot;\n\n\n&quot; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="108">
          <span class="hits">1</span>
          
          <code class="ruby">            builtin :nl</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="109">
          <span class="hits">1</span>
          
          <code class="ruby">            predicate :f, :n</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="111">
          <span class="hits">1</span>
          
          <code class="ruby">            n(1).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="112">
          <span class="hits">1</span>
          
          <code class="ruby">            n(5).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="113">
          <span class="hits">1</span>
          
          <code class="ruby">            n(7).fact!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="115">
          <span class="hits">1</span>
          
          <code class="ruby">            f() &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">              n(:X),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby">              nl</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">            ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">            </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="120">
          <span class="hits">1</span>
          
          <code class="ruby">            assert_solutions    f(), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby">              {},</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">              {},</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">              {},</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">            ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="130">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#is&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="132">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should raise an exception when not provided with a variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="133">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :is</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="134">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :is_test</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="136">
          <span class="hits">1</span>
          
          <code class="ruby">          is_test(:variable) &lt;&lt; [</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="137">
          
          <span class="hits">skipped</span>
          <code class="ruby">            # :nocov:</code>
        </li>
      
        <li class="skipped" data-hits="0" data-linenumber="138">
          
          <span class="hits">skipped</span>
          <code class="ruby">            is(6) { 6 }</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="139">
          
          <span class="hits">skipped</span>
          <code class="ruby">            # :nocov:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="142">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_raises NonVariableError do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="143">
          <span class="hits">1</span>
          
          <code class="ruby">            assert_solutions    is_test(6),  [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="147">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should not raise an exception when provided with an instantiated variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="148">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :is</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="149">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :is_test</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="151">
          <span class="hits">1</span>
          
          <code class="ruby">          is_test(:variable) &lt;&lt; [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="152">
          <span class="hits">1</span>
          
          <code class="ruby">            is(:variable) { 6 }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="155">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions    is_test(6),  [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="158">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should call the block provided and instantiate the variable to the result of the provided block&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="159">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :is</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="160">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :is_test</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="162">
          <span class="hits">1</span>
          
          <code class="ruby">          calls = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="164">
          <span class="hits">1</span>
          
          <code class="ruby">          is_test(:variable1, :variable2) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby">            is(:variable1) {</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="166">
          <span class="hits">1</span>
          
          <code class="ruby">              calls &lt;&lt; &#39;first is called&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="167">
          <span class="hits">1</span>
          
          <code class="ruby">              &#39;first&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">            },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">            is(:variable2) {</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="170">
          <span class="hits">1</span>
          
          <code class="ruby">              calls &lt;&lt; &#39;second is called&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="171">
          <span class="hits">1</span>
          
          <code class="ruby">              &#39;second&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="172">
          
          
          <code class="ruby">            }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="174">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="175">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions    is_test(:X, :Y),  [{ X: &#39;first&#39;, Y: &#39;second&#39;}]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="176">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal        [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">            &#39;first is called&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">            &#39;second is called&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="179">
          
          
          <code class="ruby">          ], calls</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="180">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="181">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="182">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return false when the variable cannot be instantiated&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="183">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :is</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="184">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :is_test</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="186">
          <span class="hits">1</span>
          
          <code class="ruby">          calls = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="187">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="188">
          <span class="hits">1</span>
          
          <code class="ruby">          is_test(:variable1, :variable2) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby">            is(:variable1) {</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="190">
          <span class="hits">1</span>
          
          <code class="ruby">              calls &lt;&lt; &#39;first is called&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="191">
          <span class="hits">1</span>
          
          <code class="ruby">              &#39;first&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">            },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby">            is(:variable2) {</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="194">
          
          <span class="hits">skipped</span>
          <code class="ruby">              # :nocov:</code>
        </li>
      
        <li class="skipped" data-hits="0" data-linenumber="195">
          
          <span class="hits">skipped</span>
          <code class="ruby">              calls &lt;&lt; &#39;second is called&#39;</code>
        </li>
      
        <li class="skipped" data-hits="0" data-linenumber="196">
          
          <span class="hits">skipped</span>
          <code class="ruby">              &#39;second&#39;</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="197">
          
          <span class="hits">skipped</span>
          <code class="ruby">              # :nocov:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="198">
          
          
          <code class="ruby">            }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="199">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="200">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="201">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions    is_test(&#39;one&#39;, &#39;two&#39;),  []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="202">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal        [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="203">
          
          
          <code class="ruby">            &#39;first is called&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby">          ], calls</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="208">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="209">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#eq&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="210">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="211">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given unequal values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="212">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :eq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="213">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="214">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  eq([3,2,1,4], [1,2,3,4]), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="215">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="217">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution when given equal values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="218">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :eq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="219">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="220">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  eq([1,2,3,4], [1,2,3,4]), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="221">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="222">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="223">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution with an unbound variable when given the same unbound variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="224">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :eq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="225">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="226">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  eq(:X, :X), [{ X: nil}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="227">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="228">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="229">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given two unbound variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="230">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :eq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="231">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="232">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  eq(:X, :Y), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="234">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="235">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return one solution with unbound variables when given given two uninstantiated variables that are bound to each other&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="236">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :eq, :is</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="237">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :bind_and_eq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="238">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="239">
          <span class="hits">1</span>
          
          <code class="ruby">          bind_and_eq(:X, :Y) &lt;&lt; [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="240">
          <span class="hits">1</span>
          
          <code class="ruby">            is(:X, :Y) { |y| y },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="241">
          
          
          <code class="ruby">            eq(:X, :Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="242">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="243">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="244">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  bind_and_eq(:X, :Y), [{ X: nil, Y: nil }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="245">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="246">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="247">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given two uninstantiated variables that are not bound to each other&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="248">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :eq, :is</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="249">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :bind_and_eq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="250">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="251">
          <span class="hits">1</span>
          
          <code class="ruby">          bind_and_eq(:X, :Y) &lt;&lt; [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="252">
          <span class="hits">1</span>
          
          <code class="ruby">            is(:X, :P) { |p| p },</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="253">
          <span class="hits">1</span>
          
          <code class="ruby">            is(:Y, :Q) { |q| q },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="254">
          
          
          <code class="ruby">            eq(:X, :Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="255">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="256">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="257">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  bind_and_eq(:X, :Y), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="258">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="259">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="260">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given a value and an uninstantiated variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="261">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :eq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="262">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="263">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  eq([1,2,3,4], :L), []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="264">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  eq(:L, [1,2,3,4]), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="265">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="266">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="267">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="269">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#is_eq&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="270">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="271">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given unequal values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="272">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :is_eq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="273">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="274">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  is_eq([3,2,1,4], [1,2,3,4]), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="275">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="276">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="277">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution when given equal values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="278">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :is_eq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="279">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="280">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  is_eq([1,2,3,4], [1,2,3,4]), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="281">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="282">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="283">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution with an unbound variable when given the same unbound variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="284">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :is_eq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="285">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="286">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  is_eq(:X, :X), [{ X: nil}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="287">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="288">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="289">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given given two unbound variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="290">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :is_eq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="291">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="292">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  is_eq(:X, :Y), [{ X: nil, Y: nil }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="293">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="294">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="295">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return one solution with unbound variables when given given two uninstantiated variables that are bound to each other&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="296">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :is_eq, :is</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="297">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :bind_and_eq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="298">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="299">
          <span class="hits">1</span>
          
          <code class="ruby">          bind_and_eq(:X, :Y) &lt;&lt; [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="300">
          <span class="hits">1</span>
          
          <code class="ruby">            is(:X, :Y) { |y| y },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="301">
          
          
          <code class="ruby">            is_eq(:X, :Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="302">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="303">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="304">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  bind_and_eq(:X, :Y), [{ X: nil, Y: nil }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="305">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="306">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="307">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given given two uninstantiated variables that are not bound to each other&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="308">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :is_eq, :is</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="309">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :bind_and_eq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="310">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="311">
          <span class="hits">1</span>
          
          <code class="ruby">          bind_and_eq(:X, :Y) &lt;&lt; [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="312">
          <span class="hits">1</span>
          
          <code class="ruby">            is(:X, :P) { |p| p },</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="313">
          <span class="hits">1</span>
          
          <code class="ruby">            is(:Y, :Q) { |q| q },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="314">
          
          
          <code class="ruby">            is_eq(:X, :Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="315">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="316">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="317">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  bind_and_eq(:X, :Y), [{ X: nil, Y: nil }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="318">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="319">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="320">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should not instantiate the right hand side when not given a left hand side variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="321">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :is_eq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="322">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="323">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  is_eq([1,2,3,4], :L), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="324">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="325">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="326">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should instantiate the left hand side variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="327">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :is_eq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="328">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="329">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  is_eq(:L, [1,2,3,4]), [{ L: [1,2,3,4] }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="330">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="331">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="332">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="333">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="334">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#ruby&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="335">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="336">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should execute ruby code&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="337">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :ruby</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="338">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :logic, :data</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="339">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="340">
          <span class="hits">1</span>
          
          <code class="ruby">          data(1).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="341">
          <span class="hits">1</span>
          
          <code class="ruby">          data(5).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="342">
          <span class="hits">1</span>
          
          <code class="ruby">          data(7).cut_fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="343">
          <span class="hits">1</span>
          
          <code class="ruby">          data(9).fact!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="344">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="345">
          <span class="hits">1</span>
          
          <code class="ruby">          ruby_log = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="346">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="347">
          <span class="hits">1</span>
          
          <code class="ruby">          logic(:N) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="348">
          
          
          <code class="ruby">            ruby(:N){|goal, n|</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="349">
          <span class="hits">1</span>
          
          <code class="ruby">              ruby_log &lt;&lt; (n.type == :variable ? n.to_sym : n)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="350">
          
          
          <code class="ruby">            },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="351">
          
          
          <code class="ruby">            data(:N),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="352">
          
          
          <code class="ruby">            ruby(:N){|goal, n|</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="353">
          <span class="hits">3</span>
          
          <code class="ruby">              ruby_log &lt;&lt; (n.type == :variable ? n.to_sym : n)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="354">
          
          
          <code class="ruby">            }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="355">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="356">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="357">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  logic(:N), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="358">
          
          
          <code class="ruby">            { N: 1 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="359">
          
          
          <code class="ruby">            { N: 5 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="360">
          
          
          <code class="ruby">            { N: 7 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="361">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="362">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal      [:N,1,5,7],     ruby_log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="363">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="364">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="365">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should execute ruby code which triggers a failure&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="366">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :ruby</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="367">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :logic, :data</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="368">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="369">
          <span class="hits">1</span>
          
          <code class="ruby">          data(1).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="370">
          <span class="hits">1</span>
          
          <code class="ruby">          data(5).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="371">
          <span class="hits">1</span>
          
          <code class="ruby">          data(7).cut_fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="372">
          <span class="hits">1</span>
          
          <code class="ruby">          data(9).fact!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="373">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="374">
          <span class="hits">1</span>
          
          <code class="ruby">          ruby_log = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="375">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="376">
          <span class="hits">1</span>
          
          <code class="ruby">          logic(:N) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="377">
          
          
          <code class="ruby">            ruby(:N){|goal, n|</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="378">
          <span class="hits">1</span>
          
          <code class="ruby">              ruby_log &lt;&lt; (n.type == :variable ? n.to_sym : n)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="379">
          
          
          <code class="ruby">            },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="380">
          
          
          <code class="ruby">            data(:N),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="381">
          
          
          <code class="ruby">            ruby(:N){|goal, n|</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="382">
          <span class="hits">3</span>
          
          <code class="ruby">              ruby_log &lt;&lt; (n.type == :variable ? n.to_sym : n)</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="383">
          <span class="hits">3</span>
          
          <code class="ruby">              :fail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="384">
          
          
          <code class="ruby">            }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="385">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="386">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="387">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  logic(:N), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="388">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="389">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal      [:N,1,5,7],     ruby_log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="390">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="391">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="392">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="393">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="394">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#noteq&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="395">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="396">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given unequal values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="397">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :noteq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="398">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="399">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  noteq([3,2,1,4], [1,2,3,4]), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="400">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="401">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="402">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution when given equal values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="403">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :noteq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="404">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="405">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  noteq([1,2,3,4], [1,2,3,4]), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="406">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="407">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="408">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution with an unbound variable when given the same unbound variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="409">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :noteq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="410">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="411">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  noteq(:X, :X), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="412">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="413">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="414">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given two unbound variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="415">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :noteq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="416">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="417">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  noteq(:X, :Y), [{ X: nil, Y: nil }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="418">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="419">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="420">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return one solution with unbound variables when given given two uninstantiated variables that are bound to each other&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="421">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :noteq, :is</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="422">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :bind_and_noteq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="423">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="424">
          <span class="hits">1</span>
          
          <code class="ruby">          bind_and_noteq(:X, :Y) &lt;&lt; [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="425">
          <span class="hits">1</span>
          
          <code class="ruby">            is(:X, :Y) { |y| y },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="426">
          
          
          <code class="ruby">            noteq(:X, :Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="427">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="428">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="429">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  bind_and_noteq(:X, :Y), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="430">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="431">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="432">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given two uninstantiated variables that are not bound to each other&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="433">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :noteq, :is</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="434">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :bind_and_noteq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="435">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="436">
          <span class="hits">1</span>
          
          <code class="ruby">          bind_and_noteq(:X, :Y) &lt;&lt; [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="437">
          <span class="hits">1</span>
          
          <code class="ruby">            is(:X, :P) { |p| p },</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="438">
          <span class="hits">1</span>
          
          <code class="ruby">            is(:Y, :Q) { |q| q },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="439">
          
          
          <code class="ruby">            noteq(:X, :Y)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="440">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="441">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="442">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  bind_and_noteq(:X, :Y), [{ X: nil, Y: nil }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="443">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="444">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="445">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution when given an unbound variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="446">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :noteq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="447">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="448">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  noteq([1,2,3,4], :L), [{ L: nil }]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="449">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  noteq(:L, [1,2,3,4]), [{ L: nil }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="450">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="451">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="452">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="453">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="454">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#is_noteq&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="455">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="456">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return solutions without the exclusions&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="457">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :is_noteq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="458">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="459">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  is_noteq(:X, [1,2,3,4,5], 2, 5), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="460">
          
          
          <code class="ruby">            { X: 1, _a: [1,3,4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="461">
          
          
          <code class="ruby">            { X: 3, _a: [1,3,4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="462">
          
          
          <code class="ruby">            { X: 4, _a: [1,3,4] }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="463">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="464">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="465">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="466">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when the exclusions are not unique&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="467">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :is_noteq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="468">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="469">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  is_noteq(:X, [1,2,3,4,5], 2, 5, 2), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="470">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="471">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="472">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when the target is not a variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="473">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :is_noteq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="474">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="475">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  is_noteq(7, [1,2,3,4,5], 2, 5, 2), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="476">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="477">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="478">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="479">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="480">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#less&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="481">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="482">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given a greater value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="483">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :less</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="484">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="485">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  less(7, 4), []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="486">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  less(&#39;h&#39;, &#39;b&#39;), []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="487">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  less(1.01, 1.003), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="488">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="489">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="490">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given equal values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="491">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :less</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="492">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="493">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  less(4, 4), []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="494">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  less(&#39;b&#39;, &#39;b&#39;), []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="495">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  less(1.003, 1.003), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="496">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="497">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="498">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution when given lesser values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="499">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :less</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="500">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="501">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  less(2, 4), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="502">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="503">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="504">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions with an unbound variable when given the same unbound variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="505">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :less</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="506">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="507">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  less(:X, :X), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="508">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="509">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="510">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given two unbound variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="511">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :less</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="512">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="513">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  less(:X, :Y), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="514">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="515">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="516">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="517">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="518">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#gtr&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="519">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="520">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given a lesser value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="521">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :gtr</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="522">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="523">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtr(4, 7), []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="524">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtr(&#39;b&#39;, &#39;h&#39;), []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="525">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtr(1.003, 1.01), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="526">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="527">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="528">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given equal values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="529">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :gtr</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="530">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="531">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtr(4, 4), []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="532">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtr(&#39;b&#39;, &#39;b&#39;), []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="533">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtr(1.003, 1.003), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="534">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="535">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="536">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution when given greater values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="537">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :gtr</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="538">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="539">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtr(4, 2), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="540">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="541">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="542">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions with an unbound variable when given the same unbound variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="543">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :gtr</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="544">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="545">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtr(:X, :X), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="546">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="547">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="548">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given two unbound variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="549">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :gtr</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="550">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="551">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtr(:X, :Y), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="552">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="553">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="554">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="555">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="556">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#lesseq&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="557">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="558">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given a greater value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="559">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :lesseq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="560">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="561">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  lesseq(7, 4), []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="562">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  lesseq(&#39;h&#39;, &#39;b&#39;), []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="563">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  lesseq(1.01, 1.003), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="564">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="565">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="566">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution when given equal values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="567">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :lesseq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="568">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="569">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  lesseq(4, 4), [{}]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="570">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  lesseq(&#39;b&#39;, &#39;b&#39;), [{}]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="571">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  lesseq(1.003, 1.003), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="572">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="573">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="574">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution when given lesser values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="575">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :lesseq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="576">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="577">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  lesseq(2, 4), [{}]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="578">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  lesseq(&#39;b&#39;, &#39;h&#39;), [{}]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="579">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  lesseq(1.003, 1.01), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="580">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="581">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="582">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution with an unbound variable when given the same unbound variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="583">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :lesseq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="584">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="585">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  lesseq(:X, :X), [{ X: nil }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="586">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="587">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="588">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given two unbound variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="589">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :lesseq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="590">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="591">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  lesseq(:X, :Y), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="592">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="593">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="594">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given one unbound variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="595">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :lesseq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="596">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="597">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  lesseq(:X, 11), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="598">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="599">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="600">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="601">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="602">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#gtreq&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="603">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="604">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given a lesser value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="605">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :gtreq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="606">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="607">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtreq(4, 7), []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="608">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtreq(&#39;b&#39;, &#39;h&#39;), []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="609">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtreq(1.003, 1.01), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="610">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="611">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="612">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution when given equal values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="613">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :gtreq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="614">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="615">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtreq(4, 4), [{}]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="616">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtreq(&#39;b&#39;, &#39;b&#39;), [{}]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="617">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtreq(1.003, 1.003), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="618">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="619">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="620">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution when given gtreqer values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="621">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :gtreq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="622">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="623">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtreq(4, 2), [{}]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="624">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtreq(&#39;h&#39;, &#39;b&#39;), [{}]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="625">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtreq(1.01, 1.003), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="626">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="627">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="628">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution with an unbound variable when given the same unbound variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="629">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :gtreq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="630">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="631">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtreq(:X, :X), [{ X: nil }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="632">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="633">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="634">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given two unbound variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="635">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :gtreq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="636">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="637">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtreq(:X, :Y), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="638">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="639">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="640">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given one unbound variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="641">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :gtreq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="642">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="643">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  gtreq(:X, 11), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="644">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="645">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="646">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="647">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="648">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#length&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="649">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="650">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution for an array and an integer&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="651">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :length</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="652">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="653">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  length([1,2,3,4,5], 5),   [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="654">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="655">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="656">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions for an array and an integer that do not satisy the length&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="657">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :length</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="658">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="659">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  length([1,2,3,4,5], 2),   []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="660">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="661">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="662">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should instaniate the length of the list&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="663">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :length</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="664">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="665">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  length([1,2,3,4,5], :N),   [{ N: 5 }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="666">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="667">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="668">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should instaniate the list&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="669">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :length</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="670">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="671">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  length(:L, 4),   [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="672">
          
          
          <code class="ruby">            { L: [nil, nil, nil, nil], _a: nil, _b: nil, _c: nil, _d: nil }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="673">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="674">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="675">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="676">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions for a variable array and length&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="677">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :length</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="678">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="679">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  length(:L, :N),   []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="680">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="681">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="682">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions for invalid types&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="683">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :length</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="684">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="685">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  length(3, [1,2,3]),   []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="686">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="687">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="688">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="689">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="690">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#between&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="691">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="692">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution when the value is in range&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="693">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :between</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="694">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="695">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  between(3, 1, 10),  [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="696">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="697">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="698">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when the value is not in range&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="699">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :between</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="700">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="701">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  between(-40, 1, 10),  []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="702">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="703">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="704">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions when given an uninstantiated variable for the range&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="705">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :between</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="706">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="707">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  between(:X, 1, :Ten),  []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="708">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  between(:X, :One, 10), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="709">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="710">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="711">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return solutions for instantiating&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="712">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :between</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="713">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="714">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  between(:X, 1, 10),  [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="715">
          
          
          <code class="ruby">            { X: 1 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="716">
          
          
          <code class="ruby">            { X: 2 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="717">
          
          
          <code class="ruby">            { X: 3 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="718">
          
          
          <code class="ruby">            { X: 4 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="719">
          
          
          <code class="ruby">            { X: 5 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="720">
          
          
          <code class="ruby">            { X: 6 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="721">
          
          
          <code class="ruby">            { X: 7 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="722">
          
          
          <code class="ruby">            { X: 8 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="723">
          
          
          <code class="ruby">            { X: 9 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="724">
          
          
          <code class="ruby">            { X: 10 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="725">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="726">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="727">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="728">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should instantiate the minimum possible when the value is above the lower bound&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="729">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :between</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="730">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="731">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  between(4, 1, :upper),  [{ upper: 4}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="732">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="733">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="734">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should instantiate the maximum possible when the value is below the upper bound&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="735">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :between</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="736">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="737">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  between(4, :lower, 10), [{ lower: 4}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="738">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="739">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="740">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions the value is below the lower bound&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="741">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :between</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="742">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="743">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  between(-7, 1, :upper), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="744">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="745">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="746">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions the value is above the upper bound&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="747">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :between</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="748">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="749">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  between(24, :lower, 10), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="750">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="751">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="752">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should instantiate both bounds when given a value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="753">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :between</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="754">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="755">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  between(24, :lower, :upper),  [{ lower: 24, upper: 24 }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="756">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="757">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="758">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="759">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="760">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#member&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="761">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="762">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions for a non-member&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="763">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :member</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="764">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="765">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  member(5, [1,2,3,4]),   []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="766">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="767">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="768">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions for a non-list&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="769">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :member</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="770">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="771">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  member(5, 5),   []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="772">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="773">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="774">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution for a member&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="775">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :member</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="776">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="777">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  member(3, [1,2,3,4]),   [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="778">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="779">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="780">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution for an array member&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="781">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :member</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="782">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="783">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  member([2,3], [[1,2],[2,3],[3,4]]),   [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="784">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="785">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="786">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution for a member&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="787">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :member</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="788">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="789">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  member(3, [1,2,3,4]),   [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="790">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="791">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="792">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution for a member&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="793">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :member</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="794">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="795">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  member(3, [1,2,:C,4]),   [{ C: 3 }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="796">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="797">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="798">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution for an array member&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="799">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :member</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="800">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="801">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  member([:A,3], [[1,2],[2,3],[3,4]]),   [{ A: 2 }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="802">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="803">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="804">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution for an array member&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="805">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :member</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="806">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="807">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  member([2,3], [[1,:B],[:B,3],[3,4]]),   [{ B: 2 }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="808">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="809">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="810">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return solutions for each member&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="811">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :member</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="812">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="813">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  member(:M, [[1,2],[2,3],[3,4]]),   [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="814">
          
          
          <code class="ruby">            { M: [1,2] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="815">
          
          
          <code class="ruby">            { M: [2,3] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="816">
          
          
          <code class="ruby">            { M: [3,4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="817">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="818">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="819">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="820">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return limited solutions for variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="821">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :member</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="822">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="823">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  member(:M, :L, 12),   Array.new(12){|i|</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="824">
          <span class="hits">12</span>
          
          <code class="ruby">            v = &#39;_a&#39;</code>
        </li>
      
        <li class="covered" data-hits="298" data-linenumber="825">
          <span class="hits">298</span>
          
          <code class="ruby">            { M: nil, L: [*([nil] * (i+1)), UNKNOWN_TAIL] }.merge((1..(i * (i + 1) / 2)).map{ m = v.dup ; v.succ! ; [m.to_sym, nil] }.to_h)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="826">
          
          
          <code class="ruby">          }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="827">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="828">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="829">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="830">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="831">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#append&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="832">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="833">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions for a non-append&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="834">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :append</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="835">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="836">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  append([1,2,3], [4,5,6], [1,2,7,4,5,6]),   []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="837">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="838">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="839">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution for a valid append&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="840">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :append</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="841">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="842">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  append([1,2,3], [4,5,6], [1,2,3,4,5,6]),   [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="843">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="844">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="845">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return no solutions for a non-list&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="846">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :append</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="847">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="848">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  append(5, 5, 55),   []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="849">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="850">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="851">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution for a valid append&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="852">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :append</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="853">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="854">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  append([1,2,3], [4,5,6], [1,2,3,4,5,6]),   [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="855">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="856">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="857">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return a solution for an array append&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="858">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :append</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="859">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="860">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  append([[1,2],[2,3],[3,4]], [[4,5],[5,6],[6,7]], [[1,2],[2,3],[3,4],[4,5],[5,6],[6,7]]),   [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="861">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="862">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="863">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should instantiate prefix variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="864">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :append</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="865">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="866">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  append(:prefix, [[4,5],[5,6],[6,7]], [[1,2],[2,3],[3,4],[4,5],[5,6],[6,7]]),   [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="867">
          
          
          <code class="ruby">            { prefix: [[1, 2], [2, 3], [3, 4]] }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="868">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="869">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="870">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="871">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should instantiate suffix variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="872">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :append</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="873">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="874">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  append([[1,2],[2,3],[3,4]], :suffix, [[1,2],[2,3],[3,4],[4,5],[5,6],[6,7]]),   [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="875">
          
          
          <code class="ruby">            { suffix: [[4, 5], [5, 6], [6, 7]] }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="876">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="877">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="878">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="879">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should instantiate embedded variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="880">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :append</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="881">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="882">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  append([[:A,:B],[:C,:D],[:E,:F]], [:G,:H,:I], [[1,2],[2,3],[3,4],[4,5],[5,6],[6,7]]),   [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="883">
          
          
          <code class="ruby">            { A: 1, B: 2, C: 2, D: 3, E: 3, F: 4, G: [4, 5], H: [5, 6], I: [6, 7] }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="884">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="885">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="886">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="887">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should instantiate embedded variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="888">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :append</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="889">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="890">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  append([1,2,3,4], [&#39;apple&#39;,&#39;banana&#39;,&#39;carrot&#39;], :L),   [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="891">
          
          
          <code class="ruby">            { L: [1, 2, 3, 4, &#39;apple&#39;, &#39;banana&#39;, &#39;carrot&#39;] }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="892">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="893">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="894">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="895">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should return solutions for all possible splits of a list&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="896">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :append</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="897">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="898">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  append(:M, :L, [1,2,3,4,5]),   [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="899">
          
          
          <code class="ruby">            { M: [],              L: [1, 2, 3, 4, 5] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="900">
          
          
          <code class="ruby">            { M: [1],             L: [2, 3, 4, 5] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="901">
          
          
          <code class="ruby">            { M: [1, 2],          L: [3, 4, 5] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="902">
          
          
          <code class="ruby">            { M: [1, 2, 3],       L: [4, 5] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="903">
          
          
          <code class="ruby">            { M: [1, 2, 3, 4],    L: [5] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="904">
          
          
          <code class="ruby">            { M: [1, 2, 3, 4, 5], L: [] }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="905">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="906">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="907">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="908">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should instantiate using a head and tail for an unbound variable and an array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="909">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :append, :is_eq</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="910">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :append_is_eq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="911">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="912">
          <span class="hits">1</span>
          
          <code class="ruby">          append_is_eq(:A, :B, :C) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="913">
          
          
          <code class="ruby">            append(:A, :B, :C),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="914">
          
          
          <code class="ruby">            is_eq(:A, [1, 2, 3]),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="915">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="916">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="917">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  append_is_eq(:A, [4,5,6], :C),   [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="918">
          
          
          <code class="ruby">            { A: [1, 2, 3], C: [1, 2, 3, 4, 5, 6] }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="919">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="920">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="921">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="922">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should instantiate using a head and tail for unbound variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="923">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :append, :is_eq</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="924">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :append_is_eq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="925">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="926">
          <span class="hits">1</span>
          
          <code class="ruby">          append_is_eq(:A, :B, :C) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="927">
          
          
          <code class="ruby">            append(:A, :B, :C),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="928">
          
          
          <code class="ruby">            is_eq(:B, [4, 5, 6]),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="929">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="930">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="931">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  append_is_eq([1,2,3], :B, :C),   [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="932">
          
          
          <code class="ruby">            { B: [4, 5, 6], C: [1, 2, 3, 4, 5, 6] }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="933">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="934">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="935">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="936">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should instantiate using a head and tail for unbound variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="937">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :append, :is_eq</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="938">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :append_is_eq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="939">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="940">
          <span class="hits">1</span>
          
          <code class="ruby">          append_is_eq(:A, :B, :C) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="941">
          
          
          <code class="ruby">            append(:A, :B, :C),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="942">
          
          
          <code class="ruby">            is_eq(:A, [1, 2, 3]),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="943">
          
          
          <code class="ruby">            is_eq(:B, [4, 5, 6]),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="944">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="945">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="946">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  append_is_eq(:A, :B, :C),   [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="947">
          
          
          <code class="ruby">            { A: [1, 2, 3], B: [4, 5, 6], C: [1, 2, 3, 4, 5, 6] }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="948">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="949">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="950">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="951">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="952">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="953">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#permutation&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="954">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="955">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;returns no solutions for non-arrays&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="956">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :permutation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="957">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="958">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  permutation(&#39;1234&#39;, &#39;1234&#39;), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="959">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="960">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="961">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;returns a solution for identical arrays without variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="962">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :permutation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="963">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="964">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  permutation([1,2,3,4], [1,2,3,4]), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="965">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="966">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="967">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;returns a solutions for rearranged arrays without variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="968">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :permutation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="969">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="970">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  permutation([3,2,1,4], [1,2,3,4]), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="971">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="972">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="973">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;returns a solution and instantiates a variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="974">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :permutation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="975">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="976">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  permutation([3,2,:A,4], [1,2,3,4]), [{ A: 1 }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="977">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="978">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="979">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;returns solutions of permutations of instantiations&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="980">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :permutation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="981">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="982">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  permutation([3,2,:A,:B], [1,2,3,4]), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="983">
          
          
          <code class="ruby">            { A: 1, B: 4 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="984">
          
          
          <code class="ruby">            { A: 4, B: 1 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="985">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="986">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="987">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="988">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;returns solutions of permutations of instantiations in the other list&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="989">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :permutation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="990">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="991">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  permutation([3,2,1,4], [:A,2,3,:B]), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="992">
          
          
          <code class="ruby">            { A: 1, B: 4 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="993">
          
          
          <code class="ruby">            { A: 4, B: 1 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="994">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="995">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="996">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="997">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;infers instantiations of variables in both arrays&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="998">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :permutation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="999">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1000">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  permutation([3,2,:A,4], [1,2,:C,4]), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1001">
          
          
          <code class="ruby">            { A: 1, C: 3 }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1002">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1003">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1004">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1005">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;infers instantiations of variables in both arrays when they represent the same value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1006">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :permutation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1007">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1008">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  permutation([:A,2,1,4], [1,2,:C,4]), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1009">
          
          
          <code class="ruby">            { A: 1, C: 1 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1010">
          
          
          <code class="ruby">            { A: 2, C: 2 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1011">
          
          
          <code class="ruby">            { A: nil, C: nil },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1012">
          
          
          <code class="ruby">            { A: 4, C: 4 }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1013">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1014">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1015">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1016">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;returns all permutations of an array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1017">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :permutation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1018">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1019">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  permutation([3,2,1,4], :L), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1020">
          
          
          <code class="ruby">            { L: [3, 2, 1, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1021">
          
          
          <code class="ruby">            { L: [3, 2, 4, 1] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1022">
          
          
          <code class="ruby">            { L: [3, 1, 2, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1023">
          
          
          <code class="ruby">            { L: [3, 1, 4, 2] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1024">
          
          
          <code class="ruby">            { L: [3, 4, 2, 1] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1025">
          
          
          <code class="ruby">            { L: [3, 4, 1, 2] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1026">
          
          
          <code class="ruby">            { L: [2, 3, 1, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1027">
          
          
          <code class="ruby">            { L: [2, 3, 4, 1] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1028">
          
          
          <code class="ruby">            { L: [2, 1, 3, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1029">
          
          
          <code class="ruby">            { L: [2, 1, 4, 3] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1030">
          
          
          <code class="ruby">            { L: [2, 4, 3, 1] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1031">
          
          
          <code class="ruby">            { L: [2, 4, 1, 3] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1032">
          
          
          <code class="ruby">            { L: [1, 3, 2, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1033">
          
          
          <code class="ruby">            { L: [1, 3, 4, 2] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1034">
          
          
          <code class="ruby">            { L: [1, 2, 3, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1035">
          
          
          <code class="ruby">            { L: [1, 2, 4, 3] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1036">
          
          
          <code class="ruby">            { L: [1, 4, 3, 2] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1037">
          
          
          <code class="ruby">            { L: [1, 4, 2, 3] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1038">
          
          
          <code class="ruby">            { L: [4, 3, 2, 1] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1039">
          
          
          <code class="ruby">            { L: [4, 3, 1, 2] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1040">
          
          
          <code class="ruby">            { L: [4, 2, 3, 1] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1041">
          
          
          <code class="ruby">            { L: [4, 2, 1, 3] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1042">
          
          
          <code class="ruby">            { L: [4, 1, 3, 2] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1043">
          
          
          <code class="ruby">            { L: [4, 1, 2, 3] }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1044">
          
          
          <code class="ruby">          ], goals: 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1045">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1046">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1047">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;returns all permutations of an array when arguments are swapped&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1048">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :permutation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1049">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1050">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  permutation(:L, [3,2,1,4]), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1051">
          
          
          <code class="ruby">            { L: [3, 2, 1, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1052">
          
          
          <code class="ruby">            { L: [3, 2, 4, 1] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1053">
          
          
          <code class="ruby">            { L: [3, 1, 2, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1054">
          
          
          <code class="ruby">            { L: [3, 1, 4, 2] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1055">
          
          
          <code class="ruby">            { L: [3, 4, 2, 1] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1056">
          
          
          <code class="ruby">            { L: [3, 4, 1, 2] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1057">
          
          
          <code class="ruby">            { L: [2, 3, 1, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1058">
          
          
          <code class="ruby">            { L: [2, 3, 4, 1] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1059">
          
          
          <code class="ruby">            { L: [2, 1, 3, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1060">
          
          
          <code class="ruby">            { L: [2, 1, 4, 3] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1061">
          
          
          <code class="ruby">            { L: [2, 4, 3, 1] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1062">
          
          
          <code class="ruby">            { L: [2, 4, 1, 3] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1063">
          
          
          <code class="ruby">            { L: [1, 3, 2, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1064">
          
          
          <code class="ruby">            { L: [1, 3, 4, 2] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1065">
          
          
          <code class="ruby">            { L: [1, 2, 3, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1066">
          
          
          <code class="ruby">            { L: [1, 2, 4, 3] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1067">
          
          
          <code class="ruby">            { L: [1, 4, 3, 2] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1068">
          
          
          <code class="ruby">            { L: [1, 4, 2, 3] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1069">
          
          
          <code class="ruby">            { L: [4, 3, 2, 1] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1070">
          
          
          <code class="ruby">            { L: [4, 3, 1, 2] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1071">
          
          
          <code class="ruby">            { L: [4, 2, 3, 1] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1072">
          
          
          <code class="ruby">            { L: [4, 2, 1, 3] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1073">
          
          
          <code class="ruby">            { L: [4, 1, 3, 2] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1074">
          
          
          <code class="ruby">            { L: [4, 1, 2, 3] }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1075">
          
          
          <code class="ruby">          ], goals: 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1076">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1077">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1078">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1079">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1080">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#reverse&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1081">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1082">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;returns no solutions for non-arrays&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1083">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :reverse</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1084">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1085">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  reverse(&#39;1234&#39;, &#39;1234&#39;), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1086">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1087">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1088">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;returns a solution for mirrored arrays without variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1089">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :reverse</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1090">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1091">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  reverse([1,2,3,4], [4,3,2,1]), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1092">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1093">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1094">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;returns a solution and instantiates a variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1095">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :reverse</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1096">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1097">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  reverse([4,3,:A,1], [1,2,3,4]), [{ A: 2 }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1098">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1099">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1100">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;returns a solution and instantiates multiple variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1101">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :reverse</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1102">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1103">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  reverse([4,3,:A,:B], [1,2,3,4]), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1104">
          
          
          <code class="ruby">            { A: 2, B: 1 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1105">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1106">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1107">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1108">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;returns a solution and instantiates multiple variables in the other list&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1109">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :reverse</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1110">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1111">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  reverse([4,3,2,1], [:A,2,3,:B]), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1112">
          
          
          <code class="ruby">            { A: 1, B: 4 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1113">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1114">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1115">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1116">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;infers instantiations of variables in both arrays&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1117">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :reverse</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1118">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1119">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  reverse([4,3,:A,1], [1,2,:C,4]), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1120">
          
          
          <code class="ruby">            { A: 2, C: 3 }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1121">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1122">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1123">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1124">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;infers instantiations of variables in both arrays when they represent the same value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1125">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :reverse</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1126">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1127">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  reverse([:A,3,2,1], [1,:A,3,:C]), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1128">
          
          
          <code class="ruby">            { A: 2, C: 2 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1129">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1130">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1131">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1132">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;allows unbound variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1133">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :reverse</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1134">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1135">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  reverse([:A,3,2,1], :L), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1136">
          
          
          <code class="ruby">            { A: nil, L: [1,2,3,nil] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1137">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1138">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1139">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1140">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;instantiates a variable to the reversed array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1141">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :reverse</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1142">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1143">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  reverse([4,3,2,1], :L), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1144">
          
          
          <code class="ruby">            { L: [1, 2, 3, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1145">
          
          
          <code class="ruby">          ], goals: 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1146">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1147">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1148">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;instantiates a variable to the reversed array when arguments are swapped&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1149">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :reverse</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1150">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1151">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  reverse(:L, [4,3,2,1]), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1152">
          
          
          <code class="ruby">            { L: [1, 2, 3, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1153">
          
          
          <code class="ruby">          ], goals: 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1154">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1155">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1156">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;returns no solutions for uninstantiated variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1157">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :reverse</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1158">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1159">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  reverse(:X, :Y), [], goals: 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1160">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1161">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1162">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1163">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1164">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#var&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1165">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1166">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should be unsuccessful for an atom&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1167">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :var</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1168">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1169">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  var(&#39;1234&#39;), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1170">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1171">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1172">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should be successful for an uninstantiated variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1173">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :var, :is_eq</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1174">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :vartest</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1175">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1176">
          <span class="hits">1</span>
          
          <code class="ruby">          vartest(:variable) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1177">
          
          
          <code class="ruby">            var(:variable),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1178">
          
          
          <code class="ruby">            is_eq(:variable, &#39;value&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1179">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1180">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1181">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  vartest(:V), [{ V: &#39;value&#39; }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1182">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1183">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1184">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should be successful for an uninstantiated bound variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1185">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :var, :is_eq</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1186">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :vartest</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1187">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1188">
          <span class="hits">1</span>
          
          <code class="ruby">          vartest(:variable) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1189">
          
          
          <code class="ruby">            is_eq(:variable, :bound),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1190">
          
          
          <code class="ruby">            var(:variable),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1191">
          
          
          <code class="ruby">            is_eq(:bound, &#39;bound&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1192">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1193">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1194">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  vartest(:V), [{ V: &#39;bound&#39; }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1195">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1196">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1197">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should be successful for an uninstantiated bound variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1198">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :var, :is_eq</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1199">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :vartest</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1200">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1201">
          <span class="hits">1</span>
          
          <code class="ruby">          vartest(:variable) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1202">
          
          
          <code class="ruby">            is_eq(:variable, &#39;instantiated&#39;),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1203">
          
          
          <code class="ruby">            var(:variable)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1204">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1205">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1206">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  vartest(:V), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1207">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1208">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1209">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1210">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1211">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#nonvar&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1212">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1213">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should be successful for an atom&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1214">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :nonvar</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1215">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1216">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  nonvar(&#39;1234&#39;), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1217">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1218">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1219">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should be unsuccessful for an uninstantiated variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1220">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :nonvar, :is_eq</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1221">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :nonvartest</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1222">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1223">
          <span class="hits">1</span>
          
          <code class="ruby">          nonvartest(:variable) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1224">
          
          
          <code class="ruby">            nonvar(:variable),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1225">
          
          
          <code class="ruby">            is_eq(:variable, &#39;value&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1226">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1227">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1228">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  nonvartest(:V), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1229">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1230">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1231">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should be unsuccessful for an uninstantiated bound variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1232">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :nonvar, :is_eq</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1233">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :nonvartest</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1234">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1235">
          <span class="hits">1</span>
          
          <code class="ruby">          nonvartest(:variable) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1236">
          
          
          <code class="ruby">            is_eq(:variable, :bound),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1237">
          
          
          <code class="ruby">            nonvar(:variable),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1238">
          
          
          <code class="ruby">            is_eq(:bound, &#39;bound&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1239">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1240">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1241">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  nonvartest(:V), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1242">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1243">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1244">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should be unsuccessful for an uninstantiated bound variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1245">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :nonvar, :is_eq</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1246">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :nonvartest</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1247">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1248">
          <span class="hits">1</span>
          
          <code class="ruby">          nonvartest(:variable) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1249">
          
          
          <code class="ruby">            is_eq(:variable, &#39;instantiated&#39;),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1250">
          
          
          <code class="ruby">            nonvar(:variable)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1251">
          
          
          <code class="ruby">          ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1252">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1253">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  nonvartest(:V), [{ V: &#39;instantiated&#39; }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1254">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1255">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1256">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1257">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1258">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#atom&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1259">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1260">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should be satisfied with a String&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1261">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :atom</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1262">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1263">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  atom(&#39;banana&#39;), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1264">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1265">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1266">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should not be satisfied with an Integer&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1267">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :atom</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1268">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1269">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  atom(6), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1270">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1271">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1272">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should not be satisfied with an Array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1273">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :atom</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1274">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1275">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  atom([]), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1276">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1277">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1278">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1279">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1280">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#atomic&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1281">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1282">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should be satisfied with a String&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1283">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :atomic</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1284">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1285">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  atomic(&#39;banana&#39;), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1286">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1287">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1288">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should be satisfied with an Integer&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1289">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :atomic</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1290">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1291">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  atomic(6), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1292">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1293">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1294">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should not be satisfied with an Array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1295">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :atomic</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1296">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1297">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  atomic([]), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1298">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1299">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1300">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should not be satisfied with an uninstantiated variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1301">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :atomic</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1302">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1303">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  atomic(:X), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1304">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1305">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1306">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1307">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1308">
          <span class="hits">1</span>
          
          <code class="ruby">      describe &#39;#integer&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1309">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1310">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should not be satisfied with a String&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1311">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :integer</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1312">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1313">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  integer(&#39;banana&#39;), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1314">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1315">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1316">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should be satisfied with an Integer&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1317">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :integer</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1318">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1319">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  integer(6), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1320">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1321">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1322">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should not be satisfied with an Array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1323">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :integer</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1324">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1325">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  integer([]), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1326">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1327">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1328">
          <span class="hits">1</span>
          
          <code class="ruby">        it &#39;should not be satisfied with an uninstantiated variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1329">
          <span class="hits">1</span>
          
          <code class="ruby">          builtin :integer</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1330">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1331">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_solutions  integer(:X), []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1332">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1333">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1334">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1335">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1336">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1337">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1338">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1339">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1340">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8de3f3b4648d5cb7c8eff6b5e067a63e809963ec">
  <div class="header">
    <h3>test/porolog/predicate_test.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>200</b> relevant lines. 
      <span class="green"><b>200</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   test/porolog/predicate_test.rb     - Test Suite for Porolog::Predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban      2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../test_helper&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="10">
          <span class="hits">1</span>
          
          <code class="ruby">describe &#39;Porolog&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="12">
          <span class="hits">1</span>
          
          <code class="ruby">  before(:all) do</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="13">
          <span class="hits">24</span>
          
          <code class="ruby">    reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="16">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;Predicate&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="18">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should default to creating predicates in the default scope&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="19">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal    :default,     Predicate.scope.name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="21">
          <span class="hits">1</span>
          
          <code class="ruby">      test = Predicate.new &#39;test&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="23">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_includes Scope[:default].predicates, test</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="26">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.scope&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="28">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the current scope for new predicates&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="29">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  Scope[:default],    Predicate.scope</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="31">
          <span class="hits">1</span>
          
          <code class="ruby">        alpha = Predicate.new &#39;alpha&#39;, :new_scope</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="33">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  Scope[:default],    Predicate.scope</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="35">
          <span class="hits">1</span>
          
          <code class="ruby">        Predicate.scope :new_scope</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="37">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  Scope[:new_scope],  Predicate.scope</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="39">
          <span class="hits">1</span>
          
          <code class="ruby">        bravo = Predicate.new &#39;bravo&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="41">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [],                 Scope[:default  ].predicates</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="42">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [alpha,bravo],      Scope[:new_scope].predicates</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="45">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should allow predicate scope to be created and set&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="46">
          <span class="hits">1</span>
          
          <code class="ruby">        Predicate.scope :internal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="47">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    :internal, Predicate.scope.name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="49">
          <span class="hits">1</span>
          
          <code class="ruby">        Predicate.new &#39;alpha&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="51">
          <span class="hits">1</span>
          
          <code class="ruby">        Predicate.scope :external</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="52">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    :external, Predicate.scope.name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="54">
          <span class="hits">1</span>
          
          <code class="ruby">        Predicate.new &#39;bravo&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="56">
          <span class="hits">1</span>
          
          <code class="ruby">        Predicate.scope :internal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="57">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    :internal, Predicate.scope.name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="59">
          <span class="hits">1</span>
          
          <code class="ruby">        Predicate.new &#39;carly&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="60">
          <span class="hits">1</span>
          
          <code class="ruby">        Predicate.new &#39;delta&#39;, :external</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="62">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    :internal, Predicate.scope.name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="64">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [:alpha,:carly], Scope[:internal].predicates.map(&amp;:name)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="65">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [:bravo,:delta], Scope[:external].predicates.map(&amp;:name)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="70">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.scope=&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="72">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should also allow predicate scope to be assigned&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="73">
          <span class="hits">1</span>
          
          <code class="ruby">        Predicate.scope = :internal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="74">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      :internal, Predicate.scope.name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="76">
          <span class="hits">1</span>
          
          <code class="ruby">        alpha = Predicate.new &#39;alpha&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="78">
          <span class="hits">1</span>
          
          <code class="ruby">        Predicate.scope = :external</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="79">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      :external, Predicate.scope.name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="81">
          <span class="hits">1</span>
          
          <code class="ruby">        bravo = Predicate.new &#39;bravo&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="83">
          <span class="hits">1</span>
          
          <code class="ruby">        Predicate.scope = :internal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="84">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      :internal, Predicate.scope.name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="86">
          <span class="hits">1</span>
          
          <code class="ruby">        carly = Predicate.new &#39;carly&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="87">
          <span class="hits">1</span>
          
          <code class="ruby">        delta = Predicate.new &#39;delta&#39;, :external</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="89">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      :internal, Predicate.scope.name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="91">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [alpha,carly], Scope[:internal].predicates</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="92">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [bravo,delta], Scope[:external].predicates</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="97">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.reset&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="99">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should revert to the default scope when reset&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="100">
          <span class="hits">1</span>
          
          <code class="ruby">        Predicate.scope = :other</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="101">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      :other,       Predicate.scope.name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="103">
          <span class="hits">1</span>
          
          <code class="ruby">        Predicate.reset</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="104">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      :default,     Predicate.scope.name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="106">
          <span class="hits">1</span>
          
          <code class="ruby">        Predicate.scope :temporary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="108">
          <span class="hits">1</span>
          
          <code class="ruby">        alpha = Predicate.new   :alpha</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="110">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    :temporary,     Predicate.scope.name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="111">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [alpha],        Predicate.scope.predicates</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="113">
          <span class="hits">1</span>
          
          <code class="ruby">        Predicate.reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="115">
          <span class="hits">1</span>
          
          <code class="ruby">        bravo = Predicate.new   :bravo</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="117">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    :default,       Predicate.scope.name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="118">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [bravo],        Predicate.scope.predicates</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="123">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.[]&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="125">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return a predicate by name&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="126">
          <span class="hits">1</span>
          
          <code class="ruby">        alpha = Predicate.new   :alpha</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="128">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    alpha,          Predicate[:alpha]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="133">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.new&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="135">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should create a new predicate&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="136">
          <span class="hits">1</span>
          
          <code class="ruby">        alpha = Predicate.new   :alpha</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="138">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of Predicate,   alpha</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="141">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not create a predicate if a predicate with the same name already exists in the scope but instead return the existing one&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="142">
          <span class="hits">1</span>
          
          <code class="ruby">        predicate1 = Predicate.new &#39;predicate1&#39;, :left</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="143">
          <span class="hits">1</span>
          
          <code class="ruby">        predicate2 = Predicate.new &#39;predicate1&#39;, :right</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="145">
          <span class="hits">1</span>
          
          <code class="ruby">        refute_equal  predicate1, predicate2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="147">
          <span class="hits">1</span>
          
          <code class="ruby">        Predicate.scope :left</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="148">
          <span class="hits">1</span>
          
          <code class="ruby">        predicate3 = Predicate.new :predicate1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="150">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  predicate1, predicate3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="155">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#initialize&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="157">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;can create predicates in different scopes&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="158">
          <span class="hits">1</span>
          
          <code class="ruby">        left  = Scope.new :left</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby">        #right = Scope.new :right       # Not explicitly creating scope :right</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="161">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    left,           Predicate.scope(:left)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="162">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    :left,          Predicate.scope.name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="164">
          <span class="hits">1</span>
          
          <code class="ruby">        left_test = Predicate.new &#39;left_test&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="166">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    :left,          Predicate.scope.name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="167">
          <span class="hits">1</span>
          
          <code class="ruby">        refute_empty    left.predicates</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="168">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_includes left.predicates, left_test</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="170">
          <span class="hits">1</span>
          
          <code class="ruby">        right_test = Predicate.new &#39;right_test&#39;, :right</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="171">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="172">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_includes Scope[:right].predicates, right_test</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="173">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    :left,          Predicate.scope.name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="174">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="175">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [left_test],    Scope[:left ].predicates</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="176">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [right_test],   Scope[:right].predicates</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="179">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not create a Predicate named &quot;predicate&quot;&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="180">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_raises Porolog::Predicate::NameError do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="181">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate :predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="183">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_raises Porolog::Predicate::NameError do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="184">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate &#39;predicate&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="186">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_raises Porolog::Predicate::NameError do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="187">
          <span class="hits">1</span>
          
          <code class="ruby">          Predicate.new :predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="189">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_raises Porolog::Predicate::NameError do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="190">
          <span class="hits">1</span>
          
          <code class="ruby">          Predicate.new &#39;predicate&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="194">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="195">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="196">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#call&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="197">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="198">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should create an Arguments when &quot;called&quot;&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="199">
          <span class="hits">1</span>
          
          <code class="ruby">        p = Predicate.new :p</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="200">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="201">
          <span class="hits">1</span>
          
          <code class="ruby">        arguments = p.(1,2,3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="202">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="203">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Arguments,            arguments</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="204">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        [1,2,3],              arguments.arguments</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="205">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;p(1,2,3)&#39;,           arguments.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="208">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="209">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="210">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#arguments&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="212">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should provide a convenience method to create an Arguments&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="213">
          <span class="hits">1</span>
          
          <code class="ruby">        p = Predicate.new :p</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="214">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="215">
          <span class="hits">1</span>
          
          <code class="ruby">        arguments = p.arguments(1,2,3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="217">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Arguments,            arguments</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="218">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        [1,2,3],              arguments.arguments</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="219">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;p(1,2,3)&#39;,           arguments.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="221">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="222">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="223">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="224">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#name&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="225">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="226">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should create predicates with a name attribute, which is converted to a Symbol&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="227">
          <span class="hits">1</span>
          
          <code class="ruby">        test_predicate = Predicate.new(&#39;test_predicate_name&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="228">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="229">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_respond_to   test_predicate,         :name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="230">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        :test_predicate_name,   test_predicate.name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="231">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="232">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="234">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="235">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#rules&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="236">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="237">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should create predicates with an empty set of rules&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="238">
          <span class="hits">1</span>
          
          <code class="ruby">        test_predicate = Predicate.new(&#39;test_predicate_name&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="240">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_respond_to   test_predicate,         :rules</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="241">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        [],                     test_predicate.rules</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="242">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="243">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="244">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should add new facts to a predicate&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="245">
          <span class="hits">1</span>
          
          <code class="ruby">        alpha = Predicate.new &#39;alpha&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="246">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="247">
          <span class="hits">1</span>
          
          <code class="ruby">        alpha.(&#39;p&#39;,&#39;q&#39;).fact!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="248">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="249">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,                                  alpha.rules.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="250">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    true,                               alpha.rules.first.definition</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="251">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;  alpha(&quot;p&quot;,&quot;q&quot;):- true&#39;,          alpha.rules.first.inspect</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="252">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;alpha:-  alpha(&quot;p&quot;,&quot;q&quot;):- true&#39;,   alpha.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="253">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="254">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Predicate  alpha, :alpha, [alpha.rules.first]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="255">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="256">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="257">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should add new falicies to a predicate&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="258">
          <span class="hits">1</span>
          
          <code class="ruby">        alpha = Predicate.new &#39;alpha&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="259">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="260">
          <span class="hits">1</span>
          
          <code class="ruby">        alpha.(&#39;p&#39;,&#39;q&#39;).falicy!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="261">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="262">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,                                  alpha.rules.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="263">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    false,                              alpha.rules.first.definition</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="264">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;  alpha(&quot;p&quot;,&quot;q&quot;):- false&#39;,         alpha.rules.first.inspect</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="265">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;alpha:-  alpha(&quot;p&quot;,&quot;q&quot;):- false&#39;,  alpha.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="266">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="267">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Predicate  alpha, :alpha, [alpha.rules.first]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="269">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="270">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="272">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#inspect&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="273">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="274">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return a summary of the predicate&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="275">
          <span class="hits">1</span>
          
          <code class="ruby">        alpha = Predicate.new &#39;alpha&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="276">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="277">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;alpha:-&#39;,  alpha.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="278">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="279">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="280">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return a summary of the predicate with rules&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="281">
          <span class="hits">1</span>
          
          <code class="ruby">        alpha = Predicate.new &#39;alpha&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="282">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="283">
          <span class="hits">1</span>
          
          <code class="ruby">        alpha.(:x,:y) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="284">
          
          
          <code class="ruby">          alpha.(:x,:y),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="285">
          
          
          <code class="ruby">          alpha.(:y,:x),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="286">
          
          
          <code class="ruby">          :CUT</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="287">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="288">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="289">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;alpha:-  alpha(:x,:y):- [alpha(:x,:y), alpha(:y,:x), :CUT]&#39;,  alpha.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="290">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="291">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="292">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="293">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="294">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#&lt;&lt;&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="295">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="296">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should add new rules to a predicate&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="297">
          <span class="hits">1</span>
          
          <code class="ruby">        alpha = Predicate.new &#39;alpha&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="298">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="299">
          <span class="hits">1</span>
          
          <code class="ruby">        alpha.(:P,:Q) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="300">
          
          
          <code class="ruby">          alpha.(:P,:Q),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="301">
          
          
          <code class="ruby">          alpha.(:Q,:P),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="302">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="303">
          <span class="hits">1</span>
          
          <code class="ruby">        alpha.(:P,:Q) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="304">
          
          
          <code class="ruby">          alpha.(:P,:P),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="305">
          
          
          <code class="ruby">          alpha.(:Q,:Q),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="306">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="307">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="308">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        2,                              alpha.rules.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="309">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Array,                          alpha.rules.first.definition</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="310">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        2,                              alpha.rules.first.definition.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="311">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="312">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Arguments    alpha.rules.first.definition[0],  :alpha, [:P,:Q]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="313">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Arguments    alpha.rules.first.definition[1],  :alpha, [:Q,:P]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="314">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="315">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;  alpha(:P,:Q):- [alpha(:P,:Q), alpha(:Q,:P)]&#39;,        alpha.rules.first.inspect</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="316">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="317">
          
          
          <code class="ruby">          &#39;alpha:-&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="318">
          
          
          <code class="ruby">          &#39;  alpha(:P,:Q):- [alpha(:P,:Q), alpha(:Q,:P)]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="319">
          
          
          <code class="ruby">          &#39;  alpha(:P,:Q):- [alpha(:P,:P), alpha(:Q,:Q)]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="320">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;),                                                           alpha.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="321">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="322">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Predicate  alpha, :alpha, [alpha.rules[0],alpha.rules[1]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="323">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="324">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="325">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="326">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="327">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#builtin?&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="328">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="329">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return false for normal predicates&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="330">
          <span class="hits">1</span>
          
          <code class="ruby">        p = predicate :normal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="331">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="332">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    false,    p.builtin?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="333">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="334">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="335">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return true for builtin predicates&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="336">
          <span class="hits">1</span>
          
          <code class="ruby">        p = builtin :append</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="337">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="338">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    true,     p.builtin?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="339">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="340">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="341">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="342">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="343">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#satisfy_builtin&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="344">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="345">
          <span class="hits">1</span>
          
          <code class="ruby">      module Porolog</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="346">
          <span class="hits">1</span>
          
          <code class="ruby">        class Predicate</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="347">
          <span class="hits">1</span>
          
          <code class="ruby">          module Builtin</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="348">
          <span class="hits">1</span>
          
          <code class="ruby">            def user_defined(goal, block, *args, &amp;arg_block)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="349">
          <span class="hits">1</span>
          
          <code class="ruby">              puts &#39;Called user_defined&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="350">
          <span class="hits">1</span>
          
          <code class="ruby">              block.call(goal, *args) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="351">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="352">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="353">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="354">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="355">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="356">
          <span class="hits">2</span>
          
          <code class="ruby">      let(:predicate1)  { Predicate.new :user_defined, builtin: true }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="357">
          <span class="hits">2</span>
          
          <code class="ruby">      let(:arguments1)  { predicate1.arguments(:m,:n) }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="358">
          <span class="hits">2</span>
          
          <code class="ruby">      let(:goal)        { arguments1.goal }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="359">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="360">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should satisfy builtin predicate&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="361">
          <span class="hits">1</span>
          
          <code class="ruby">        called = false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="362">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="363">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_output &quot;Called user_defined\n&quot; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="364">
          <span class="hits">1</span>
          
          <code class="ruby">          predicate1.satisfy_builtin(goal) {|*args|</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="365">
          <span class="hits">1</span>
          
          <code class="ruby">            called = args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="366">
          
          
          <code class="ruby">          }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="367">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="368">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="369">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal, goal[:m], goal[:n]],       called</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="370">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="371">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="372">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="373">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="374">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.call_builtin&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="375">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="376">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should raise an exception when no such builtin predicate exists&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="377">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_raises NameError do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="378">
          <span class="hits">1</span>
          
          <code class="ruby">          Predicate.call_builtin(:non_existent)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="379">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="380">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="381">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="382">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="383">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should call a builtin predicate&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="384">
          <span class="hits">1</span>
          
          <code class="ruby">        module Porolog</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="385">
          <span class="hits">1</span>
          
          <code class="ruby">          class Predicate</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="386">
          <span class="hits">1</span>
          
          <code class="ruby">            module Builtin</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="387">
          <span class="hits">1</span>
          
          <code class="ruby">              def custom(goal, block, *args, &amp;arg_block)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="388">
          <span class="hits">1</span>
          
          <code class="ruby">                block.call(goal, *args) || false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="389">
          
          
          <code class="ruby">              end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="390">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="391">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="392">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="393">
          <span class="hits">1</span>
          
          <code class="ruby">        called = false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="394">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="395">
          <span class="hits">1</span>
          
          <code class="ruby">        goal = new_goal :a, :b, :c</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="396">
          <span class="hits">1</span>
          
          <code class="ruby">        block = -&gt;(goal, *args){</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="397">
          <span class="hits">1</span>
          
          <code class="ruby">          called = [goal] + args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="398">
          
          
          <code class="ruby">        }</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="399">
          <span class="hits">1</span>
          
          <code class="ruby">        Porolog::Predicate.call_builtin(:custom, goal, block, goal[:X], [1,2,3]) { 1 }</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="400">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal, goal[:X], [1,2,3]],      called</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="401">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="402">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="403">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="404">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="405">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="406">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="407">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="685a22ce6cc869a4f39ad1a22a51c3df003fc0b1">
  <div class="header">
    <h3>test/porolog/rule_test.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>269</b> relevant lines. 
      <span class="green"><b>269</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   test/porolog/rule_test.rb     - Test Suite for Porolog::Rule</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban      2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="9">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../test_helper&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="11">
          <span class="hits">1</span>
          
          <code class="ruby">describe &#39;Porolog&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="13">
          <span class="hits">1</span>
          
          <code class="ruby">  before(:all) do</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="14">
          <span class="hits">20</span>
          
          <code class="ruby">    reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="17">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;Rule&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="19">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.reset&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="21">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should delete/unregister all rules&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="22">
          <span class="hits">1</span>
          
          <code class="ruby">        pred = Predicate.new :pred</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="23">
          <span class="hits">1</span>
          
          <code class="ruby">        args = Arguments.new pred, [1,2,3]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="25">
          <span class="hits">1</span>
          
          <code class="ruby">        rule1 = Rule.new args, [1,2]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="26">
          <span class="hits">1</span>
          
          <code class="ruby">        rule2 = Rule.new args, [3,4,5]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="27">
          <span class="hits">1</span>
          
          <code class="ruby">        rule3 = Rule.new args, [6]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="29">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;Rule1&#39;,    rule1.myid</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="30">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;Rule2&#39;,    rule2.myid</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="31">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;Rule3&#39;,    rule3.myid</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="33">
          <span class="hits">1</span>
          
          <code class="ruby">        Rule.reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="35">
          <span class="hits">1</span>
          
          <code class="ruby">        rule4 = Rule.new args, [7,8,9,0]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="36">
          <span class="hits">1</span>
          
          <code class="ruby">        rule5 = Rule.new args, [:CUT,false]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="38">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;Rule-999&#39;, rule1.myid</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="39">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;Rule-999&#39;, rule2.myid</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="40">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;Rule-999&#39;, rule3.myid</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="41">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;Rule1&#39;,    rule4.myid</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="42">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;Rule2&#39;,    rule5.myid</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="47">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.new&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="49">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should create a new rule&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="50">
          <span class="hits">1</span>
          
          <code class="ruby">        pred = Predicate.new :pred</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="51">
          <span class="hits">1</span>
          
          <code class="ruby">        args = Arguments.new pred, [1,2,3]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="52">
          <span class="hits">1</span>
          
          <code class="ruby">        defn = [true]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="53">
          <span class="hits">1</span>
          
          <code class="ruby">        rule = Rule.new args, defn</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="55">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Rule         rule, :pred, [1,2,3], [true]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="60">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#initialize&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="62">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should initialize arguments and definition&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="63">
          <span class="hits">1</span>
          
          <code class="ruby">        pred = Predicate.new :pred</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="64">
          <span class="hits">1</span>
          
          <code class="ruby">        args = Arguments.new pred, [1,2,3]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="65">
          <span class="hits">1</span>
          
          <code class="ruby">        defn = [:CUT,false]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="66">
          <span class="hits">1</span>
          
          <code class="ruby">        rule = Rule.new args, defn</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="68">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Rule   rule,   :pred, [1,2,3], [:CUT,false]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="69">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  args,   rule.arguments</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="70">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  defn,   rule.definition</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="75">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#myid&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="77">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should show the rule index&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="78">
          <span class="hits">1</span>
          
          <code class="ruby">        pred = Predicate.new :pred</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="79">
          <span class="hits">1</span>
          
          <code class="ruby">        args = Arguments.new pred, [1,2,3]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="80">
          <span class="hits">1</span>
          
          <code class="ruby">        defn = [:CUT,false]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="81">
          <span class="hits">1</span>
          
          <code class="ruby">        rule = Rule.new args, defn</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="83">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;Rule1&#39;,    rule.myid</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="86">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should show -999 when deleted/unregistered&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="87">
          <span class="hits">1</span>
          
          <code class="ruby">        pred = Predicate.new :pred</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="88">
          <span class="hits">1</span>
          
          <code class="ruby">        args = Arguments.new pred, [1,2,3]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="89">
          <span class="hits">1</span>
          
          <code class="ruby">        defn = [:CUT,false]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="90">
          <span class="hits">1</span>
          
          <code class="ruby">        rule = Rule.new args, defn</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="92">
          <span class="hits">1</span>
          
          <code class="ruby">        Rule.reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="94">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;Rule-999&#39;, rule.myid</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="99">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#inspect&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="101">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should show the predicate, arguments, and definition&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="102">
          <span class="hits">1</span>
          
          <code class="ruby">        pred = Predicate.new :pred</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="103">
          <span class="hits">1</span>
          
          <code class="ruby">        args = Arguments.new pred, [1,2,3]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="104">
          <span class="hits">1</span>
          
          <code class="ruby">        defn = [:CUT,false]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="105">
          <span class="hits">1</span>
          
          <code class="ruby">        rule = Rule.new args, defn</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="107">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;  pred(1,2,3):- [:CUT, false]&#39;,    rule.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="112">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#satisfy&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="114">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should create a subgoal and unify with the goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="115">
          <span class="hits">1</span>
          
          <code class="ruby">        pred = Predicate.new :pred</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="116">
          <span class="hits">1</span>
          
          <code class="ruby">        args = Arguments.new pred, [:a,:b,:c]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="117">
          <span class="hits">1</span>
          
          <code class="ruby">        defn = [true]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="118">
          <span class="hits">1</span>
          
          <code class="ruby">        rule = Rule.new args, defn</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="120">
          <span class="hits">1</span>
          
          <code class="ruby">        goal = new_goal :pred, :x, :y, :z</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="122">
          <span class="hits">1</span>
          
          <code class="ruby">        called = false</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="123">
          <span class="hits">1</span>
          
          <code class="ruby">        rule.satisfy(goal) do |solution_goal|</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="124">
          <span class="hits">1</span>
          
          <code class="ruby">          called = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="126">
          <span class="hits">4</span>
          
          <code class="ruby">          assert_Goal             solution_goal,    :pred, [:a, :b, :c].map{|name| solution_goal.variable(name) }</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="127">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_Goal_variables   solution_goal,    { a: nil, b: nil, c: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">            &#39;Goal2.:a&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby">            &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">            &#39;Goal2.:b&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">            &#39;  Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">            &#39;Goal2.:c&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">            &#39;  Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">          ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="136">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal            goal,             solution_goal.calling_goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="139">
          <span class="hits">1</span>
          
          <code class="ruby">        assert  called, &#39;the satisfy block should be called&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="142">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should delete the subgoal even if it does not unify with the goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="143">
          <span class="hits">1</span>
          
          <code class="ruby">        pred = Predicate.new :alpha</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="144">
          <span class="hits">1</span>
          
          <code class="ruby">        args = Arguments.new pred, [1,2,3,4]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="145">
          <span class="hits">1</span>
          
          <code class="ruby">        defn = [true]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="146">
          <span class="hits">1</span>
          
          <code class="ruby">        rule = Rule.new args, defn</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="148">
          <span class="hits">1</span>
          
          <code class="ruby">        goal    = new_goal :beta, :x, :y</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="150">
          <span class="hits">1</span>
          
          <code class="ruby">        subgoal = new_goal :gamma, :x, :y</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="151">
          <span class="hits">1</span>
          
          <code class="ruby">        subgoal.expects(:delete!).with().times(1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="152">
          <span class="hits">1</span>
          
          <code class="ruby">        subgoal_spy = Spy.on(Goal, :new).and_return(subgoal)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="153">
          <span class="hits">1</span>
          
          <code class="ruby">        called      = false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="155">
          <span class="hits">1</span>
          
          <code class="ruby">        rule.satisfy(goal) do |solution_goal|</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="156">
          
          <span class="hits">skipped</span>
          <code class="ruby">          #:nocov:</code>
        </li>
      
        <li class="skipped" data-hits="0" data-linenumber="157">
          
          <span class="hits">skipped</span>
          <code class="ruby">          called = true</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="158">
          
          <span class="hits">skipped</span>
          <code class="ruby">          #:nocov:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="160">
          <span class="hits">1</span>
          
          <code class="ruby">        refute called, &#39;the satisfy block should not be called&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="161">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  1,  subgoal_spy.calls.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="164">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="166">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#satisfy_definition&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="168">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should call block with subgoal and return true when the definition is true&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="169">
          <span class="hits">1</span>
          
          <code class="ruby">        pred = Predicate.new :normal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="170">
          <span class="hits">1</span>
          
          <code class="ruby">        args = Arguments.new pred, [12]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="171">
          <span class="hits">1</span>
          
          <code class="ruby">        rule = Rule.new args, true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="172">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="173">
          <span class="hits">1</span>
          
          <code class="ruby">        check  = 56</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="174">
          <span class="hits">1</span>
          
          <code class="ruby">        result = rule.satisfy_definition(12, 34) do |subgoal|</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="175">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_equal    34,   subgoal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="176">
          <span class="hits">1</span>
          
          <code class="ruby">          check = 78</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="178">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    true,   result</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="179">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    78,     check</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="180">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="181">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="182">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not call block but return false when the definition is false&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="183">
          <span class="hits">1</span>
          
          <code class="ruby">        pred = Predicate.new :negative</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="184">
          <span class="hits">1</span>
          
          <code class="ruby">        args = Arguments.new pred, [12]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="185">
          <span class="hits">1</span>
          
          <code class="ruby">        rule = Rule.new args, false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="186">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="187">
          <span class="hits">1</span>
          
          <code class="ruby">        check  = 56</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="188">
          <span class="hits">1</span>
          
          <code class="ruby">        result = rule.satisfy_definition(12, 34) do |subgoal|</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="189">
          
          <span class="hits">skipped</span>
          <code class="ruby">          #:nocov:</code>
        </li>
      
        <li class="skipped" data-hits="0" data-linenumber="190">
          
          <span class="hits">skipped</span>
          <code class="ruby">          check = 78</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="191">
          
          <span class="hits">skipped</span>
          <code class="ruby">          #:nocov:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="193">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    false,  result</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="194">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    56,     check</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="195">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="196">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="197">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should call block with subgoal when the definition is an Array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="198">
          <span class="hits">1</span>
          
          <code class="ruby">        pred1 = Predicate.new :success</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="199">
          <span class="hits">1</span>
          
          <code class="ruby">        args1 = Arguments.new pred1, [:any]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="200">
          <span class="hits">1</span>
          
          <code class="ruby">        Rule.new args1, true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="202">
          <span class="hits">1</span>
          
          <code class="ruby">        pred2 = Predicate.new :conjunction</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="203">
          <span class="hits">1</span>
          
          <code class="ruby">        args2 = Arguments.new pred2, [12]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="204">
          <span class="hits">1</span>
          
          <code class="ruby">        rule2 = Rule.new args2, [true,true,true]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="206">
          <span class="hits">1</span>
          
          <code class="ruby">        check  = 56</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="207">
          <span class="hits">1</span>
          
          <code class="ruby">        result = rule2.satisfy_definition(args1.goal, args2.goal) do |subgoal|</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="208">
          <span class="hits">1</span>
          
          <code class="ruby">          check = 78</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="209">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="210">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    true,   result</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="211">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    78,     check</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="212">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="213">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="214">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should raise an exception when the definition is unknown&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="215">
          <span class="hits">1</span>
          
          <code class="ruby">        predicate :strange</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="217">
          <span class="hits">1</span>
          
          <code class="ruby">        strange(12) &lt;&lt; 3.4</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="218">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="219">
          <span class="hits">1</span>
          
          <code class="ruby">        exception = assert_raises Rule::DefinitionError do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="220">
          <span class="hits">1</span>
          
          <code class="ruby">          strange(:X).solve</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="221">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="222">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;UNEXPECTED TYPE OF DEFINITION: 3.4 (Float)&#39;,  exception.message</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="223">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="224">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="225">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="226">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="227">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#satisfy_conjunction&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="228">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="229">
          <span class="hits">9</span>
          
          <code class="ruby">      let(:pred1  ) { Predicate.new :parent }</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="230">
          <span class="hits">9</span>
          
          <code class="ruby">      let(:pred2  ) { Predicate.new :child }</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="231">
          <span class="hits">9</span>
          
          <code class="ruby">      let(:args1  ) { Arguments.new pred1, [1,2,3,4] }</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="232">
          <span class="hits">9</span>
          
          <code class="ruby">      let(:args2  ) { Arguments.new pred2, [:x,:y] }</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="233">
          <span class="hits">7</span>
          
          <code class="ruby">      let(:goal   ) { Goal.new args1, nil }</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="234">
          <span class="hits">7</span>
          
          <code class="ruby">      let(:subgoal) { Goal.new args2, goal }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="235">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="236">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should handle CUT expression&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="237">
          <span class="hits">1</span>
          
          <code class="ruby">        rule = Rule.new args1, [:CUT,true]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="238">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="239">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.expects(:terminate!).with().times(1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="240">
          <span class="hits">1</span>
          
          <code class="ruby">        rule_spy = Spy.on(rule, :satisfy_conjunction).and_call_through</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="241">
          <span class="hits">1</span>
          
          <code class="ruby">        called   = false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="242">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="243">
          <span class="hits">1</span>
          
          <code class="ruby">        result = rule.satisfy_conjunction(goal, subgoal, rule.definition) do |solution_goal|</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="244">
          <span class="hits">1</span>
          
          <code class="ruby">          called = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="245">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="246">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="247">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          result,                         &#39;satisfy_conjunction should succeed&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="248">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          called,                         &#39;the satisfy block should be called&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="249">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,                              rule_spy.calls.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="250">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal, subgoal, [true]],        rule_spy.calls[0].args    # innermost call; finishes first</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="251">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal, subgoal, [:CUT,true]],   rule_spy.calls[1].args    # outermost call; finishes last</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="252">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="253">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="254">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should handle CUT expression at the end of a conjunction&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="255">
          <span class="hits">1</span>
          
          <code class="ruby">        rule = Rule.new args1, [:CUT]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="256">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="257">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.expects(:terminate!).with().times(1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="258">
          <span class="hits">1</span>
          
          <code class="ruby">        rule_spy = Spy.on(rule, :satisfy_conjunction).and_call_through</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="259">
          <span class="hits">1</span>
          
          <code class="ruby">        called   = false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="260">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="261">
          <span class="hits">1</span>
          
          <code class="ruby">        result = rule.satisfy_conjunction(goal, subgoal, rule.definition) do |solution_goal|</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="262">
          <span class="hits">1</span>
          
          <code class="ruby">          called = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="263">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="264">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="265">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          result,                         &#39;satisfy_conjunction should succeed&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="266">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          called,                         &#39;the satisfy block should be called&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="267">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,                              rule_spy.calls.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="268">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal, subgoal, [:CUT]],        rule_spy.calls[0].args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="269">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="270">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="271">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should handle true expression&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="272">
          <span class="hits">1</span>
          
          <code class="ruby">        rule = Rule.new args1, [true]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="273">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="274">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.expects(:terminate!).with().times(0)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="275">
          <span class="hits">1</span>
          
          <code class="ruby">        rule_spy = Spy.on(rule, :satisfy_conjunction).and_call_through</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="276">
          <span class="hits">1</span>
          
          <code class="ruby">        called   = false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="277">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="278">
          <span class="hits">1</span>
          
          <code class="ruby">        result = rule.satisfy_conjunction(goal, subgoal, rule.definition) do |solution_goal|</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="279">
          <span class="hits">1</span>
          
          <code class="ruby">          called = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="280">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="281">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="282">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          result,                         &#39;satisfy_conjunction should succeed&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="283">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          called,                         &#39;the satisfy block should be called&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="284">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,                              rule_spy.calls.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="285">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal, subgoal, [true]],        rule_spy.calls[0].args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="286">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="287">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="288">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should handle false expression&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="289">
          <span class="hits">1</span>
          
          <code class="ruby">        rule = Rule.new args1, [false]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="290">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="291">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.expects(:terminate!).with().times(0)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="292">
          <span class="hits">1</span>
          
          <code class="ruby">        rule_spy = Spy.on(rule, :satisfy_conjunction).and_call_through</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="293">
          <span class="hits">1</span>
          
          <code class="ruby">        called   = false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="294">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="295">
          <span class="hits">1</span>
          
          <code class="ruby">        result = rule.satisfy_conjunction(goal, subgoal, rule.definition) do |solution_goal|</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="296">
          
          <span class="hits">skipped</span>
          <code class="ruby">          #:nocov:</code>
        </li>
      
        <li class="skipped" data-hits="0" data-linenumber="297">
          
          <span class="hits">skipped</span>
          <code class="ruby">          called = true</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="298">
          
          <span class="hits">skipped</span>
          <code class="ruby">          #:nocov:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="299">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="300">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="301">
          <span class="hits">1</span>
          
          <code class="ruby">        refute          result,                         &#39;satisfy_conjunction should not succeed&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="302">
          <span class="hits">1</span>
          
          <code class="ruby">        refute          called,                         &#39;the satisfy block should not be called&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="303">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,                              rule_spy.calls.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="304">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal, subgoal, [false]],       rule_spy.calls[0].args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="305">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="306">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="307">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should handle nil expression&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="308">
          <span class="hits">1</span>
          
          <code class="ruby">        rule = Rule.new args1, []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="309">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="310">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.expects(:terminate!).with().times(0)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="311">
          <span class="hits">1</span>
          
          <code class="ruby">        rule_spy = Spy.on(rule, :satisfy_conjunction).and_call_through</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="312">
          <span class="hits">1</span>
          
          <code class="ruby">        called   = false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="313">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="314">
          <span class="hits">1</span>
          
          <code class="ruby">        result = rule.satisfy_conjunction(goal, subgoal, rule.definition) do |solution_goal|</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="315">
          
          <span class="hits">skipped</span>
          <code class="ruby">          #:nocov:</code>
        </li>
      
        <li class="skipped" data-hits="1" data-linenumber="316">
          
          <span class="hits">skipped</span>
          <code class="ruby">          called = true</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="317">
          
          <span class="hits">skipped</span>
          <code class="ruby">          #:nocov:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="318">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="319">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="320">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          result,                         &#39;satisfy_conjunction should not succeed&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="321">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          called,                         &#39;the satisfy block should not be called&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="322">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,                              rule_spy.calls.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="323">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal, subgoal, []],            rule_spy.calls[0].args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="324">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="325">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="326">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should evaluate conjunctions until a fail&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="327">
          <span class="hits">1</span>
          
          <code class="ruby">        conjunction = [true, true, true, false, true, :CUT, true]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="328">
          <span class="hits">1</span>
          
          <code class="ruby">        rule = Rule.new args1, conjunction</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="329">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="330">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.expects(:terminate!).with().times(0)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="331">
          <span class="hits">1</span>
          
          <code class="ruby">        rule_spy = Spy.on(rule, :satisfy_conjunction).and_call_through</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="332">
          <span class="hits">1</span>
          
          <code class="ruby">        called   = false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="333">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="334">
          <span class="hits">1</span>
          
          <code class="ruby">        result = rule.satisfy_conjunction(goal, subgoal, rule.definition) do |solution_goal|</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="335">
          
          <span class="hits">skipped</span>
          <code class="ruby">          #:nocov:</code>
        </li>
      
        <li class="skipped" data-hits="0" data-linenumber="336">
          
          <span class="hits">skipped</span>
          <code class="ruby">          called = true</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="337">
          
          <span class="hits">skipped</span>
          <code class="ruby">          #:nocov:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="338">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="339">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="340">
          <span class="hits">1</span>
          
          <code class="ruby">        refute          result,                               &#39;satisfy_conjunction should not succeed&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="341">
          <span class="hits">1</span>
          
          <code class="ruby">        refute          called,                               &#39;the satisfy block should not be called&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="342">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    4,                                    rule_spy.calls.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="343">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal, subgoal, conjunction[3..-1]],  rule_spy.calls[0].args</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="344">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal, subgoal, conjunction[2..-1]],  rule_spy.calls[1].args</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="345">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal, subgoal, conjunction[1..-1]],  rule_spy.calls[2].args</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="346">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal, subgoal, conjunction[0..-1]],  rule_spy.calls[3].args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="347">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="348">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="349">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should unify and instantiate variables with a subgoal and satisfy the subgoal and uninstantiate the instantiations&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="350">
          <span class="hits">1</span>
          
          <code class="ruby">        goal    = Goal.new args1, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="351">
          <span class="hits">1</span>
          
          <code class="ruby">        subgoal = Goal.new args2, goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="352">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="353">
          <span class="hits">1</span>
          
          <code class="ruby">        predicate :gamma</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="354">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="355">
          <span class="hits">1</span>
          
          <code class="ruby">        gamma(8,5).fact!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="356">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="357">
          <span class="hits">1</span>
          
          <code class="ruby">        rule = Rule.new args1, [gamma(:j,:k)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="358">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="359">
          <span class="hits">1</span>
          
          <code class="ruby">        subsubgoal = new_goal :gamma, :y, :z</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="360">
          <span class="hits">1</span>
          
          <code class="ruby">        subsubgoal_spy = Spy.on(Goal, :new).and_return do |*args|</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="361">
          <span class="hits">1</span>
          
          <code class="ruby">          Spy.off(Goal, :new)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="362">
          <span class="hits">1</span>
          
          <code class="ruby">          subsubgoal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="363">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="364">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="365">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.expects(:terminate!).with().times(0)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="366">
          <span class="hits">1</span>
          
          <code class="ruby">        subgoal.expects(:terminate!).with().times(0)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="367">
          <span class="hits">1</span>
          
          <code class="ruby">        subsubgoal.expects(:terminate!).with().times(0)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="368">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="369">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.expects(:delete!).with().times(0)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="370">
          <span class="hits">1</span>
          
          <code class="ruby">        subgoal.expects(:delete!).with().times(0)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="371">
          <span class="hits">1</span>
          
          <code class="ruby">        subsubgoal.expects(:delete!).with().times(1)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="372">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="373">
          <span class="hits">1</span>
          
          <code class="ruby">        rule_spy = Spy.on(rule, :satisfy_conjunction).and_call_through</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="374">
          <span class="hits">1</span>
          
          <code class="ruby">        called   = false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="375">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="376">
          <span class="hits">1</span>
          
          <code class="ruby">        result = rule.satisfy_conjunction(goal, subgoal, rule.definition) do |solution_goal|</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="377">
          <span class="hits">1</span>
          
          <code class="ruby">          called = true</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="378">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_Goal               goal,       :parent, [1,2,3,4]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="379">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_Goal_variables     goal,       {}, &#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="380">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_Goal_variables     subgoal,    { x: nil, y: 8, z: 5 }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="381">
          
          
          <code class="ruby">            &#39;Goal2.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="382">
          
          
          <code class="ruby">            &#39;  Goal3.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="383">
          
          
          <code class="ruby">            &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="384">
          
          
          <code class="ruby">            &#39;  Goal3.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="385">
          
          
          <code class="ruby">            &#39;    Goal4.8&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="386">
          
          
          <code class="ruby">            &#39;Goal2.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="387">
          
          
          <code class="ruby">            &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="388">
          
          
          <code class="ruby">            &#39;    Goal4.5&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="389">
          
          
          <code class="ruby">          ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="390">
          <span class="hits">1</span>
          
          <code class="ruby">          assert_Goal_variables     subsubgoal, { x: nil, y: 8, z: 5 }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="391">
          
          
          <code class="ruby">            &#39;Goal3.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="392">
          
          
          <code class="ruby">            &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="393">
          
          
          <code class="ruby">            &#39;  Goal4.8&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="394">
          
          
          <code class="ruby">            &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="395">
          
          
          <code class="ruby">            &#39;  Goal2.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="396">
          
          
          <code class="ruby">            &#39;  Goal4.5&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="397">
          
          
          <code class="ruby">            &#39;Goal3.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="398">
          
          
          <code class="ruby">            &#39;  Goal2.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="399">
          
          
          <code class="ruby">          ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="400">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="401">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="402">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          result,                           &#39;satisfy_conjunction should succeed&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="403">
          <span class="hits">1</span>
          
          <code class="ruby">        assert          called,                           &#39;the satisfy block should be called&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="404">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,                                subsubgoal_spy.calls.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="405">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,                                rule_spy.calls.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="406">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal, subgoal, [gamma(:j,:k)]],  rule_spy.calls[0].args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="407">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="408">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     subgoal,    { x: nil, y: nil, z: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="409">
          
          
          <code class="ruby">          &#39;Goal2.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="410">
          
          
          <code class="ruby">          &#39;  Goal3.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="411">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="412">
          
          
          <code class="ruby">          &#39;  Goal3.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="413">
          
          
          <code class="ruby">          &#39;Goal2.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="414">
          
          
          <code class="ruby">          &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="415">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="416">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     subsubgoal, { x: nil, y: nil, z: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="417">
          
          
          <code class="ruby">          &#39;Goal3.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="418">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="419">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="420">
          
          
          <code class="ruby">          &#39;  Goal2.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="421">
          
          
          <code class="ruby">          &#39;Goal3.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="422">
          
          
          <code class="ruby">          &#39;  Goal2.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="423">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="424">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="425">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="426">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not unify and not instantiate variables with a subgoal nor satisfy the subgoal when it cannot be unified&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="427">
          
          
          <code class="ruby">        # -- Create Goals --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="428">
          <span class="hits">1</span>
          
          <code class="ruby">        goal    = Goal.new args1, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="429">
          <span class="hits">1</span>
          
          <code class="ruby">        subgoal = Goal.new args2, goal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="430">
          <span class="hits">1</span>
          
          <code class="ruby">        subgoal.instantiate :y, 7</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="431">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="432">
          
          
          <code class="ruby">        # -- Create goal for satisfy_conjunction() --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="433">
          <span class="hits">1</span>
          
          <code class="ruby">        subsubgoal = new_goal :gamma, :y, :y, :z</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="434">
          <span class="hits">1</span>
          
          <code class="ruby">        subsubgoal.instantiate    :y, 3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="435">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="436">
          
          
          <code class="ruby">        # -- Check goals are setup correctly --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="437">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal     goal,                                   :parent,  [1,2,3,4]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="438">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal     subgoal,                                :child,   [:x,:y]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="439">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;Goal1 -- Solve parent(1,2,3,4)&#39;,       goal.inspect</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="440">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;Goal2 -- Solve child(:x,:y)&#39;,          subgoal.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="441">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="442">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal,       {}, [].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="443">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="444">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   subgoal,    { x: nil, y: 7 }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="445">
          
          
          <code class="ruby">          &#39;Goal2.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="446">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="447">
          
          
          <code class="ruby">          &#39;  Goal2.7&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="448">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="449">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="450">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   subsubgoal, { y: 3, z: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="451">
          
          
          <code class="ruby">          &#39;Goal3.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="452">
          
          
          <code class="ruby">          &#39;  Goal3.3&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="453">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="454">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="455">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="456">
          
          
          <code class="ruby">        # -- Define Predicate --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="457">
          <span class="hits">1</span>
          
          <code class="ruby">        predicate :gamma</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="458">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="459">
          <span class="hits">1</span>
          
          <code class="ruby">        gamma(8,5).fact!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="460">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="461">
          <span class="hits">1</span>
          
          <code class="ruby">        rule = Rule.new args1, [gamma(:j,:k)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="462">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="463">
          
          
          <code class="ruby">        # -- Prepare Checks for satisfy_conjunction() --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="464">
          <span class="hits">1</span>
          
          <code class="ruby">        subsubgoal_spy = Spy.on(Goal, :new).and_return do |*args|</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="465">
          <span class="hits">1</span>
          
          <code class="ruby">          Spy.off(Goal, :new)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="466">
          <span class="hits">1</span>
          
          <code class="ruby">          subsubgoal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="467">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="468">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="469">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.      expects(:terminate!).with().times(0)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="470">
          <span class="hits">1</span>
          
          <code class="ruby">        subgoal.   expects(:terminate!).with().times(0)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="471">
          <span class="hits">1</span>
          
          <code class="ruby">        subsubgoal.expects(:terminate!).with().times(0)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="472">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="473">
          <span class="hits">1</span>
          
          <code class="ruby">        goal.      expects(:delete!).with().times(0)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="474">
          <span class="hits">1</span>
          
          <code class="ruby">        subgoal.   expects(:delete!).with().times(0)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="475">
          <span class="hits">1</span>
          
          <code class="ruby">        subsubgoal.expects(:delete!).with().times(1)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="476">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="477">
          <span class="hits">1</span>
          
          <code class="ruby">        rule_spy = Spy.on(rule, :satisfy_conjunction).and_call_through</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="478">
          <span class="hits">1</span>
          
          <code class="ruby">        called   = false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="479">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="480">
          
          
          <code class="ruby">        # -- Pre-execution Checks --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="481">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal,       {}, [].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="482">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     subgoal,    { x: nil, y: 7 }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="483">
          
          
          <code class="ruby">          &#39;Goal2.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="484">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="485">
          
          
          <code class="ruby">          &#39;  Goal2.7&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="486">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="487">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     subsubgoal, { y: 3, z: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="488">
          
          
          <code class="ruby">          &#39;Goal3.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="489">
          
          
          <code class="ruby">          &#39;  Goal3.3&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="490">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="491">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="492">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="493">
          
          
          <code class="ruby">        # -- Execute Code --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="494">
          <span class="hits">1</span>
          
          <code class="ruby">        result = rule.satisfy_conjunction(goal, subgoal, rule.definition) do |solution_goal|</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="495">
          
          <span class="hits">skipped</span>
          <code class="ruby">          #:nocov:</code>
        </li>
      
        <li class="skipped" data-hits="0" data-linenumber="496">
          
          <span class="hits">skipped</span>
          <code class="ruby">          called = true</code>
        </li>
      
        <li class="skipped" data-hits="" data-linenumber="497">
          
          <span class="hits">skipped</span>
          <code class="ruby">          #:nocov:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="498">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="499">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="500">
          
          
          <code class="ruby">        # -- Peform Checks --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="501">
          <span class="hits">1</span>
          
          <code class="ruby">        refute          result,                           &#39;satisfy_conjunction should not succeed&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="502">
          <span class="hits">1</span>
          
          <code class="ruby">        refute          called,                           &#39;the satisfy block should not be called&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="503">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,                                subsubgoal_spy.calls.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="504">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,                                rule_spy.calls.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="505">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [goal, subgoal, [gamma(:j,:k)]],  rule_spy.calls[0].args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="506">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="507">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal,       {}, [].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="508">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="509">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     subgoal,    { x: nil, y: 7 }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="510">
          
          
          <code class="ruby">          &#39;Goal2.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="511">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="512">
          
          
          <code class="ruby">          &#39;  Goal2.7&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="513">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="514">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="515">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     subsubgoal, { x: nil, y: 3, z: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="516">
          
          
          <code class="ruby">          &#39;Goal3.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="517">
          
          
          <code class="ruby">          &#39;  Goal3.3&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="518">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="519">
          
          
          <code class="ruby">          &#39;Goal3.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="520">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="521">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="522">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="523">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="524">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="525">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="526">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="527">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="66229a78f1884500775c3a5adea04c13196e1ebf">
  <div class="header">
    <h3>test/porolog/scope_test.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>140</b> relevant lines. 
      <span class="green"><b>140</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   test/porolog/scope_test.rb     - Test Suite for Porolog::Scope</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban      2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../test_helper&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="10">
          <span class="hits">1</span>
          
          <code class="ruby">describe &#39;Porolog&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="12">
          <span class="hits">1</span>
          
          <code class="ruby">  before(:all) do</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="13">
          <span class="hits">14</span>
          
          <code class="ruby">    reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="16">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;Scope&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="18">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should already declare the default scope&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="19">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal        1,            Scope.scopes.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="20">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal        [:default],   Scope.scopes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="22">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Scope        Scope[:default], :default, []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="25">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;should allow predicates with the same name to coexist in different scopes&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="26">
          <span class="hits">1</span>
          
          <code class="ruby">      prime = prime1 = Predicate.new :prime, :first</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="28">
          <span class="hits">1</span>
          
          <code class="ruby">      prime.(2).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="29">
          <span class="hits">1</span>
          
          <code class="ruby">      prime.(3).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="30">
          <span class="hits">1</span>
          
          <code class="ruby">      prime.(5).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="31">
          <span class="hits">1</span>
          
          <code class="ruby">      prime.(7).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="32">
          <span class="hits">1</span>
          
          <code class="ruby">      prime.(11).fact!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="34">
          <span class="hits">1</span>
          
          <code class="ruby">      prime = prime2 = Predicate.new :prime, :second</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="36">
          <span class="hits">1</span>
          
          <code class="ruby">      prime.(&#39;pump A&#39;).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="37">
          <span class="hits">1</span>
          
          <code class="ruby">      prime.(&#39;pump B&#39;).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="38">
          <span class="hits">1</span>
          
          <code class="ruby">      prime.(&#39;pump C&#39;).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="39">
          <span class="hits">1</span>
          
          <code class="ruby">      prime.(&#39;pump D&#39;).fact!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="41">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal        [:default,:first,:second],          Scope.scopes</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="42">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Scope        Scope[:default],  :default, []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="43">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Scope        Scope[:first],    :first,   [prime1]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="44">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_Scope        Scope[:second],   :second,  [prime2]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="46">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal        :prime,     prime1.name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="47">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal        :prime,     prime2.name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">      solutions = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="50">
          <span class="hits">1</span>
          
          <code class="ruby">        { X:  2 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">        { X:  3 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">        { X:  5 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">        { X:  7 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">        { X: 11 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="56">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal        solutions,                prime1.(:X).solve</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">      solutions = [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="59">
          <span class="hits">1</span>
          
          <code class="ruby">        { X: &#39;pump A&#39; },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">        { X: &#39;pump B&#39; },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">        { X: &#39;pump C&#39; },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">        { X: &#39;pump D&#39; },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="64">
          <span class="hits">1</span>
          
          <code class="ruby">      assert_equal        solutions,                prime2.(:X).solve</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="67">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.scopes&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="69">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the names of all registered scopes&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="70">
          <span class="hits">1</span>
          
          <code class="ruby">        Scope.new :alpha</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="71">
          <span class="hits">1</span>
          
          <code class="ruby">        Scope.new :bravo</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="72">
          <span class="hits">1</span>
          
          <code class="ruby">        Scope.new :carly</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="74">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        4,                                    Scope.scopes.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="75">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        [:default, :alpha, :bravo, :carly],   Scope.scopes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="80">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.reset&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="82">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should clear all scopes&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="83">
          <span class="hits">1</span>
          
          <code class="ruby">        delta = Predicate.new :delta</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="85">
          <span class="hits">1</span>
          
          <code class="ruby">        Scope.new :alpha</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="86">
          <span class="hits">1</span>
          
          <code class="ruby">        Scope.new :bravo</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="87">
          <span class="hits">1</span>
          
          <code class="ruby">        Scope.new :carly</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="89">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        4,                                    Scope.scopes.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="90">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        [:default, :alpha, :bravo, :carly],   Scope.scopes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="92">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Scope        Scope[:default],  :default, [delta]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="93">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Scope        Scope[:alpha],    :alpha,   []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="94">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Scope        Scope[:bravo],    :bravo,   []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="95">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Scope        Scope[:carly],    :carly,   []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="97">
          <span class="hits">1</span>
          
          <code class="ruby">        Scope.reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="99">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        1,                                    Scope.scopes.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="100">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        [:default],                           Scope.scopes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="102">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Scope        Scope[:default], :default, []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="104">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                                                Scope[:alpha]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="105">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                                                Scope[:bravo]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="106">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                                                Scope[:carly]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="109">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should clear all scopes and start with a default scope when reset&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="110">
          <span class="hits">1</span>
          
          <code class="ruby">        test_predicate0  = Predicate.new &#39;test_predicate0&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="111">
          <span class="hits">1</span>
          
          <code class="ruby">        test_predicate11 = Predicate.new &#39;test_predicate11&#39;, :scope1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="112">
          <span class="hits">1</span>
          
          <code class="ruby">        test_predicate12 = Predicate.new &#39;test_predicate12&#39;, :scope1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="113">
          <span class="hits">1</span>
          
          <code class="ruby">        test_predicate13 = Predicate.new &#39;test_predicate13&#39;, :scope1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="114">
          <span class="hits">1</span>
          
          <code class="ruby">        test_predicate21 = Predicate.new &#39;test_predicate21&#39;, :scope2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="115">
          <span class="hits">1</span>
          
          <code class="ruby">        test_predicate22 = Predicate.new &#39;test_predicate22&#39;, :scope2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="116">
          <span class="hits">1</span>
          
          <code class="ruby">        test_predicate23 = Predicate.new &#39;test_predicate23&#39;, :scope2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="118">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [:default, :scope1, :scope2],                               Scope.scopes</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="119">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [test_predicate0],                                          Scope[:default].predicates</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="120">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [test_predicate11, test_predicate12, test_predicate13],     Scope[:scope1 ].predicates</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="121">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [test_predicate21, test_predicate22, test_predicate23],     Scope[:scope2 ].predicates</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="123">
          <span class="hits">1</span>
          
          <code class="ruby">        Scope.reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="125">
          <span class="hits">1</span>
          
          <code class="ruby">        test_predicate3  = Predicate.new &#39;test_predicate3&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="127">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [:default],                                                 Scope.scopes</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="128">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [test_predicate3],                                          Scope[:default].predicates</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="129">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                                                                Scope[:scope1 ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="130">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                                                                Scope[:scope2 ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="135">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.[]&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="137">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should provide access to a scope by name&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="138">
          <span class="hits">1</span>
          
          <code class="ruby">        alpha = Scope.new :alpha</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="139">
          <span class="hits">1</span>
          
          <code class="ruby">        bravo = Scope.new :bravo</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="140">
          <span class="hits">1</span>
          
          <code class="ruby">        carly = Scope.new :carly</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="142">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  alpha,  Scope[:alpha]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="143">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  bravo,  Scope[:bravo]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="144">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  carly,  Scope[:carly]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="145">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil            Scope[:delta]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="148">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="150">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.new&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="152">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not create duplicate scopes (with the same name)&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="153">
          <span class="hits">1</span>
          
          <code class="ruby">        Scope.new :duplicate</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="154">
          <span class="hits">1</span>
          
          <code class="ruby">        Scope.new :duplicate</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="155">
          <span class="hits">1</span>
          
          <code class="ruby">        Scope.new :duplicate</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="156">
          <span class="hits">1</span>
          
          <code class="ruby">        Scope.new :duplicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="158">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  2,                                Scope.scopes.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="159">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  1,                                Scope.scopes.count(:duplicate)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="160">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [:default, :duplicate],           Scope.scopes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="164">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="165">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#initialize&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="167">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should keep track of created scopes&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="168">
          <span class="hits">1</span>
          
          <code class="ruby">        Scope.new :alpha</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="169">
          <span class="hits">1</span>
          
          <code class="ruby">        Scope.new :bravo</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="170">
          <span class="hits">1</span>
          
          <code class="ruby">        Scope.new :carly</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="171">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="172">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal   [:default,:alpha,:bravo,:carly], Scope.scopes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="174">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="175">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should create scopes with no predicates&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="176">
          <span class="hits">1</span>
          
          <code class="ruby">        scope = Scope.new(&#39;test_scope_name&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="178">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_respond_to   scope,              :predicates</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="179">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        [],                 scope.predicates</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="180">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="181">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="183">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="184">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#name&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="186">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should create scopes with a name attribute&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="187">
          <span class="hits">1</span>
          
          <code class="ruby">        scope = Scope.new(&#39;test_scope_name&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="189">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_respond_to   scope,              :name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="190">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;test_scope_name&#39;,  scope.name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="194">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="195">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#predicates&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="196">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="197">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should provide access to all the predicates of a scope&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="198">
          <span class="hits">1</span>
          
          <code class="ruby">        test_predicate1 = Predicate.new &#39;test_predicate1&#39;, :test</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="199">
          <span class="hits">1</span>
          
          <code class="ruby">        test_predicate2 = Predicate.new &#39;test_predicate2&#39;, :test</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="200">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="201">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_respond_to   Scope[:test],                         :predicates</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="202">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        [test_predicate1,test_predicate2],    Scope[:test].predicates</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="203">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="207">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#[]&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="208">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="209">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should provide access to a predicate of a scope by its name&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="210">
          <span class="hits">1</span>
          
          <code class="ruby">        test_predicate3 = Predicate.new &#39;test_predicate3&#39;, :test</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="211">
          <span class="hits">1</span>
          
          <code class="ruby">        test_predicate4 = Predicate.new &#39;test_predicate4&#39;, :test</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="212">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="213">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_includes     Scope[:test].predicates,  test_predicate3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="214">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="215">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Class,                    Scope</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="216">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Scope,                    Scope[:test]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="217">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Predicate,                Scope[:test][:test_predicate3]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="218">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="219">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        test_predicate3,          Scope[:test][:test_predicate3]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="220">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        test_predicate3,          Scope[:test][&#39;test_predicate3&#39;]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="221">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        test_predicate4,          Scope[:test][&#39;test_predicate4&#39;]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="222">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="223">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="224">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="225">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="226">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#[]=&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="227">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="228">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should raise an error when trying to put anthing but a Predicate in a Scope&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="229">
          <span class="hits">1</span>
          
          <code class="ruby">        error = assert_raises(Porolog::Scope::NotPredicateError){</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="230">
          <span class="hits">1</span>
          
          <code class="ruby">          scope = Scope.new :scope</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="231">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="232">
          <span class="hits">1</span>
          
          <code class="ruby">          scope[:predicate] = &#39;predicate&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby">        }</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="234">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal error.message, &#39;&quot;predicate&quot; is not a Predicate&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="235">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="236">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="237">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should allow an existing predicate to be assigned to a scope&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="238">
          <span class="hits">1</span>
          
          <code class="ruby">        test_predicate = Predicate.new &#39;test_predicate&#39;, :test</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="240">
          <span class="hits">1</span>
          
          <code class="ruby">        scope = Scope.new :scope</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="241">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="242">
          <span class="hits">1</span>
          
          <code class="ruby">        scope[:predicate] = test_predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="243">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="244">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        3,                                    Scope.scopes.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="245">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        [:default, :test, :scope],            Scope.scopes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="246">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="247">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Scope        Scope[:default],                      :default, []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="248">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Scope        Scope[:test],                         :test,    [test_predicate]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="249">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Scope        Scope[:scope],                        :scope,   [test_predicate]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="250">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="251">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="252">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="253">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="254">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="255">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="256">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="9847e80592236e372b2bf49bfa0d7c726a8361ee">
  <div class="header">
    <h3>test/porolog/tail_test.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>57</b> relevant lines. 
      <span class="green"><b>57</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   test/porolog/tail_test.rb     - Test Suite for Porolog::Tail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban      2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../test_helper&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="10">
          <span class="hits">1</span>
          
          <code class="ruby">describe &#39;Porolog&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="12">
          <span class="hits">1</span>
          
          <code class="ruby">  before(:all) do</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="13">
          <span class="hits">12</span>
          
          <code class="ruby">    reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="16">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;Tail&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="18">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.new&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="20">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;creates an unknown tail when no value is provided&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="21">
          <span class="hits">1</span>
          
          <code class="ruby">        tail = Tail.new</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="23">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Tail               tail,             &#39;*...&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="24">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal              UNKNOWN_TAIL,     tail.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="27">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;creates a tail with a value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="28">
          <span class="hits">1</span>
          
          <code class="ruby">        tail = Tail.new [2,3,5,7,11,13]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="30">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Tail               tail,             &#39;*[2, 3, 5, 7, 11, 13]&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="31">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal              [2,3,5,7,11,13],  tail.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="34">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;creates a tail with a variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="35">
          <span class="hits">1</span>
          
          <code class="ruby">        tail = Tail.new :x</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="37">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Tail               tail,             &#39;*:x&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="38">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal              :x,               tail.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="43">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#value&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="45">
          <span class="hits">2</span>
          
          <code class="ruby">      let(:object) { Object.new }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="47">
          <span class="hits">1</span>
          
          <code class="ruby">      before do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="48">
          <span class="hits">1</span>
          
          <code class="ruby">        def object.inspect</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="49">
          <span class="hits">1</span>
          
          <code class="ruby">          super.gsub(/Object:0x[[:xdigit:]]+/,&#39;Object:0xXXXXXX&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="53">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;returns its value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="54">
          <span class="hits">1</span>
          
          <code class="ruby">        tail = Tail.new object</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="56">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Tail               tail,             &#39;*#&lt;Object:0xXXXXXX&gt;&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="57">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal              object,           tail.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="62">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#inspect&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="64">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;returns a string showing a splat operation is implied&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="65">
          <span class="hits">1</span>
          
          <code class="ruby">        tail = Tail.new [2,3,5,7,11,13]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="67">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      &#39;*[2, 3, 5, 7, 11, 13]&#39;,  tail.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="72">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#variables&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="74">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;returns an empty Array when it was created without arguments&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="75">
          <span class="hits">1</span>
          
          <code class="ruby">        tail = Tail.new</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="77">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      [],                       tail.variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="80">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;returns an empty Array when it was created with an Array of atomics&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="81">
          <span class="hits">1</span>
          
          <code class="ruby">        tail = Tail.new [2,3,5,7,11,13]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="83">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      [],                       tail.variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="86">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;returns an Array of Symbols when it was created with a Symbol&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="87">
          <span class="hits">1</span>
          
          <code class="ruby">        tail = Tail.new :t</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="89">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      [:t],                     tail.variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="92">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;returns an Array of Symbols when it was created with an Array with embedded Symbols&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="93">
          <span class="hits">1</span>
          
          <code class="ruby">        tail = Tail.new [2,3,:x,7,[:y,[:z]],13]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="95">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal      [:x,:y,:z],               tail.variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="100">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#==&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="102">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;returns true for unknown tails&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="103">
          <span class="hits">1</span>
          
          <code class="ruby">        tail1 = Tail.new</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="104">
          <span class="hits">1</span>
          
          <code class="ruby">        tail2 = Tail.new</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="106">
          <span class="hits">1</span>
          
          <code class="ruby">        assert            tail1 == tail2, name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="109">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;returns false for different symbols&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="110">
          <span class="hits">1</span>
          
          <code class="ruby">        tail1 = Tail.new :t</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="111">
          <span class="hits">1</span>
          
          <code class="ruby">        tail2 = Tail.new :x</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="113">
          <span class="hits">1</span>
          
          <code class="ruby">        refute            tail1 == tail2, name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="116">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;returns true for equal values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="117">
          <span class="hits">1</span>
          
          <code class="ruby">        tail1 = Tail.new 12.34</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="118">
          <span class="hits">1</span>
          
          <code class="ruby">        tail2 = Tail.new 12.34</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="120">
          <span class="hits">1</span>
          
          <code class="ruby">        assert            tail1 == tail2, name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f2ba36f5ed1fa1cb9e2a4dc7862bbb78b135be23">
  <div class="header">
    <h3>test/porolog/value_test.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>160</b> relevant lines. 
      <span class="green"><b>160</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   test/porolog/value_test.rb     - Test Suite for Porolog::Value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban      2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../test_helper&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="10">
          <span class="hits">1</span>
          
          <code class="ruby">describe &#39;Porolog&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="12">
          <span class="hits">1</span>
          
          <code class="ruby">  before(:all) do</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="13">
          <span class="hits">25</span>
          
          <code class="ruby">    reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="16">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;Value&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="23" data-linenumber="18">
          <span class="hits">23</span>
          
          <code class="ruby">    let(:goal) { new_goal :generic, [:m, :n] }</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="19">
          <span class="hits">12</span>
          
          <code class="ruby">    let(:v)    { Value.new 456.123, goal }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="21">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.new&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="23">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should create a new value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="24">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Value,      v</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="29">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#initialize&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="31">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should initialize value and goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="32">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        456.123,    v.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="33">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        goal,       v.goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="36">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should raise an error when a goal is not provided&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="37">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_raises Value::GoalError do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="38">
          <span class="hits">1</span>
          
          <code class="ruby">          Value.new 456.789, &#39;goal&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="42">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should copy the value of another Value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="43">
          <span class="hits">1</span>
          
          <code class="ruby">        other = Value.new 123.456, goal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="44">
          <span class="hits">1</span>
          
          <code class="ruby">        v     = Value.new other,   goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="46">
          <span class="hits">1</span>
          
          <code class="ruby">        refute_instance_of  Value,      v.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="47">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        123.456,    v.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="52">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#inspect&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="54">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should show the goal and the value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="55">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;Goal1.456.123&#39;,                            v.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="60">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#instantiations&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="62">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return no instantiations&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="63">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        [],                                         v.instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="68">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#inspect_with_instantiations&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="70">
          <span class="hits">3</span>
          
          <code class="ruby">      let(:depth) { rand(0..10) }</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="71">
          <span class="hits">3</span>
          
          <code class="ruby">      let(:index) { rand(0..10) }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="73">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should should show the goal and value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="74">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;Goal1.456.123&#39;,                            v.inspect_with_instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="77">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should should show the goal and indexed value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="78">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &quot;Goal1.456.123[#{index}]&quot;,                  v.inspect_with_instantiations(nil, 0, index)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="81">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should should show the goal and value indentation showing instantiation depth&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="82">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &quot;#{&#39;  &#39; * depth}Goal1.456.123&quot;,             v.inspect_with_instantiations(nil, depth)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="85">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should should show the goal and value indentation showing instantiation depth and indexed value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="86">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &quot;#{&#39;  &#39; * depth}Goal1.456.123[#{index}]&quot;,   v.inspect_with_instantiations(nil, depth, index)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="91">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#remove&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="93">
          <span class="hits">3</span>
          
          <code class="ruby">      let(:predicate1) { Predicate.new :removal }</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="94">
          <span class="hits">3</span>
          
          <code class="ruby">      let(:arguments1) { predicate1.arguments(:m,:n) }</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="95">
          <span class="hits">3</span>
          
          <code class="ruby">      let(:goal1)      { arguments1.goal }</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="96">
          <span class="hits">3</span>
          
          <code class="ruby">      let(:goal2)      { arguments1.goal }</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="97">
          <span class="hits">3</span>
          
          <code class="ruby">      let(:goal3)      { arguments1.goal }</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="98">
          <span class="hits">3</span>
          
          <code class="ruby">      let(:goal4)      { arguments1.goal }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="100">
          <span class="hits">3</span>
          
          <code class="ruby">      let(:variable1)  { Variable.new :x,  goal1 }</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="101">
          <span class="hits">3</span>
          
          <code class="ruby">      let(:variable2)  { Variable.new :y,  goal2 }</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="102">
          <span class="hits">3</span>
          
          <code class="ruby">      let(:variable3)  { Variable.new :z,  goal3 }</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="103">
          <span class="hits">3</span>
          
          <code class="ruby">      let(:variable4)  { Variable.new :a,  goal1 }</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="104">
          <span class="hits">3</span>
          
          <code class="ruby">      let(:value1)     { Value.new &#39;word&#39;, goal2 }</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="105">
          <span class="hits">3</span>
          
          <code class="ruby">      let(:value2)     { Value.new &#39;draw&#39;, goal4 }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="107">
          <span class="hits">1</span>
          
          <code class="ruby">      before do</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="108">
          <span class="hits">2</span>
          
          <code class="ruby">        reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="110">
          <span class="hits">2</span>
          
          <code class="ruby">        variable1.instantiate variable2</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="111">
          <span class="hits">2</span>
          
          <code class="ruby">        variable1.instantiate variable3</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="112">
          <span class="hits">2</span>
          
          <code class="ruby">        variable2.instantiate value1</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="113">
          <span class="hits">2</span>
          
          <code class="ruby">        variable4.instantiate value2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="115">
          <span class="hits">2</span>
          
          <code class="ruby">        assert_Goal_variables     goal1,  { m: nil, n: nil, x: &#39;word&#39;, a: &#39;draw&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">          &#39;    Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby">          &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">          &#39;Goal1.:a&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">          &#39;  Goal4.&quot;draw&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="126">
          <span class="hits">2</span>
          
          <code class="ruby">        assert_equal    2,        variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="127">
          <span class="hits">2</span>
          
          <code class="ruby">        assert_equal    2,        variable2.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="128">
          <span class="hits">2</span>
          
          <code class="ruby">        assert_equal    1,        variable3.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="129">
          <span class="hits">2</span>
          
          <code class="ruby">        assert_equal    1,        variable4.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="131">
          <span class="hits">2</span>
          
          <code class="ruby">        assert_Instantiation      variable1.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="132">
          <span class="hits">2</span>
          
          <code class="ruby">        assert_Instantiation      variable1.instantiations[1], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="133">
          <span class="hits">2</span>
          
          <code class="ruby">        assert_Instantiation      variable2.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="134">
          <span class="hits">2</span>
          
          <code class="ruby">        assert_Instantiation      variable2.instantiations[1], variable2, value1,    nil, nil</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="135">
          <span class="hits">2</span>
          
          <code class="ruby">        assert_Instantiation      variable3.instantiations[0], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="136">
          <span class="hits">2</span>
          
          <code class="ruby">        assert_Instantiation      variable4.instantiations[0], variable4, value2,    nil, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="138">
          <span class="hits">2</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable1.value</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="139">
          <span class="hits">2</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable2.value</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="140">
          <span class="hits">2</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable3.value</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="141">
          <span class="hits">2</span>
          
          <code class="ruby">        assert_equal    &#39;draw&#39;,   variable4.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="144">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should remove all instantiations case 1: remove value1&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="146">
          <span class="hits">1</span>
          
          <code class="ruby">        value1.remove</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="148">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal1,  { m: nil, n: nil, x: nil, a: &#39;draw&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">          &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">          &#39;Goal1.:a&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby">          &#39;  Goal4.&quot;draw&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="158">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,          variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="159">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,          variable2.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="160">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,          variable3.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="161">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,          variable4.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="163">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable1.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="164">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable1.instantiations[1], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="165">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable2.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="166">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable2.instantiations[1]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="167">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable3.instantiations[0], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="168">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable4.instantiations[0], variable4, value2,    nil, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="170">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable1,  variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="171">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable2,  variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="172">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable3,  variable3.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="173">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;draw&#39;,     variable4.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="174">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="176">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should remove all instantiations case 2: remove value2&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="178">
          <span class="hits">1</span>
          
          <code class="ruby">        value2.remove</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="179">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="180">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal1,  { m: nil, n: nil, x: &#39;word&#39;, a: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="181">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="183">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="184">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">          &#39;    Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="186">
          
          
          <code class="ruby">          &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="187">
          
          
          <code class="ruby">          &#39;Goal1.:a&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="190">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,          variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="191">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,          variable2.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="192">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,          variable3.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="193">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    0,          variable4.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="194">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="195">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable1.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="196">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable1.instantiations[1], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="197">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable2.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="198">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable2.instantiations[1], variable2, value1,    nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="199">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable3.instantiations[0], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="200">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable4.instantiations[0]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="202">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,     variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="203">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,     variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="204">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,     variable3.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="205">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable4,  variable4.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="208">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="209">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="210">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#method_missing&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="212">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should pass any unexpected methods to the value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="213">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        456,        v.to_i</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="214">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        466.123,    v + 10</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="215">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="217">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="218">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="219">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#respond_to?&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="221">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should respond to Value methods and methods of the actual value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="222">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        true,       v.respond_to?(:instantiations)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="223">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        true,       v.respond_to?(:inspect_with_instantiations)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="224">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        true,       v.respond_to?(:value)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="225">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        true,       v.respond_to?(:to_i)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="226">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        true,       v.respond_to?(:+)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="227">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="228">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="229">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="230">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="231">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#value&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="232">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="233">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should take any number of arguments to be compatible with the value method of a variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="234">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        456.123,    v.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="235">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        456.123,    v.value(nil)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="236">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        456.123,    v.value(1,2,3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="237">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        456.123,    v.value([])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="238">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="240">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="241">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="242">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#type&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="243">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="244">
          <span class="hits">2</span>
          
          <code class="ruby">      let(:float)   { Value.new 456.789,    goal }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="245">
          <span class="hits">2</span>
          
          <code class="ruby">      let(:integer) { Value.new 456,        goal }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="246">
          <span class="hits">2</span>
          
          <code class="ruby">      let(:string)  { Value.new &#39;average&#39;,  goal }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="247">
          <span class="hits">2</span>
          
          <code class="ruby">      let(:array)   { Value.new [1,2,3],    goal }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="248">
          <span class="hits">2</span>
          
          <code class="ruby">      let(:object)  { Value.new Object.new, goal }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="249">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="250">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return atomic for Float&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="251">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        :atomic,    float.type</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="252">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="253">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="254">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return atomic for Integer&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="255">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        :atomic,    integer.type</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="256">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="257">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="258">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return atomic for String&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="259">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        :atomic,    string.type</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="260">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="261">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="262">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return atomic for Array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="263">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        :array,     array.type</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="264">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="265">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="266">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return atomic for Object&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="267">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        :atomic,    object.type</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="269">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="270">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="272">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#==&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="273">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="274">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return false for Values of different types&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="275">
          <span class="hits">1</span>
          
          <code class="ruby">        v1 = Value.new 456.789,   goal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="276">
          <span class="hits">1</span>
          
          <code class="ruby">        v2 = Value.new &#39;average&#39;, goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="277">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="278">
          <span class="hits">1</span>
          
          <code class="ruby">        refute      v1 == v2,     &quot;#{name}: #{v1.value.inspect} == #{v2.value.inspect}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="279">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="280">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="281">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return false for Values of the same type but different values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="282">
          <span class="hits">1</span>
          
          <code class="ruby">        v1 = Value.new 456.789,   goal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="283">
          <span class="hits">1</span>
          
          <code class="ruby">        v2 = Value.new 123.456,   goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="284">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="285">
          <span class="hits">1</span>
          
          <code class="ruby">        refute      v1 == v2,     &quot;#{name}: #{v1.value.inspect} == #{v2.value.inspect}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="286">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="287">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="288">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return true for Values of the same type and the same value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="289">
          <span class="hits">1</span>
          
          <code class="ruby">        v1 = Value.new 456.789,   goal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="290">
          <span class="hits">1</span>
          
          <code class="ruby">        v2 = Value.new 456.789,   goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="291">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="292">
          <span class="hits">1</span>
          
          <code class="ruby">        assert      v1 == v2,     &quot;#{name}: #{v1.value.inspect} == #{v2.value.inspect}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="293">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="294">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="295">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="296">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="297">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#variables&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="298">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="299">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return an empty Array for a Float value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="300">
          <span class="hits">1</span>
          
          <code class="ruby">        float = Value.new 456.789, goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="301">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="302">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        [],             float.variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="303">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="304">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="305">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return an Array of Symbols for embedded Variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="306">
          <span class="hits">1</span>
          
          <code class="ruby">        array = Value.new [1, :b, 3, [&#39;four&#39;, :e, 6], [[:g, 8]]], goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="307">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="308">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        [:b, :e, :g],   array.variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="309">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="310">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="311">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="312">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="313">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="314">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="315">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="4f03f8f77c23cb8de15c2dc44038781f19bea352">
  <div class="header">
    <h3>test/porolog/variable_test.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>651</b> relevant lines. 
      <span class="green"><b>651</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   test/porolog/variable_test.rb     - Test Suite for Porolog::Variable</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban      2 May 2018</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../test_helper&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="10">
          <span class="hits">1</span>
          
          <code class="ruby">describe &#39;Porolog&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="12">
          <span class="hits">1</span>
          
          <code class="ruby">  describe &#39;Variable&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="54" data-linenumber="14">
          <span class="hits">54</span>
          
          <code class="ruby">    let(:predicate1)  { Predicate.new :generic }</code>
        </li>
      
        <li class="covered" data-hits="54" data-linenumber="15">
          <span class="hits">54</span>
          
          <code class="ruby">    let(:arguments1)  { predicate1.arguments(:m,:n) }</code>
        </li>
      
        <li class="covered" data-hits="53" data-linenumber="16">
          <span class="hits">53</span>
          
          <code class="ruby">    let(:goal1)       { arguments1.goal }</code>
        </li>
      
        <li class="covered" data-hits="28" data-linenumber="17">
          <span class="hits">28</span>
          
          <code class="ruby">    let(:goal2)       { arguments1.goal }</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="18">
          <span class="hits">15</span>
          
          <code class="ruby">    let(:goal3)       { arguments1.goal }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="20">
          <span class="hits">1</span>
          
          <code class="ruby">    before do</code>
        </li>
      
        <li class="covered" data-hits="54" data-linenumber="21">
          <span class="hits">54</span>
          
          <code class="ruby">      reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="24">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;.new&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="26">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should create a new variable in a goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="27">
          <span class="hits">1</span>
          
          <code class="ruby">        variable = Variable.new :x, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="29">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of      Variable,   variable</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="30">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal1,      { m: nil, n: nil, x: nil },  [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="39">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#initialize&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="41">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should initialize name, goal, instantiations, and values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="42">
          <span class="hits">1</span>
          
          <code class="ruby">        variable = Variable.new :x, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="44">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Variable     variable,   :x, goal1, [], []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="47">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should convert a string name to a symbol name&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="48">
          <span class="hits">1</span>
          
          <code class="ruby">        variable = Variable.new &#39;s&#39;, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="50">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        :s,         variable.name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="53">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should convert a variable name to its name&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="54">
          <span class="hits">1</span>
          
          <code class="ruby">        other    = Variable.new &#39;other&#39;,  goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="55">
          <span class="hits">1</span>
          
          <code class="ruby">        variable = Variable.new other,    goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="57">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal            :other,     variable.name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="58">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal1,     { m: nil, n: nil, other: nil },   [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">          &#39;Goal1.:other&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="65">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should convert a value name to its name and initialize its values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="66">
          <span class="hits">1</span>
          
          <code class="ruby">        value    = Value.new    &#39;other&#39;,  goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="67">
          <span class="hits">1</span>
          
          <code class="ruby">        variable = Variable.new value,    goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="69">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;other&#39;,    variable.name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="70">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        [value],    variable.values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="72">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;other&#39;,    variable.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="75">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should convert other types as a name to its value&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">        # TECH-DEBT: Not super sure about this spec!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="77">
          <span class="hits">1</span>
          
          <code class="ruby">        variable = Variable.new 0.875,    goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="79">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;0.875&#39;,    variable.name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="80">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Array,      variable.values</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="81">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        1,          variable.values.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="83">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Value        variable.values.first,    0.875, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="84">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        0.875,      variable.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="87">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should raise an error when a goal is not provided&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="88">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_raises Variable::GoalError do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="89">
          <span class="hits">1</span>
          
          <code class="ruby">          Variable.new :x, &#39;goal&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="93">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should declare the variable in the goal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="94">
          <span class="hits">1</span>
          
          <code class="ruby">        Variable.new :x, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="96">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal1,   { m: nil, n: nil, x: nil },   [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="105">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#to_sym&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="107">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should convert a variable to a Symbol&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="108">
          <span class="hits">1</span>
          
          <code class="ruby">        variable = Variable.new &#39;v&#39;, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="110">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        :v,         variable.to_sym</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="115">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#type&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="117">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return variable from uninstantiated variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="118">
          <span class="hits">1</span>
          
          <code class="ruby">        variable = Variable.new &#39;v&#39;, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="120">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        :variable,  variable.type</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="123">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return variable from instantiated variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="124">
          <span class="hits">1</span>
          
          <code class="ruby">        variable = Variable.new &#39;v&#39;, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="125">
          <span class="hits">1</span>
          
          <code class="ruby">        variable.instantiate &#39;string value&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="127">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        :variable,  variable.type</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="132">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#inspect&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="134">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should show the goal and name&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="135">
          <span class="hits">1</span>
          
          <code class="ruby">        variable = Variable.new &#39;v&#39;, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="137">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;Goal1.:v&#39;, variable.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="142">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#inspect_with_instantiations&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="144">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should show a variable without instantiations as inspect does&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="145">
          <span class="hits">1</span>
          
          <code class="ruby">        variable = Variable.new :x, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="147">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal variable.inspect, variable.inspect_with_instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="148">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="150">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return all instantiations of a variable with nested instantiations&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="151">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1  = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="152">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2  = Variable.new :y, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="153">
          <span class="hits">1</span>
          
          <code class="ruby">        variable3  = Variable.new :z, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="155">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.instantiate variable2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="156">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate variable3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="158">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;Goal1.:x&#39;,               variable1.inspect</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="159">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;Goal1.:y&#39;,               variable2.inspect</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="160">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;Goal1.:z&#39;,               variable3.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="162">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Array,                    variable1.instantiations</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="163">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Array,                    variable2.instantiations</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="164">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Array,                    variable3.instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="166">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        1,                        variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="167">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        2,                        variable2.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="168">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        1,                        variable3.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="170">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Instantiation,            variable1.instantiations.first</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="171">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;Goal1.:x = Goal1.:y&#39;,    variable1.instantiations.first.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="172">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="173">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Instantiation,            variable2.instantiations[0]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="174">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;Goal1.:x = Goal1.:y&#39;,    variable2.instantiations[0].inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="176">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Instantiation,            variable2.instantiations[1]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="177">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;Goal1.:y = Goal1.:z&#39;,    variable2.instantiations[1].inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="179">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Instantiation,            variable3.instantiations.first</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="180">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;Goal1.:y = Goal1.:z&#39;,    variable3.instantiations.first.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="181">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="182">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        variable1.instantiations + variable3.instantiations,  variable2.instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="183">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="184">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">          [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="186">
          
          
          <code class="ruby">            &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="187">
          
          
          <code class="ruby">            &#39;  Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby">            &#39;    Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby">            &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="190">
          
          
          <code class="ruby">            &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby">            &#39;  Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">            &#39;Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby">            &#39;  Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="194">
          
          
          <code class="ruby">            &#39;    Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="195">
          
          
          <code class="ruby">          ].join(&quot;\n&quot;),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="196">
          
          
          <code class="ruby">          [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="197">
          
          
          <code class="ruby">            variable1.inspect_with_instantiations,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="198">
          
          
          <code class="ruby">            variable2.inspect_with_instantiations,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="199">
          
          
          <code class="ruby">            variable3.inspect_with_instantiations,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="200">
          
          
          <code class="ruby">          ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="202">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="203">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="206">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#value&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="208">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the variable when no value has been instantiated&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="209">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="210">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2 = Variable.new :y, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="212">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.instantiate variable2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="213">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="214">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  variable1,    variable1.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="215">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="217">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the indirect value through instantiations&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="218">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="219">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2 = Variable.new :y, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="220">
          <span class="hits">1</span>
          
          <code class="ruby">        value     = Value.new [1,2,3], goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="221">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="222">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.instantiate variable2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="223">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="224">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="225">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [1,2,3],    variable1.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="226">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="227">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="228">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not return unbound headtails&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="229">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal   goal1, :generic, [:m, :n]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="230">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="231">
          
          
          <code class="ruby">        # -- Create Variables --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="232">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1     = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="233">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2     = Variable.new :y, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="234">
          <span class="hits">1</span>
          
          <code class="ruby">        variable3     = Variable.new :z, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="235">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="236">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal1, { m: nil, n: nil, x: nil, y: nil, z: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="237">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="238">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="240">
          
          
          <code class="ruby">          &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="241">
          
          
          <code class="ruby">          &#39;Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="242">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="243">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="244">
          
          
          <code class="ruby">        # -- Create Values --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="245">
          <span class="hits">1</span>
          
          <code class="ruby">        headtail      = goal1.variablise(:m/:n)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="246">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Array_with_Tail         headtail, [goal1.variable(:m)], &#39;*Goal1.:n&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="247">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="248">
          <span class="hits">1</span>
          
          <code class="ruby">        value1        = Value.new headtail, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="249">
          <span class="hits">1</span>
          
          <code class="ruby">        value2        = Value.new [1,2,3],  goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="250">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="251">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Value    value1, headtail,   goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="252">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Value    value2, [1,2,3],    goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="253">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="254">
          
          
          <code class="ruby">        # -- Instantiate --</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="255">
          
          
          <code class="ruby">        #   Goal1.:x</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="256">
          
          
          <code class="ruby">        #     Goal1.:y</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="257">
          <span class="hits">1</span>
          
          <code class="ruby">        i1 = variable1.instantiate variable2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="258">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="259">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        i1,   variable1, variable2, nil, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="260">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="261">
          
          
          <code class="ruby">        # -- Assert No Values --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="262">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable1,  variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="263">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable2,  variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="264">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable3,  variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="265">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="266">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables       goal1, { m: nil, n: nil, x: nil, y: nil, z: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="267">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="269">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="270">
          
          
          <code class="ruby">          &#39;  Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby">          &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="272">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="273">
          
          
          <code class="ruby">          &#39;Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="274">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="275">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="276">
          
          
          <code class="ruby">        # -- Instantiate --</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="277">
          
          
          <code class="ruby">        #   Goal1.:x</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="278">
          
          
          <code class="ruby">        #     Goal1.:z</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="279">
          <span class="hits">1</span>
          
          <code class="ruby">        i2 = variable1.instantiate variable3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="280">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="281">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        i2,   variable1, variable3, nil, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="282">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="283">
          
          
          <code class="ruby">        # -- Assert No Values --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="284">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable1,  variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="285">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable2,  variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="286">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable3,  variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="287">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="288">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables       goal1, { m: nil, n: nil, x: nil, y: nil, z: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="289">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="290">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="291">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="292">
          
          
          <code class="ruby">          &#39;  Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="293">
          
          
          <code class="ruby">          &#39;  Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="294">
          
          
          <code class="ruby">          &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="295">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="296">
          
          
          <code class="ruby">          &#39;    Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="297">
          
          
          <code class="ruby">          &#39;Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="298">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="299">
          
          
          <code class="ruby">          &#39;    Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="300">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="301">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="302">
          
          
          <code class="ruby">        # -- Instantiate --</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="303">
          
          
          <code class="ruby">        #   Goal1.:y</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="304">
          
          
          <code class="ruby">        #     [Goal1.:m, *Goal1.:n]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="305">
          <span class="hits">1</span>
          
          <code class="ruby">        i3 = variable2.instantiate value1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="306">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="307">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        i3,   variable2, value1, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="308">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    headtail,   variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="309">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    headtail,   variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="310">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    headtail,   variable3.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="311">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    headtail,   goal1.value_of(:x)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="312">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    headtail,   goal1.value_of(:y)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="313">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    headtail,   goal1.value_of(:z)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="314">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables       goal1, {</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="315">
          
          
          <code class="ruby">          m: nil,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="316">
          
          
          <code class="ruby">          n: nil,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="317">
          
          
          <code class="ruby">          x: [nil, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="318">
          
          
          <code class="ruby">          y: [nil, UNKNOWN_TAIL],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="319">
          
          
          <code class="ruby">          z: [nil, UNKNOWN_TAIL]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="320">
          
          
          <code class="ruby">        }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="321">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="322">
          
          
          <code class="ruby">          &#39;  Goal1.:y[:head]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="323">
          
          
          <code class="ruby">          &#39;    Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="324">
          
          
          <code class="ruby">          &#39;      Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="325">
          
          
          <code class="ruby">          &#39;    Goal1.[Goal1.:m, *Goal1.:n]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="326">
          
          
          <code class="ruby">          &#39;    [:tail]Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="327">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="328">
          
          
          <code class="ruby">          &#39;  Goal1.:y[:tail]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="329">
          
          
          <code class="ruby">          &#39;    Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="330">
          
          
          <code class="ruby">          &#39;      Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="331">
          
          
          <code class="ruby">          &#39;    Goal1.[Goal1.:m, *Goal1.:n]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="332">
          
          
          <code class="ruby">          &#39;    [:head]Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="333">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="334">
          
          
          <code class="ruby">          &#39;  Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="335">
          
          
          <code class="ruby">          &#39;    Goal1.[Goal1.:m, *Goal1.:n]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="336">
          
          
          <code class="ruby">          &#39;    [:head]Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="337">
          
          
          <code class="ruby">          &#39;    [:tail]Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="338">
          
          
          <code class="ruby">          &#39;  Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="339">
          
          
          <code class="ruby">          &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="340">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="341">
          
          
          <code class="ruby">          &#39;    Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="342">
          
          
          <code class="ruby">          &#39;  Goal1.[Goal1.:m, *Goal1.:n]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="343">
          
          
          <code class="ruby">          &#39;  [:head]Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="344">
          
          
          <code class="ruby">          &#39;  [:tail]Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="345">
          
          
          <code class="ruby">          &#39;Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="346">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="347">
          
          
          <code class="ruby">          &#39;    Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="348">
          
          
          <code class="ruby">          &#39;      Goal1.[Goal1.:m, *Goal1.:n]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="349">
          
          
          <code class="ruby">          &#39;      [:head]Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="350">
          
          
          <code class="ruby">          &#39;      [:tail]Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="351">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="352">
          
          
          <code class="ruby">          </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="353">
          
          
          <code class="ruby">        # -- Instantiate --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="354">
          <span class="hits">1</span>
          
          <code class="ruby">        i3 = variable3.instantiate value2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="355">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="356">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        i3,   variable3, value2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="357">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [1,2,3],    variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="358">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [1,2,3],    variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="359">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [1,2,3],    variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="360">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="361">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables       goal1, { m: 1, n: [2,3], x: [1,2,3], y: [1,2,3], z: [1,2,3] }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="362">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="363">
          
          
          <code class="ruby">          &#39;  Goal1.:y[:head]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="364">
          
          
          <code class="ruby">          &#39;    Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="365">
          
          
          <code class="ruby">          &#39;      Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="366">
          
          
          <code class="ruby">          &#39;        Goal1.[1, 2, 3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="367">
          
          
          <code class="ruby">          &#39;    Goal1.[Goal1.:m, *Goal1.:n]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="368">
          
          
          <code class="ruby">          &#39;    [:tail]Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="369">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="370">
          
          
          <code class="ruby">          &#39;  Goal1.:y[:tail]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="371">
          
          
          <code class="ruby">          &#39;    Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="372">
          
          
          <code class="ruby">          &#39;      Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="373">
          
          
          <code class="ruby">          &#39;        Goal1.[1, 2, 3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="374">
          
          
          <code class="ruby">          &#39;    Goal1.[Goal1.:m, *Goal1.:n]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="375">
          
          
          <code class="ruby">          &#39;    [:head]Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="376">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="377">
          
          
          <code class="ruby">          &#39;  Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="378">
          
          
          <code class="ruby">          &#39;    Goal1.[Goal1.:m, *Goal1.:n]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="379">
          
          
          <code class="ruby">          &#39;    [:head]Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="380">
          
          
          <code class="ruby">          &#39;    [:tail]Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="381">
          
          
          <code class="ruby">          &#39;  Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="382">
          
          
          <code class="ruby">          &#39;    Goal1.[1, 2, 3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="383">
          
          
          <code class="ruby">          &#39;Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="384">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="385">
          
          
          <code class="ruby">          &#39;    Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="386">
          
          
          <code class="ruby">          &#39;      Goal1.[1, 2, 3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="387">
          
          
          <code class="ruby">          &#39;  Goal1.[Goal1.:m, *Goal1.:n]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="388">
          
          
          <code class="ruby">          &#39;  [:head]Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="389">
          
          
          <code class="ruby">          &#39;  [:tail]Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="390">
          
          
          <code class="ruby">          &#39;Goal1.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="391">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="392">
          
          
          <code class="ruby">          &#39;    Goal1.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="393">
          
          
          <code class="ruby">          &#39;      Goal1.[Goal1.:m, *Goal1.:n]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="394">
          
          
          <code class="ruby">          &#39;      [:head]Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="395">
          
          
          <code class="ruby">          &#39;      [:tail]Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="396">
          
          
          <code class="ruby">          &#39;  Goal1.[1, 2, 3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="397">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="398">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="399">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="400">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not return the indirect value through instantiations after uninstantiating&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="401">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="402">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2 = Variable.new :y, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="403">
          <span class="hits">1</span>
          
          <code class="ruby">        value     = Value.new [1,2,3], goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="404">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="405">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.instantiate variable2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="406">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="407">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="408">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [1,2,3],    variable1.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="409">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="410">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.uninstantiate goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="411">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="412">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable1,  variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="413">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable2,  variable2.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="414">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="415">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="416">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not instantiate multiple unequal values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="417">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="418">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2 = Variable.new :y, goal2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="419">
          <span class="hits">1</span>
          
          <code class="ruby">        variable3 = Variable.new :z, goal3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="420">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="421">
          <span class="hits">1</span>
          
          <code class="ruby">        value1    = Value.new [1,2,3], goal2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="422">
          <span class="hits">1</span>
          
          <code class="ruby">        value2    = Value.new &#39;word&#39;,  goal3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="423">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="424">
          <span class="hits">1</span>
          
          <code class="ruby">        i1 = variable1.instantiate variable2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="425">
          <span class="hits">1</span>
          
          <code class="ruby">        i2 = variable1.instantiate variable3</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="426">
          <span class="hits">1</span>
          
          <code class="ruby">        i3 = variable2.instantiate value1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="427">
          <span class="hits">1</span>
          
          <code class="ruby">        i4 = variable3.instantiate value2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="428">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="429">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation    i1,     variable1,  variable2,  nil,  nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="430">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation    i2,     variable1,  variable3,  nil,  nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="431">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation    i3,     variable2,  value1,     nil,  nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="432">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil              i4</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="433">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="434">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal1, { m: nil, n: nil, x: [1,2,3] }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="435">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="436">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="437">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="438">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="439">
          
          
          <code class="ruby">          &#39;    Goal2.[1, 2, 3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="440">
          
          
          <code class="ruby">          &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="441">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="442">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal2, { m: nil, n: nil, y: [1,2,3] }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="443">
          
          
          <code class="ruby">          &#39;Goal2.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="444">
          
          
          <code class="ruby">          &#39;Goal2.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="445">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="446">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="447">
          
          
          <code class="ruby">          &#39;    Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="448">
          
          
          <code class="ruby">          &#39;  Goal2.[1, 2, 3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="449">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="450">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables   goal3, { m: nil, n: nil, z: [1,2,3] }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="451">
          
          
          <code class="ruby">          &#39;Goal3.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="452">
          
          
          <code class="ruby">          &#39;Goal3.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="453">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="454">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="455">
          
          
          <code class="ruby">          &#39;    Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="456">
          
          
          <code class="ruby">          &#39;      Goal2.[1, 2, 3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="457">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="458">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="459">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="460">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should not raise an exception when multiple values are equal&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="461">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="462">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2 = Variable.new :y, goal2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="463">
          <span class="hits">1</span>
          
          <code class="ruby">        variable3 = Variable.new :z, goal3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="464">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="465">
          <span class="hits">1</span>
          
          <code class="ruby">        value1    = Value.new &#39;word&#39;, goal2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="466">
          <span class="hits">1</span>
          
          <code class="ruby">        value2    = Value.new &#39;word&#39;, goal3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="467">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="468">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.instantiate variable2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="469">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.instantiate variable3</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="470">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate value1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="471">
          <span class="hits">1</span>
          
          <code class="ruby">        variable3.instantiate value2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="472">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="473">
          
          
          <code class="ruby">        [</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="474">
          <span class="hits">1</span>
          
          <code class="ruby">          value1,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="475">
          
          
          <code class="ruby">          value2,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="476">
          
          
          <code class="ruby">          variable1,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="477">
          
          
          <code class="ruby">          variable2,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="478">
          
          
          <code class="ruby">          variable3,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="479">
          
          
          <code class="ruby">        ].each do |v|</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="480">
          <span class="hits">5</span>
          
          <code class="ruby">          assert_equal    &#39;word&#39;,   v.value,    &quot;#{v.inspect} value should be &#39;word&#39;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="481">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="482">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="483">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="484">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should raise an exception when the variable has multiple different non-array values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="485">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="486">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="487">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.values &lt;&lt; 1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="488">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.values &lt;&lt; &#39;one&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="489">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="490">
          <span class="hits">1</span>
          
          <code class="ruby">        error = assert_raises Porolog::Variable::MultipleValuesError do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="491">
          <span class="hits">1</span>
          
          <code class="ruby">          variable1.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="492">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="493">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="494">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;Multiple values detected for Goal1.:x: [1, &quot;one&quot;]&#39;,    error.message</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="495">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="496">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="497">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should prioritise non-variables over variables&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="498">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="499">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="500">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    goal1[:x],     variable1.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="501">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="502">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.values &lt;&lt; :variable</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="503">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="504">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    :variable,      variable1.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="505">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="506">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.values &lt;&lt; &#39;non-variable&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="507">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.values &lt;&lt; :variable</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="508">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="509">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;non-variable&#39;, variable1.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="510">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="511">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="512">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should prioritise variables over an unknown array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="513">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="514">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="515">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    goal1[:x],     variable1.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="516">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="517">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.values &lt;&lt; UNKNOWN_ARRAY</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="518">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="519">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    UNKNOWN_ARRAY,  variable1.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="520">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="521">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.values &lt;&lt; :variable1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="522">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.values &lt;&lt; :variable2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="523">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.values &lt;&lt; UNKNOWN_ARRAY</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="524">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="525">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    :variable1,     variable1.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="526">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="527">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="528">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should unify a matching flathead and flattail pair&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="529">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="530">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="531">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.values &lt;&lt; [1,2,UNKNOWN_TAIL]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="532">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.values &lt;&lt; [UNKNOWN_TAIL,3,4]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="533">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="534">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [1,2,3,4],     variable1.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="535">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="536">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="537">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should unify a matching flattail and flathead pair&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="538">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="539">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="540">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.values &lt;&lt; [UNKNOWN_TAIL,3,4]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="541">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.values &lt;&lt; [1,2,UNKNOWN_TAIL]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="542">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="543">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [1,2,3,4],     variable1.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="544">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="545">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="546">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return nil when the values are incompatible&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="547">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="548">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="549">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.values &lt;&lt; [1,3,4]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="550">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.values &lt;&lt; [1,2,UNKNOWN_TAIL]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="551">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="552">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                     variable1.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="553">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="554">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="555">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should unify a special case&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="556">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="557">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="558">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.values &lt;&lt; [1,[3,4]]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="559">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.values &lt;&lt; goal1[:h]/goal1[:t]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="560">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="561">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [1,[3,4]],     variable1.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="562">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="563">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="564">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="565">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="566">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#instantiate&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="567">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="568">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should instantiate with another variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="569">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="570">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2 = Variable.new :y, goal2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="571">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="572">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.instantiate variable2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="573">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="574">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &quot;Goal1.:x\n  Goal2.:y&quot;,       variable1.inspect_with_instantiations</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="575">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &quot;Goal2.:y\n  Goal1.:x&quot;,       variable2.inspect_with_instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="576">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="577">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="578">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should instantiate with a value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="579">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="580">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2 = Variable.new :y, goal2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="581">
          <span class="hits">1</span>
          
          <code class="ruby">        value     = Value.new &#39;word&#39;, goal2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="582">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="583">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.instantiate variable2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="584">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="585">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="586">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &#39;word&#39;,                                       variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="587">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &quot;Goal1.:x\n  Goal2.:y\n    Goal2.\&quot;word\&quot;&quot;,   variable1.inspect_with_instantiations</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="588">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &quot;Goal2.:y\n  Goal1.:x\n  Goal2.\&quot;word\&quot;&quot;,     variable2.inspect_with_instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="589">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="590">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="591">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should instantiate with an indexed variable&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="592">
          
          
          <code class="ruby">        # -- Elements --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="593">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="594">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2 = Variable.new :y, goal2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="595">
          <span class="hits">1</span>
          
          <code class="ruby">        value     = Value.new [7,11,13,23,29], goal2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="596">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="597">
          
          
          <code class="ruby">        # -- Make Instantiations --</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="598">
          
          
          <code class="ruby">        #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="599">
          
          
          <code class="ruby">        #   Goal1.:x == Goal2.y[2], Goal2.y == Goal2.[7,11,13,23,29]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="600">
          
          
          <code class="ruby">        #</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="601">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.instantiate variable2, 2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="602">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="603">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="604">
          
          
          <code class="ruby">        # -- Assert instantiations --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="605">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        1,          variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="606">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        2,          variable2.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="607">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="608">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;Goal1.:x = Goal2.:y[2]&#39;,                               variable1.instantiations[0].inspect</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="609">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;Goal1.:x = Goal2.:y[2]&#39;,                               variable2.instantiations[0].inspect</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="610">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;Goal2.:y = Goal2.[7, 11, 13, 23, 29]&#39;,                 variable2.instantiations[1].inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="611">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="612">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        variable1.instantiations[0],                            variable2.instantiations[0]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="613">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="614">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation    variable1.instantiations[0], variable1, variable2, nil, 2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="615">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation    variable2.instantiations[0], variable1, variable2, nil, 2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="616">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation    variable2.instantiations[1], variable2, value,     nil, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="617">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="618">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Value            variable2.instantiations[1].variable2,  [7, 11, 13, 23, 29], goal2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="619">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="620">
          
          
          <code class="ruby">        # -- Assert Values --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="621">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  13,                     variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="622">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  [7, 11, 13, 23, 29],    variable2.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="623">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="624">
          
          
          <code class="ruby">        # -- Assert inspects --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="625">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &quot;Goal1.:x\n  Goal2.:y[2]\n    Goal2.[7, 11, 13, 23, 29]&quot;,    variable1.inspect_with_instantiations</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="626">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &quot;Goal2.:y\n  [2]Goal1.:x\n  Goal2.[7, 11, 13, 23, 29]&quot;,      variable2.inspect_with_instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="627">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="628">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="629">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should instantiate indexed with an indexed variable&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="630">
          
          
          <code class="ruby">        # -- Elements --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="631">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="632">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2 = Variable.new :y, goal2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="633">
          <span class="hits">1</span>
          
          <code class="ruby">        variable3 = Variable.new :z, goal2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="634">
          <span class="hits">1</span>
          
          <code class="ruby">        value     = Value.new [[],[1,2,3],&#39;word&#39;,[7,11,13,23,29]], goal2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="635">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="636">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Value    value,        [[],[1,2,3],&#39;word&#39;,[7,11,13,23,29]], goal2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="637">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="638">
          
          
          <code class="ruby">        # -- Assert goal variables --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="639">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables    goal1,    { m: nil, n: nil, x: nil },   [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="640">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="641">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="642">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="643">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="644">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables    goal2,    { m: nil, n: nil, y: nil, z: nil },  [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="645">
          
          
          <code class="ruby">          &#39;Goal2.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="646">
          
          
          <code class="ruby">          &#39;Goal2.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="647">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="648">
          
          
          <code class="ruby">          &#39;Goal2.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="649">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="650">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="651">
          
          
          <code class="ruby">        # -- Make instantiations --</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="652">
          
          
          <code class="ruby">        #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="653">
          
          
          <code class="ruby">        #   Goal1.:x == Goal2.:y[2], Goal2.:y == [[],[1,2,3],&#39;word&#39;,[7,11,13,23,29]][3]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="654">
          
          
          <code class="ruby">        #</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="655">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.instantiate variable2, 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="656">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="657">
          
          
          <code class="ruby">        #   Goal2.:y == [[],[1,2,3],&#39;word&#39;,[7,11,13,23,29]][3]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="658">
          
          
          <code class="ruby">        #            == [7,11,13,23,29]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="659">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate value,     3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="660">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="661">
          
          
          <code class="ruby">        # -- Assert Values --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="662">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        13,                     variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="663">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        [7,11,13,23,29],        variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="664">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        variable3,              variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="665">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="666">
          
          
          <code class="ruby">        # -- Assert instantiations --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="667">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        1,          variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="668">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        2,          variable2.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="669">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        0,          variable3.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="670">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="671">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;Goal1.:x = Goal2.:y[2]&#39;,                               variable1.instantiations[0].inspect</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="672">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;Goal1.:x = Goal2.:y[2]&#39;,                               variable2.instantiations[0].inspect</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="673">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &#39;Goal2.:y = Goal2.[[], [1, 2, 3], &quot;word&quot;, [7, 11, 13, 23, 29]][3]&#39;,              variable2.instantiations[1].inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="674">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="675">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        variable1.instantiations[0],                            variable2.instantiations[0]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="676">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="677">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation    variable1.instantiations[0], variable1, variable2, nil, 2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="678">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation    variable2.instantiations[0], variable1, variable2, nil, 2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="679">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation    variable2.instantiations[1], variable2, value,     nil, 3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="680">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="681">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Value        variable2.instantiations[1].variable2,  [[],[1,2,3],&#39;word&#39;,[7,11,13,23,29]], goal2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="682">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="683">
          
          
          <code class="ruby">        # -- Assert overall instantiations --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="684">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &quot;Goal2.:y\n  [2]Goal1.:x\n  Goal2.[[], [1, 2, 3], \&quot;word\&quot;, [7, 11, 13, 23, 29]][3]&quot;,    variable2.inspect_with_instantiations</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="685">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        &quot;Goal1.:x\n  Goal2.:y[2]\n    Goal2.[[], [1, 2, 3], \&quot;word\&quot;, [7, 11, 13, 23, 29]][3]&quot;,  variable1.inspect_with_instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="686">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="687">
          
          
          <code class="ruby">        # -- Assert values --</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="688">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        [],                           variable1.values</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="689">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        0,                            variable2.values.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="690">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        [],                           variable3.values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="691">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="692">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        [7,11,13,23,29],              variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="693">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        13,                           variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="694">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal        [7, 11, 13, 23, 29],          variable2.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="695">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="696">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables    goal1,    { m: nil, n: nil, x: 13 }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="697">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="698">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="699">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="700">
          
          
          <code class="ruby">          &#39;  Goal2.:y[2]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="701">
          
          
          <code class="ruby">          &#39;    Goal2.[[], [1, 2, 3], &quot;word&quot;, [7, 11, 13, 23, 29]][3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="702">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="703">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="704">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables    goal2,    { m: nil, n: nil, y: [7, 11, 13, 23, 29], z: nil}, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="705">
          
          
          <code class="ruby">          &#39;Goal2.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="706">
          
          
          <code class="ruby">          &#39;Goal2.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="707">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="708">
          
          
          <code class="ruby">          &#39;  [2]Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="709">
          
          
          <code class="ruby">          &#39;  Goal2.[[], [1, 2, 3], &quot;word&quot;, [7, 11, 13, 23, 29]][3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="710">
          
          
          <code class="ruby">          &#39;Goal2.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="711">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="712">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="713">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables    goal1,    { m: nil, n: nil, x: 13              }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="714">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="715">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="716">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="717">
          
          
          <code class="ruby">          &#39;  Goal2.:y[2]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="718">
          
          
          <code class="ruby">          &#39;    Goal2.[[], [1, 2, 3], &quot;word&quot;, [7, 11, 13, 23, 29]][3]&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="719">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="720">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="721">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables    goal2,    { m: nil, n: nil, y: [7, 11, 13, 23, 29], z: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="722">
          
          
          <code class="ruby">          &#39;Goal2.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="723">
          
          
          <code class="ruby">          &#39;Goal2.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="724">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="725">
          
          
          <code class="ruby">          &#39;  [2]Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="726">
          
          
          <code class="ruby">          &#39;  Goal2.[[], [1, 2, 3], &quot;word&quot;, [7, 11, 13, 23, 29]][3]&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="727">
          
          
          <code class="ruby">          &#39;Goal2.:z&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="728">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="729">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="730">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="731">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should instantiate with an indexed value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="732">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="733">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2 = Variable.new :y, goal2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="734">
          <span class="hits">1</span>
          
          <code class="ruby">        value     = Value.new [7,11,13,23,29], goal2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="735">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="736">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.instantiate variable2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="737">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate value, 3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="738">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="739">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &quot;Goal1.:x\n  Goal2.:y\n    Goal2.[7, 11, 13, 23, 29][3]&quot;,   variable1.inspect_with_instantiations</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="740">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &quot;Goal2.:y\n  Goal1.:x\n  Goal2.[7, 11, 13, 23, 29][3]&quot;,     variable2.inspect_with_instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="741">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="742">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="743">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should instantiate with an indexed variable&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="744">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="745">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2 = Variable.new :y, goal2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="746">
          <span class="hits">1</span>
          
          <code class="ruby">        value     = Value.new [7,11,13,23,29], goal2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="747">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="748">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.instantiate variable2, 2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="749">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="750">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="751">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  13,   variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="752">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &quot;Goal1.:x\n  Goal2.:y[2]\n    Goal2.[7, 11, 13, 23, 29]&quot;,  variable1.inspect_with_instantiations</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="753">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &quot;Goal2.:y\n  [2]Goal1.:x\n  Goal2.[7, 11, 13, 23, 29]&quot;,    variable2.inspect_with_instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="754">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="755">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="756">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should instantiate with an indexed value&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="757">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="758">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2 = Variable.new :y, goal2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="759">
          <span class="hits">1</span>
          
          <code class="ruby">        value     = Value.new [7,11,13,23,29], goal2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="760">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="761">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.instantiate variable2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="762">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.instantiate value, 3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="763">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="764">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &quot;Goal1.:x\n  Goal2.:y\n    Goal2.[7, 11, 13, 23, 29][3]&quot;,   variable1.inspect_with_instantiations</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="765">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal  &quot;Goal2.:y\n  Goal1.:x\n  Goal2.[7, 11, 13, 23, 29][3]&quot;,     variable2.inspect_with_instantiations</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="766">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="767">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="768">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should detect deep conflicting instantiations&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="769">
          
          
          <code class="ruby">        #          g1:a</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="770">
          
          
          <code class="ruby">        #       g2:b  g3:c</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="771">
          
          
          <code class="ruby">        #    g4:d        g5:e</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="772">
          
          
          <code class="ruby">        # g6:f              g7:g</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="773">
          
          
          <code class="ruby">        #   8                 9</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="774">
          <span class="hits">1</span>
          
          <code class="ruby">        reset</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="775">
          <span class="hits">1</span>
          
          <code class="ruby">        g1 = arguments1.goal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="776">
          <span class="hits">1</span>
          
          <code class="ruby">        g2 = arguments1.goal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="777">
          <span class="hits">1</span>
          
          <code class="ruby">        g3 = arguments1.goal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="778">
          <span class="hits">1</span>
          
          <code class="ruby">        g4 = arguments1.goal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="779">
          <span class="hits">1</span>
          
          <code class="ruby">        g5 = arguments1.goal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="780">
          <span class="hits">1</span>
          
          <code class="ruby">        g6 = arguments1.goal</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="781">
          <span class="hits">1</span>
          
          <code class="ruby">        g7 = arguments1.goal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="782">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="783">
          <span class="hits">1</span>
          
          <code class="ruby">        a = g1.variable :a</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="784">
          <span class="hits">1</span>
          
          <code class="ruby">        b = g2.variable :b</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="785">
          <span class="hits">1</span>
          
          <code class="ruby">        c = g3.variable :c</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="786">
          <span class="hits">1</span>
          
          <code class="ruby">        d = g4.variable :d</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="787">
          <span class="hits">1</span>
          
          <code class="ruby">        e = g5.variable :e</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="788">
          <span class="hits">1</span>
          
          <code class="ruby">        f = g6.variable :f</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="789">
          <span class="hits">1</span>
          
          <code class="ruby">        g = g7.variable :g</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="790">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="791">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Instantiation,    f.instantiate(g6.value(8))</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="792">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Instantiation,    g.instantiate(g7.value(9))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="793">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="794">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Instantiation,    a.instantiate(b)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="795">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Instantiation,    a.instantiate(c)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="796">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Instantiation,    b.instantiate(d)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="797">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Instantiation,    d.instantiate(f)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="798">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_instance_of  Instantiation,    c.instantiate(e)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="799">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                            e.instantiate(g)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="800">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="801">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables g1, { m: nil, n: nil, a: 8 }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="802">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="803">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="804">
          
          
          <code class="ruby">          &#39;Goal1.:a&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="805">
          
          
          <code class="ruby">          &#39;  Goal2.:b&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="806">
          
          
          <code class="ruby">          &#39;    Goal4.:d&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="807">
          
          
          <code class="ruby">          &#39;      Goal6.:f&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="808">
          
          
          <code class="ruby">          &#39;        Goal6.8&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="809">
          
          
          <code class="ruby">          &#39;  Goal3.:c&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="810">
          
          
          <code class="ruby">          &#39;    Goal5.:e&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="811">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="812">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables g2, { m: nil, n: nil, b: 8 }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="813">
          
          
          <code class="ruby">          &#39;Goal2.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="814">
          
          
          <code class="ruby">          &#39;Goal2.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="815">
          
          
          <code class="ruby">          &#39;Goal2.:b&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="816">
          
          
          <code class="ruby">          &#39;  Goal1.:a&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="817">
          
          
          <code class="ruby">          &#39;    Goal3.:c&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="818">
          
          
          <code class="ruby">          &#39;      Goal5.:e&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="819">
          
          
          <code class="ruby">          &#39;  Goal4.:d&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="820">
          
          
          <code class="ruby">          &#39;    Goal6.:f&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="821">
          
          
          <code class="ruby">          &#39;      Goal6.8&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="822">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="823">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables g3, { m: nil, n: nil, c: 8 }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="824">
          
          
          <code class="ruby">          &#39;Goal3.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="825">
          
          
          <code class="ruby">          &#39;Goal3.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="826">
          
          
          <code class="ruby">          &#39;Goal3.:c&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="827">
          
          
          <code class="ruby">          &#39;  Goal1.:a&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="828">
          
          
          <code class="ruby">          &#39;    Goal2.:b&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="829">
          
          
          <code class="ruby">          &#39;      Goal4.:d&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="830">
          
          
          <code class="ruby">          &#39;        Goal6.:f&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="831">
          
          
          <code class="ruby">          &#39;          Goal6.8&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="832">
          
          
          <code class="ruby">          &#39;  Goal5.:e&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="833">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="834">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables g4, { m: nil, n: nil, d: 8 }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="835">
          
          
          <code class="ruby">          &#39;Goal4.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="836">
          
          
          <code class="ruby">          &#39;Goal4.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="837">
          
          
          <code class="ruby">          &#39;Goal4.:d&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="838">
          
          
          <code class="ruby">          &#39;  Goal2.:b&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="839">
          
          
          <code class="ruby">          &#39;    Goal1.:a&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="840">
          
          
          <code class="ruby">          &#39;      Goal3.:c&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="841">
          
          
          <code class="ruby">          &#39;        Goal5.:e&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="842">
          
          
          <code class="ruby">          &#39;  Goal6.:f&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="843">
          
          
          <code class="ruby">          &#39;    Goal6.8&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="844">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="845">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables g5, { m: nil, n: nil, e: 8 }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="846">
          
          
          <code class="ruby">          &#39;Goal5.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="847">
          
          
          <code class="ruby">          &#39;Goal5.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="848">
          
          
          <code class="ruby">          &#39;Goal5.:e&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="849">
          
          
          <code class="ruby">          &#39;  Goal3.:c&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="850">
          
          
          <code class="ruby">          &#39;    Goal1.:a&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="851">
          
          
          <code class="ruby">          &#39;      Goal2.:b&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="852">
          
          
          <code class="ruby">          &#39;        Goal4.:d&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="853">
          
          
          <code class="ruby">          &#39;          Goal6.:f&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="854">
          
          
          <code class="ruby">          &#39;            Goal6.8&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="855">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="856">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables g6, { m: nil, n: nil, f: 8 }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="857">
          
          
          <code class="ruby">          &#39;Goal6.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="858">
          
          
          <code class="ruby">          &#39;Goal6.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="859">
          
          
          <code class="ruby">          &#39;Goal6.:f&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="860">
          
          
          <code class="ruby">          &#39;  Goal6.8&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="861">
          
          
          <code class="ruby">          &#39;  Goal4.:d&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="862">
          
          
          <code class="ruby">          &#39;    Goal2.:b&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="863">
          
          
          <code class="ruby">          &#39;      Goal1.:a&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="864">
          
          
          <code class="ruby">          &#39;        Goal3.:c&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="865">
          
          
          <code class="ruby">          &#39;          Goal5.:e&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="866">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="867">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables g7, { m: nil, n: nil, g: 9 }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="868">
          
          
          <code class="ruby">          &#39;Goal7.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="869">
          
          
          <code class="ruby">          &#39;Goal7.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="870">
          
          
          <code class="ruby">          &#39;Goal7.:g&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="871">
          
          
          <code class="ruby">          &#39;  Goal7.9&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="872">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="873">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="874">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="875">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return nil when the there are multiple different values&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="876">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1 = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="877">
          <span class="hits">1</span>
          
          <code class="ruby">        value     = Value.new 111, goal2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="878">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="879">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.values &lt;&lt; 112</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="880">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="881">
          <span class="hits">1</span>
          
          <code class="ruby">        instantiation = variable1.instantiate value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="882">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="883">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil    instantiation, name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="884">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="885">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="886">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="887">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="888">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#remove&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="889">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="890">
          <span class="hits">4</span>
          
          <code class="ruby">      let(:variable1) { Variable.new :x,  goal1 }</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="891">
          <span class="hits">4</span>
          
          <code class="ruby">      let(:variable2) { Variable.new :y,  goal2 }</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="892">
          <span class="hits">4</span>
          
          <code class="ruby">      let(:variable3) { Variable.new :z,  goal3 }</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="893">
          <span class="hits">4</span>
          
          <code class="ruby">      let(:value1)    { Value.new &#39;word&#39;, goal2 }</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="894">
          <span class="hits">4</span>
          
          <code class="ruby">      let(:value2)    { Value.new &#39;word&#39;, goal3 }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="895">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="896">
          <span class="hits">1</span>
          
          <code class="ruby">      before do</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="897">
          <span class="hits">3</span>
          
          <code class="ruby">        variable1.instantiate variable2</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="898">
          <span class="hits">3</span>
          
          <code class="ruby">        variable1.instantiate variable3</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="899">
          <span class="hits">3</span>
          
          <code class="ruby">        variable2.instantiate value1</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="900">
          <span class="hits">3</span>
          
          <code class="ruby">        variable3.instantiate value2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="901">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="902">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_Goal_variables     goal1, { m: nil, n: nil, x: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="903">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="904">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="905">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="906">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="907">
          
          
          <code class="ruby">          &#39;    Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="908">
          
          
          <code class="ruby">          &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="909">
          
          
          <code class="ruby">          &#39;    Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="910">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="911">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="912">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_Goal_variables     goal2, { m: nil, n: nil, y: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="913">
          
          
          <code class="ruby">          &#39;Goal2.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="914">
          
          
          <code class="ruby">          &#39;Goal2.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="915">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="916">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="917">
          
          
          <code class="ruby">          &#39;    Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="918">
          
          
          <code class="ruby">          &#39;      Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="919">
          
          
          <code class="ruby">          &#39;  Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="920">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="921">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="922">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_Goal_variables     goal3, { m: nil, n: nil, z: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="923">
          
          
          <code class="ruby">          &#39;Goal3.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="924">
          
          
          <code class="ruby">          &#39;Goal3.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="925">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="926">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="927">
          
          
          <code class="ruby">          &#39;    Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="928">
          
          
          <code class="ruby">          &#39;      Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="929">
          
          
          <code class="ruby">          &#39;  Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="930">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="931">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="932">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_equal    2,        variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="933">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_equal    2,        variable2.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="934">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_equal    2,        variable3.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="935">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="936">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_Instantiation      variable1.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="937">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_Instantiation      variable1.instantiations[1], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="938">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_Instantiation      variable2.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="939">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_Instantiation      variable2.instantiations[1], variable2, value1,    nil, nil</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="940">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_Instantiation      variable3.instantiations[0], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="941">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_Instantiation      variable3.instantiations[1], variable3, value2,    nil, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="942">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="943">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable1.value</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="944">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable2.value</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="945">
          <span class="hits">3</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="946">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="947">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="948">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should remove all instantiations case 1: remove variable1&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="949">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="950">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.remove</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="951">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="952">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal1, { m: nil, n: nil, x: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="953">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="954">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="955">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="956">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="957">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="958">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal2, { m: nil, n: nil, y: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="959">
          
          
          <code class="ruby">          &#39;Goal2.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="960">
          
          
          <code class="ruby">          &#39;Goal2.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="961">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="962">
          
          
          <code class="ruby">          &#39;  Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="963">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="964">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="965">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal3, { m: nil, n: nil, z: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="966">
          
          
          <code class="ruby">          &#39;Goal3.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="967">
          
          
          <code class="ruby">          &#39;Goal3.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="968">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="969">
          
          
          <code class="ruby">          &#39;  Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="970">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="971">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="972">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    0,          variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="973">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,          variable2.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="974">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,          variable3.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="975">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="976">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable1.instantiations[0]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="977">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable1.instantiations[1]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="978">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable2.instantiations[1]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="979">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable2.instantiations[0], variable2, value1,    nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="980">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable3.instantiations[1]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="981">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable3.instantiations[0], variable3, value2,    nil, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="982">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="983">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable1,  variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="984">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,     variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="985">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,     variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="986">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="987">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="988">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should remove all instantiations case 2: remove variable2&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="989">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="990">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.remove</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="991">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="992">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal1, { m: nil, n: nil, x: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="993">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="994">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="995">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="996">
          
          
          <code class="ruby">          &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="997">
          
          
          <code class="ruby">          &#39;    Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="998">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="999">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1000">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal2, { m: nil, n: nil, y: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1001">
          
          
          <code class="ruby">          &#39;Goal2.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1002">
          
          
          <code class="ruby">          &#39;Goal2.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1003">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1004">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1005">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1006">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal3, { m: nil, n: nil, z: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1007">
          
          
          <code class="ruby">          &#39;Goal3.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1008">
          
          
          <code class="ruby">          &#39;Goal3.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1009">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1010">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1011">
          
          
          <code class="ruby">          &#39;  Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1012">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1013">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1014">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,          variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1015">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    0,          variable2.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1016">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,          variable3.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1017">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1018">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable1.instantiations[1]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1019">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable1.instantiations[0], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1020">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable2.instantiations[0]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1021">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable2.instantiations[1]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1022">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable3.instantiations[0], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1023">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable3.instantiations[1], variable3, value2,    nil, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1024">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1025">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,     variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1026">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable2,  variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1027">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,     variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1028">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1029">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1030">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should remove all instantiations case 3: remove variable3&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1031">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1032">
          <span class="hits">1</span>
          
          <code class="ruby">        variable3.remove</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1033">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1034">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal1, { m: nil, n: nil, x: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1035">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1036">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1037">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1038">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1039">
          
          
          <code class="ruby">          &#39;    Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1040">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1041">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1042">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal2, { m: nil, n: nil, y: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1043">
          
          
          <code class="ruby">          &#39;Goal2.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1044">
          
          
          <code class="ruby">          &#39;Goal2.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1045">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1046">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1047">
          
          
          <code class="ruby">          &#39;  Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1048">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1049">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1050">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal3, { m: nil, n: nil, z: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1051">
          
          
          <code class="ruby">          &#39;Goal3.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1052">
          
          
          <code class="ruby">          &#39;Goal3.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1053">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1054">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1055">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1056">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,          variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1057">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,          variable2.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1058">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    0,          variable3.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1059">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1060">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable1.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1061">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable1.instantiations[1]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1062">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable2.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1063">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable2.instantiations[1], variable2, value1,    nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1064">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable3.instantiations[0]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1065">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable3.instantiations[1]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1066">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1067">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,     variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1068">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,     variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1069">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable3,  variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1070">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1071">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1072">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1073">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1074">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#uninstantiate&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1075">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1076">
          <span class="hits">10</span>
          
          <code class="ruby">      let(:variable1) { Variable.new :x,  goal1 }</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1077">
          <span class="hits">10</span>
          
          <code class="ruby">      let(:variable2) { Variable.new :y,  goal2 }</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1078">
          <span class="hits">10</span>
          
          <code class="ruby">      let(:variable3) { Variable.new :z,  goal3 }</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1079">
          <span class="hits">10</span>
          
          <code class="ruby">      let(:value1)    { Value.new &#39;word&#39;, goal2 }</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1080">
          <span class="hits">10</span>
          
          <code class="ruby">      let(:value2)    { Value.new &#39;word&#39;, goal3 }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1081">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1082">
          <span class="hits">1</span>
          
          <code class="ruby">      before do</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="1083">
          <span class="hits">9</span>
          
          <code class="ruby">        variable1.instantiate variable2</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="1084">
          <span class="hits">9</span>
          
          <code class="ruby">        variable1.instantiate variable3</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="1085">
          <span class="hits">9</span>
          
          <code class="ruby">        variable2.instantiate value1</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="1086">
          <span class="hits">9</span>
          
          <code class="ruby">        variable3.instantiate value2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1087">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="1088">
          <span class="hits">9</span>
          
          <code class="ruby">        assert_Goal_variables     goal1, { m: nil, n: nil, x: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1089">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1090">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1091">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1092">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1093">
          
          
          <code class="ruby">          &#39;    Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1094">
          
          
          <code class="ruby">          &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1095">
          
          
          <code class="ruby">          &#39;    Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1096">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1097">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="1098">
          <span class="hits">9</span>
          
          <code class="ruby">        assert_Goal_variables     goal2, { m: nil, n: nil, y: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1099">
          
          
          <code class="ruby">          &#39;Goal2.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1100">
          
          
          <code class="ruby">          &#39;Goal2.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1101">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1102">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1103">
          
          
          <code class="ruby">          &#39;    Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1104">
          
          
          <code class="ruby">          &#39;      Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1105">
          
          
          <code class="ruby">          &#39;  Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1106">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1107">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="1108">
          <span class="hits">9</span>
          
          <code class="ruby">        assert_Goal_variables     goal3, { m: nil, n: nil, z: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1109">
          
          
          <code class="ruby">          &#39;Goal3.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1110">
          
          
          <code class="ruby">          &#39;Goal3.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1111">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1112">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1113">
          
          
          <code class="ruby">          &#39;    Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1114">
          
          
          <code class="ruby">          &#39;      Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1115">
          
          
          <code class="ruby">          &#39;  Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1116">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1117">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="1118">
          <span class="hits">9</span>
          
          <code class="ruby">        assert_equal    2,        variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="1119">
          <span class="hits">9</span>
          
          <code class="ruby">        assert_equal    2,        variable2.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="1120">
          <span class="hits">9</span>
          
          <code class="ruby">        assert_equal    2,        variable3.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1121">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="1122">
          <span class="hits">9</span>
          
          <code class="ruby">        assert_Instantiation      variable1.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="1123">
          <span class="hits">9</span>
          
          <code class="ruby">        assert_Instantiation      variable1.instantiations[1], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="1124">
          <span class="hits">9</span>
          
          <code class="ruby">        assert_Instantiation      variable2.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="1125">
          <span class="hits">9</span>
          
          <code class="ruby">        assert_Instantiation      variable2.instantiations[1], variable2, value1,    nil, nil</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="1126">
          <span class="hits">9</span>
          
          <code class="ruby">        assert_Instantiation      variable3.instantiations[0], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="1127">
          <span class="hits">9</span>
          
          <code class="ruby">        assert_Instantiation      variable3.instantiations[1], variable3, value2,    nil, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1128">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="1129">
          <span class="hits">9</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable1.value</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="1130">
          <span class="hits">9</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable2.value</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="1131">
          <span class="hits">9</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1132">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1133">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1134">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should remove all instantiations and values case 1&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1135">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1136">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.uninstantiate(goal1)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1137">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1138">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal1, { m: nil, n: nil, x: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1139">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1140">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1141">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1142">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1143">
          
          
          <code class="ruby">          &#39;    Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1144">
          
          
          <code class="ruby">          &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1145">
          
          
          <code class="ruby">          &#39;    Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1146">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1147">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1148">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal2, { m: nil, n: nil, y: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1149">
          
          
          <code class="ruby">          &#39;Goal2.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1150">
          
          
          <code class="ruby">          &#39;Goal2.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1151">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1152">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1153">
          
          
          <code class="ruby">          &#39;    Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1154">
          
          
          <code class="ruby">          &#39;      Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1155">
          
          
          <code class="ruby">          &#39;  Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1156">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1157">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1158">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal3, { m: nil, n: nil, z: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1159">
          
          
          <code class="ruby">          &#39;Goal3.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1160">
          
          
          <code class="ruby">          &#39;Goal3.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1161">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1162">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1163">
          
          
          <code class="ruby">          &#39;    Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1164">
          
          
          <code class="ruby">          &#39;      Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1165">
          
          
          <code class="ruby">          &#39;  Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1166">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1167">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1168">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,        variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1169">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,        variable2.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1170">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,        variable3.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1171">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1172">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable1.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1173">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable1.instantiations[1], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1174">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable2.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1175">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable2.instantiations[1], variable2, value1,    nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1176">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable3.instantiations[0], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1177">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable3.instantiations[1], variable3, value2,    nil, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1178">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1179">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1180">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1181">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1182">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1183">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1184">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should remove all instantiations and values case 2&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1185">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1186">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.uninstantiate(goal2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1187">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1188">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal1, { m: nil, n: nil, x: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1189">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1190">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1191">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1192">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1193">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1194">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal2, { m: nil, n: nil, y: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1195">
          
          
          <code class="ruby">          &#39;Goal2.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1196">
          
          
          <code class="ruby">          &#39;Goal2.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1197">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1198">
          
          
          <code class="ruby">          &#39;  Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1199">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1200">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1201">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal3, { m: nil, n: nil, z: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1202">
          
          
          <code class="ruby">          &#39;Goal3.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1203">
          
          
          <code class="ruby">          &#39;Goal3.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1204">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1205">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1206">
          
          
          <code class="ruby">          &#39;  Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1207">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1208">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1209">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    0,          variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1210">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,          variable2.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1211">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,          variable3.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1212">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1213">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable1.instantiations[0]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1214">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable1.instantiations[1]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1215">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable2.instantiations[1]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1216">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable2.instantiations[0], variable2, value1,    nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1217">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable3.instantiations[0], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1218">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable3.instantiations[1], variable3, value2,    nil, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1219">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1220">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable1,  variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1221">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,     variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1222">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,     variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1223">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1224">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1225">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should remove all instantiations and values case 3&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1226">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1227">
          <span class="hits">1</span>
          
          <code class="ruby">        variable1.uninstantiate(goal3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1228">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1229">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal1, { m: nil, n: nil, x: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1230">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1231">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1232">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1233">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1234">
          
          
          <code class="ruby">          &#39;    Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1235">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1236">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1237">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal2, { m: nil, n: nil, y: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1238">
          
          
          <code class="ruby">          &#39;Goal2.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1239">
          
          
          <code class="ruby">          &#39;Goal2.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1240">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1241">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1242">
          
          
          <code class="ruby">          &#39;  Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1243">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1244">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1245">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal3, { m: nil, n: nil, z: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1246">
          
          
          <code class="ruby">          &#39;Goal3.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1247">
          
          
          <code class="ruby">          &#39;Goal3.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1248">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1249">
          
          
          <code class="ruby">          &#39;  Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1250">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1251">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1252">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,        variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1253">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,        variable2.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1254">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,        variable3.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1255">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1256">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable1.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1257">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                variable1.instantiations[1]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1258">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable2.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1259">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable2.instantiations[1], variable2, value1,    nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1260">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                variable3.instantiations[1]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1261">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable3.instantiations[0], variable3, value2,    nil, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1262">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1263">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1264">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1265">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1266">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1267">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1268">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should remove all instantiations and values case 4&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1269">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1270">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.uninstantiate(goal1)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1271">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1272">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal1, { m: nil, n: nil, x: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1273">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1274">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1275">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1276">
          
          
          <code class="ruby">          &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1277">
          
          
          <code class="ruby">          &#39;    Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1278">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1279">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1280">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal2, { m: nil, n: nil, y: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1281">
          
          
          <code class="ruby">          &#39;Goal2.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1282">
          
          
          <code class="ruby">          &#39;Goal2.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1283">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1284">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1285">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1286">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal3, { m: nil, n: nil, z: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1287">
          
          
          <code class="ruby">          &#39;Goal3.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1288">
          
          
          <code class="ruby">          &#39;Goal3.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1289">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1290">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1291">
          
          
          <code class="ruby">          &#39;  Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1292">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1293">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1294">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,          variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1295">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    0,          variable2.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1296">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,          variable3.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1297">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1298">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable1.instantiations[1]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1299">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable1.instantiations[0], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1300">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable2.instantiations[0]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1301">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable2.instantiations[1]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1302">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable3.instantiations[0], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1303">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable3.instantiations[1], variable3, value2,    nil, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1304">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1305">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,     variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1306">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable2,  variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1307">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,     variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1308">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1309">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1310">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should remove all instantiations and values case 5&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1311">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1312">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.uninstantiate(goal2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1313">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1314">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal1, { m: nil, n: nil, x: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1315">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1316">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1317">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1318">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1319">
          
          
          <code class="ruby">          &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1320">
          
          
          <code class="ruby">          &#39;    Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1321">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1322">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1323">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal2, { m: nil, n: nil, y: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1324">
          
          
          <code class="ruby">          &#39;Goal2.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1325">
          
          
          <code class="ruby">          &#39;Goal2.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1326">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1327">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1328">
          
          
          <code class="ruby">          &#39;    Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1329">
          
          
          <code class="ruby">          &#39;      Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1330">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1331">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1332">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal3, { m: nil, n: nil, z: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1333">
          
          
          <code class="ruby">          &#39;Goal3.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1334">
          
          
          <code class="ruby">          &#39;Goal3.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1335">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1336">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1337">
          
          
          <code class="ruby">          &#39;    Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1338">
          
          
          <code class="ruby">          &#39;  Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1339">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1340">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1341">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,        variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1342">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,        variable2.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1343">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,        variable3.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1344">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1345">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable1.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1346">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable1.instantiations[1], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1347">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable2.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1348">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                variable2.instantiations[1]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1349">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable3.instantiations[0], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1350">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable3.instantiations[1], variable3, value2,    nil, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1351">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1352">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1353">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1354">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1355">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1356">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1357">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should remove all instantiations and values case 6&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1358">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1359">
          <span class="hits">1</span>
          
          <code class="ruby">        variable2.uninstantiate(goal3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1360">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1361">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal1, { m: nil, n: nil, x: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1362">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1363">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1364">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1365">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1366">
          
          
          <code class="ruby">          &#39;    Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1367">
          
          
          <code class="ruby">          &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1368">
          
          
          <code class="ruby">          &#39;    Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1369">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1370">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1371">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal2, { m: nil, n: nil, y: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1372">
          
          
          <code class="ruby">          &#39;Goal2.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1373">
          
          
          <code class="ruby">          &#39;Goal2.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1374">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1375">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1376">
          
          
          <code class="ruby">          &#39;    Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1377">
          
          
          <code class="ruby">          &#39;      Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1378">
          
          
          <code class="ruby">          &#39;  Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1379">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1380">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1381">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal3, { m: nil, n: nil, z: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1382">
          
          
          <code class="ruby">          &#39;Goal3.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1383">
          
          
          <code class="ruby">          &#39;Goal3.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1384">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1385">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1386">
          
          
          <code class="ruby">          &#39;    Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1387">
          
          
          <code class="ruby">          &#39;      Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1388">
          
          
          <code class="ruby">          &#39;  Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1389">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1390">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1391">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,        variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1392">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,        variable2.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1393">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,        variable3.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1394">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1395">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable1.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1396">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable1.instantiations[1], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1397">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable2.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1398">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable2.instantiations[1], variable2, value1,    nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1399">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable3.instantiations[0], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1400">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable3.instantiations[1], variable3, value2,    nil, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1401">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1402">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1403">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1404">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1405">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1406">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1407">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should remove all instantiations and values case 7&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1408">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1409">
          <span class="hits">1</span>
          
          <code class="ruby">        variable3.uninstantiate(goal1)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1410">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1411">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal1, { m: nil, n: nil, x: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1412">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1413">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1414">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1415">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1416">
          
          
          <code class="ruby">          &#39;    Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1417">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1418">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1419">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal2, { m: nil, n: nil, y: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1420">
          
          
          <code class="ruby">          &#39;Goal2.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1421">
          
          
          <code class="ruby">          &#39;Goal2.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1422">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1423">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1424">
          
          
          <code class="ruby">          &#39;  Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1425">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1426">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1427">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal3, { m: nil, n: nil, z: nil }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1428">
          
          
          <code class="ruby">          &#39;Goal3.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1429">
          
          
          <code class="ruby">          &#39;Goal3.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1430">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1431">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1432">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1433">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,          variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1434">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,          variable2.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1435">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    0,          variable3.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1436">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1437">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable1.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1438">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable1.instantiations[1]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1439">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable2.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1440">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation        variable2.instantiations[1], variable2, value1,    nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1441">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable3.instantiations[0]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1442">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                  variable3.instantiations[1]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1443">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1444">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,     variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1445">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,     variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1446">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    variable3,  variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1447">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1448">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1449">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should remove all instantiations and values case 8&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1450">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1451">
          <span class="hits">1</span>
          
          <code class="ruby">        variable3.uninstantiate(goal2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1452">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1453">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal1, { m: nil, n: nil, x: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1454">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1455">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1456">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1457">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1458">
          
          
          <code class="ruby">          &#39;    Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1459">
          
          
          <code class="ruby">          &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1460">
          
          
          <code class="ruby">          &#39;    Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1461">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1462">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1463">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal2, { m: nil, n: nil, y: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1464">
          
          
          <code class="ruby">          &#39;Goal2.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1465">
          
          
          <code class="ruby">          &#39;Goal2.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1466">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1467">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1468">
          
          
          <code class="ruby">          &#39;    Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1469">
          
          
          <code class="ruby">          &#39;      Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1470">
          
          
          <code class="ruby">          &#39;  Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1471">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1472">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1473">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal3, { m: nil, n: nil, z: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1474">
          
          
          <code class="ruby">          &#39;Goal3.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1475">
          
          
          <code class="ruby">          &#39;Goal3.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1476">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1477">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1478">
          
          
          <code class="ruby">          &#39;    Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1479">
          
          
          <code class="ruby">          &#39;      Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1480">
          
          
          <code class="ruby">          &#39;  Goal3.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1481">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1482">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1483">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,        variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1484">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,        variable2.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1485">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,        variable3.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1486">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1487">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable1.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1488">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable1.instantiations[1], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1489">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable2.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1490">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable2.instantiations[1], variable2, value1,    nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1491">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable3.instantiations[0], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1492">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable3.instantiations[1], variable3, value2,    nil, nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1493">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1494">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1495">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1496">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1497">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1498">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1499">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should remove all instantiations and values case 9&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1500">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1501">
          <span class="hits">1</span>
          
          <code class="ruby">        variable3.uninstantiate(goal3)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1502">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1503">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal1, { m: nil, n: nil, x: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1504">
          
          
          <code class="ruby">          &#39;Goal1.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1505">
          
          
          <code class="ruby">          &#39;Goal1.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1506">
          
          
          <code class="ruby">          &#39;Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1507">
          
          
          <code class="ruby">          &#39;  Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1508">
          
          
          <code class="ruby">          &#39;    Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1509">
          
          
          <code class="ruby">          &#39;  Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1510">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1511">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1512">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal2, { m: nil, n: nil, y: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1513">
          
          
          <code class="ruby">          &#39;Goal2.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1514">
          
          
          <code class="ruby">          &#39;Goal2.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1515">
          
          
          <code class="ruby">          &#39;Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1516">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1517">
          
          
          <code class="ruby">          &#39;    Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1518">
          
          
          <code class="ruby">          &#39;  Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1519">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1520">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1521">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Goal_variables     goal3, { m: nil, n: nil, z: &#39;word&#39; }, [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1522">
          
          
          <code class="ruby">          &#39;Goal3.:m&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1523">
          
          
          <code class="ruby">          &#39;Goal3.:n&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1524">
          
          
          <code class="ruby">          &#39;Goal3.:z&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1525">
          
          
          <code class="ruby">          &#39;  Goal1.:x&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1526">
          
          
          <code class="ruby">          &#39;    Goal2.:y&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1527">
          
          
          <code class="ruby">          &#39;      Goal2.&quot;word&quot;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1528">
          
          
          <code class="ruby">        ].join(&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1529">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1530">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,        variable1.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1531">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    2,        variable2.instantiations.size</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1532">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    1,        variable3.instantiations.size</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1533">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1534">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable1.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1535">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable1.instantiations[1], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1536">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable2.instantiations[0], variable1, variable2, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1537">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable2.instantiations[1], variable2, value1,    nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1538">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_Instantiation      variable3.instantiations[0], variable1, variable3, nil, nil</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1539">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                variable3.instantiations[1]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1540">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1541">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable1.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1542">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable2.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1543">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    &#39;word&#39;,   variable3.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1544">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1545">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1546">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1547">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1548">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#[]&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1549">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1550">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the element at the specified index&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1551">
          <span class="hits">1</span>
          
          <code class="ruby">        variable = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1552">
          <span class="hits">1</span>
          
          <code class="ruby">        value    = Value.new [3,5,7,11,13,17], goal2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1553">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1554">
          <span class="hits">1</span>
          
          <code class="ruby">        variable.instantiate value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1555">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1556">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [3,5,7,11,13,17],     variable.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1557">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    13,                   variable[4]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1558">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1559">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1560">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return nil for an out of range index&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1561">
          <span class="hits">1</span>
          
          <code class="ruby">        variable = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1562">
          <span class="hits">1</span>
          
          <code class="ruby">        value    = Value.new [3,5,7,11,13,17], goal2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1563">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1564">
          <span class="hits">1</span>
          
          <code class="ruby">        variable.instantiate value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1565">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1566">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [3,5,7,11,13,17],     variable.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1567">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                            variable[200]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1568">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1569">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1570">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return nil when the value is not an array&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1571">
          <span class="hits">1</span>
          
          <code class="ruby">        variable = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1572">
          <span class="hits">1</span>
          
          <code class="ruby">        value    = Value.new 12, goal2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1573">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1574">
          <span class="hits">1</span>
          
          <code class="ruby">        variable.instantiate value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1575">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1576">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    12,                   variable.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1577">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_nil                            variable[0]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1578">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1579">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1580">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the head&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1581">
          <span class="hits">1</span>
          
          <code class="ruby">        variable = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1582">
          <span class="hits">1</span>
          
          <code class="ruby">        value    = Value.new [3,5,7,11,13,17], goal2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1583">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1584">
          <span class="hits">1</span>
          
          <code class="ruby">        variable.instantiate value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1585">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1586">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [3,5,7,11,13,17],     variable.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1587">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    3,                    variable[:head]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1588">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1589">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1590">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return the tail&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1591">
          <span class="hits">1</span>
          
          <code class="ruby">        variable = Variable.new :x, goal1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1592">
          <span class="hits">1</span>
          
          <code class="ruby">        value    = Value.new [3,5,7,11,13,17], goal2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1593">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1594">
          <span class="hits">1</span>
          
          <code class="ruby">        variable.instantiate value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1595">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1596">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [3,5,7,11,13,17],     variable.value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1597">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [5,7,11,13,17],       variable[:tail]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1598">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1599">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1600">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1601">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1602">
          <span class="hits">1</span>
          
          <code class="ruby">    describe &#39;#variables&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1603">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1604">
          <span class="hits">1</span>
          
          <code class="ruby">      it &#39;should return an Array of itself&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1605">
          <span class="hits">1</span>
          
          <code class="ruby">        variable = Variable.new :x, goal1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1606">
          
          
          <code class="ruby">        </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1607">
          <span class="hits">1</span>
          
          <code class="ruby">        assert_equal    [variable],   variable.variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1608">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1609">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1610">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1611">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1612">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1613">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1614">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="621e73d5443d492f7ef83056e1c5dee65ddb2155">
  <div class="header">
    <h3>test/samples_test.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>94</b> relevant lines. 
      <span class="green"><b>94</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby">#   test/samples_test.rb     - Test Suite for Porolog::Predicate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">#     Luis Esteban      13 July 2020</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#       created</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;test_helper&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="10">
          <span class="hits">1</span>
          
          <code class="ruby">describe &#39;Porolog&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="12">
          <span class="hits">1</span>
          
          <code class="ruby">  before(:all) do</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="13">
          <span class="hits">6</span>
          
          <code class="ruby">    reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="16">
          <span class="hits">1</span>
          
          <code class="ruby">  it &#39;implements delete first predicate&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="17">
          <span class="hits">1</span>
          
          <code class="ruby">    predicate :delete</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="19">
          <span class="hits">1</span>
          
          <code class="ruby">    delete(:X, [:X]/:T, :T).fact!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="21">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(9, [1,2,3,4], [2,3,4]), []</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="22">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(1, [1,2,3,4], [2,3,4]), [{}]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="24">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(:Removed, [1,2,3,4], [2,3,4]),   [{ Removed: 1 }]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="25">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(1, :Original, [2,3,4]),          [{ Original: [1,2,3,4] }]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="26">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(1, [1,2,3,4], :Result),          [{ Result: [2,3,4] }]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="27">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(1, [:First,2,3,4], [2,3,4]),     [{ First: 1 }]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="28">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(1, [1,:Second,3,4], [2,3,4]),    [{ Second: 2 }]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="29">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(1, [1,2,:Third,4], [2,3,4]),     [{ Third: 3 }]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="30">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(1, [1,2,3,4], [:Second,3,4]),    [{ Second: 2 }]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="31">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(1, [1,2,3,4], [:A, :B, :C]),     [{ A: 2, B: 3, C: 4 }]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="32">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(1, [:A,2,3,:D], [:B,3,4]),       [{ A: 1, B: 2, D: 4 }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="35">
          <span class="hits">1</span>
          
          <code class="ruby">  it &#39;implements the delete predicate&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="36">
          <span class="hits">1</span>
          
          <code class="ruby">    builtin :write</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="37">
          <span class="hits">1</span>
          
          <code class="ruby">    predicate :delete</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="39">
          <span class="hits">1</span>
          
          <code class="ruby">    delete(:X, [:X]/:T, :T).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="40">
          <span class="hits">1</span>
          
          <code class="ruby">    delete(:X, [:H]/:T, [:H]/:NT) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">      delete(:X, :T, :NT),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="44">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(1, [1,2,3,4], [1,2,4]),  [], goals: 9</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="45">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(3, [1,2,3,4], [1,2,4]),  [{}]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="46">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(4, [1,2,3,4], [1,2,3]),  [{}]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="47">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(4, [1,2,3,4], [1,2,:X]), [{ X: 3 }]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="49">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(:Removed, [1,2,3,4], [1,2,4]), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">      { Removed: 3 }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="53">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(:Removed, [1,2,3,4], [1,2,3]), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">      { Removed: 4 }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="57">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(3, :Original, [1,2,4]), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">      { Original: [3, 1, 2, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">      { Original: [1, 3, 2, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">      { Original: [1, 2, 3, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">      { Original: [1, 2, 4, 3] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="64">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(:X, [1,2,3,4], :L), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">      { X: 1, L: [2, 3, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">      { X: 2, L: [1, 3, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">      { X: 3, L: [1, 2, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">      { X: 4, L: [1, 2, 3] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="71">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  delete(:X, [1,2,3,4], [:A,:B,:C]), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">      { X: 1, A: 2, B: 3, C: 4 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">      { X: 2, A: 1, B: 3, C: 4 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">      { X: 3, A: 1, B: 2, C: 4 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">      { X: 4, A: 1, B: 2, C: 3 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="79">
          <span class="hits">1</span>
          
          <code class="ruby">  it &#39;implements the permutation predicate&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="80">
          <span class="hits">1</span>
          
          <code class="ruby">    warn name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="81">
          <span class="hits">1</span>
          
          <code class="ruby">    predicate :delete, :permutation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="83">
          <span class="hits">1</span>
          
          <code class="ruby">    permutation([],[]).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="84">
          <span class="hits">1</span>
          
          <code class="ruby">    permutation(:List, [:H]/:Permutation) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">      delete(:H, :List, :Rest),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">      permutation(:Rest, :Permutation)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="89">
          <span class="hits">1</span>
          
          <code class="ruby">    delete(:X, [:X]/:T, :T).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="90">
          <span class="hits">1</span>
          
          <code class="ruby">    delete(:X, [:H]/:T, [:H]/:NT) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">      delete(:X, :T, :NT),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="94">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  permutation([1,2,3,4], [1,2,3,4]), [{}]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="95">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  permutation([3,2,1,4], [1,2,3,4]), [{}]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="96">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  permutation([3,2,:A,4], [1,2,3,4]), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">      { A: 1 }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="99">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  permutation([3,2,:A,:B], [1,2,3,4]), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">      { A: 1, B: 4 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">      { A: 4, B: 1 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="103">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  permutation([3,2,:A,4], [1,2,:C,4]), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">      { A: 1, C: 3 }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="106">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  permutation([2,3,1], :L), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">      { L: [2, 3, 1] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">      { L: [2, 1, 3] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">      { L: [3, 2, 1] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">      { L: [3, 1, 2] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">      { L: [1, 2, 3] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">      { L: [1, 3, 2] }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="116">
          <span class="hits">1</span>
          
          <code class="ruby">  it &#39;solves the Einstein / Zebra riddle&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="117">
          <span class="hits">1</span>
          
          <code class="ruby">    warn name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="118">
          <span class="hits">1</span>
          
          <code class="ruby">    builtin :is, :member, :is_noteq</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="119">
          <span class="hits">1</span>
          
          <code class="ruby">    predicate :same, :not_same, :left, :beside, :houses</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="121">
          <span class="hits">1</span>
          
          <code class="ruby">    same(:X,:X).fact!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="123">
          <span class="hits">1</span>
          
          <code class="ruby">    not_same(:X,:X).cut_falicy!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="124">
          <span class="hits">1</span>
          
          <code class="ruby">    not_same(:X,:Y).fact!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="126">
          <span class="hits">1</span>
          
          <code class="ruby">    (1..5).to_a.each_cons(2) do |left, right|</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="127">
          <span class="hits">4</span>
          
          <code class="ruby">      left(left,right).fact!</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="128">
          <span class="hits">4</span>
          
          <code class="ruby">      beside(left,right).fact!</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="129">
          <span class="hits">4</span>
          
          <code class="ruby">      beside(right,left).fact!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="132">
          <span class="hits">1</span>
          
          <code class="ruby">    HOUSES  = [1,       2,          3,        4,          5         ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="134">
          <span class="hits">1</span>
          
          <code class="ruby">    PEOPLE  = [:Brit,   :Dane,      :Swede,   :German,    :Norwegian]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="135">
          <span class="hits">1</span>
          
          <code class="ruby">    SMOKES  = [:Blend,  :Pallmall,  :Dunhill, :Winfield,  :Rothmans ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="136">
          <span class="hits">1</span>
          
          <code class="ruby">    PETS    = [:Dog,    :Cats,      :Fish,    :Birds,     :Horses   ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="137">
          <span class="hits">1</span>
          
          <code class="ruby">    COLOURS = [:Red,    :Blue,      :Green,   :White,     :Yellow   ]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="138">
          <span class="hits">1</span>
          
          <code class="ruby">    DRINKS  = [:Tea,    :Beer,      :Milk,    :Water,     :Coffee   ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="140">
          <span class="hits">1</span>
          
          <code class="ruby">    FISH_INDEX = PETS.index(:Fish)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="142">
          <span class="hits">1</span>
          
          <code class="ruby">    houses(:People, :Smokes, :Pets, :Colours, :Drinks) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby">      same(:Milk, 3),                             # 8.  The man living in the house right in the center drinks milk.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby">      same(:Norwegian, 1),                        # 9.  The Norwegian lives in the first house.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby">      left(:Green, :White),                       # 4.  The green house is on the left of the white house.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">      beside(:Norwegian, :Blue),                  # 14. The Norwegian lives next to the blue house.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">      not_same(:Blue, :White),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="148">
          
          
          <code class="ruby">      beside(:Blend, :Water),                     # 15. The man who smokes Blend has a neighbour who drinks water.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">      not_same(:Milk, :Water),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby">      beside(:Horses, :Dunhill),                  # 11. The man who keeps horses lives next to the man who smokes Dunhill.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">      same(:Yellow, :Dunhill),                    # 7.  The owner of the yellow house smokes Dunhill.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby">      same(:Green, :Coffee),                      # 5.  The green house owner drinks coffee.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">      not_same(:Milk, :Coffee),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">      not_same(:Water, :Coffee),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby">      is_noteq(:Red, HOUSES, :Green, :White, :Blue, :Yellow),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">      same(:Brit, :Red),                          # 1.  The Brit lives in a red house.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">      not_same(:Brit, :Norwegian),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">      beside(:Blend, :Cats),                      # 10. The man who smokes Blend lives next to the one who keeps cats.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby">      not_same(:Horses, :Cats),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby">      is_noteq(:Tea, HOUSES, :Coffee, :Milk, :Water),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby">      same(:Dane, :Tea),                          # 3.  The Dane drinks tea.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">      is_noteq(:Beer, HOUSES, :Tea, :Coffee, :Milk, :Water),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">      same(:Winfield, :Beer),                     # 12. The owner who smokes Winfield drinks beer.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="164">
          
          
          <code class="ruby">      is_noteq(:German, HOUSES, :Norwegian, :Dane, :Brit),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby">      is_noteq(:Swede, HOUSES, :German, :Norwegian, :Dane, :Brit),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby">      same(:Swede, :Dog),                         # 2.  The Swede keeps a dog.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">      is_noteq(:Pallmall, HOUSES, :Dunhill, :Blend, :Winfield),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">      is_noteq(:Rothmans, HOUSES, :Pallmall, :Dunhill, :Blend, :Winfield),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">      same(:Pallmall, :Birds),                    # 6.  The person who smokes Pall Mall keeps birds.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="170">
          
          
          <code class="ruby">      same(:German, :Rothmans),                   # 13. The German smokes Rothmans.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="171">
          
          
          <code class="ruby">      is_noteq(:Fish, HOUSES, :Dog, :Birds, :Cats, :Horses),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="172">
          
          
          <code class="ruby">      </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby">      same(:People,   PEOPLE),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="174">
          
          
          <code class="ruby">      same(:Smokes,   SMOKES),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby">      same(:Pets,     PETS),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="176">
          
          
          <code class="ruby">      same(:Colours,  COLOURS),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">      same(:Drinks,   DRINKS),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="179">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="180">
          <span class="hits">1</span>
          
          <code class="ruby">    solutions = assert_solutions  houses(:People, :Smokes, :Pets, :Colours, :Drinks), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="181">
          
          
          <code class="ruby">      {</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby">        People:   [3, 2, 5, 4, 1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="183">
          
          
          <code class="ruby">        Smokes:   [2, 3, 1, 5, 4],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="184">
          
          
          <code class="ruby">        Pets:     [5, 1, 4, 3, 2],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">        Colours:  [3, 2, 4, 5, 1],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="186">
          
          
          <code class="ruby">        Drinks:   [2, 5, 3, 1, 4]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="187">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby">    ], goals: 1873</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="190">
          <span class="hits">1</span>
          
          <code class="ruby">    solution = solutions.first</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="192">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_equal  :German,    PEOPLE[solution[:People].index(solution[:Pets][FISH_INDEX])]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="194">
          <span class="hits">1</span>
          
          <code class="ruby">    def house_details(solution, h)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="195">
          
          
          <code class="ruby">      [</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="196">
          <span class="hits">5</span>
          
          <code class="ruby">        PEOPLE[solution[:People].index(h)],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="197">
          
          
          <code class="ruby">        SMOKES[solution[:Smokes].index(h)],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="198">
          
          
          <code class="ruby">        PETS[solution[:Pets].index(h)],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="199">
          
          
          <code class="ruby">        COLOURS[solution[:Colours].index(h)],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="200">
          
          
          <code class="ruby">        DRINKS[solution[:Drinks].index(h)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">      ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="202">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="203">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="204">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_equal  [:Norwegian,  :Dunhill,   :Cats,    :Yellow,  :Water ], house_details(solution, 1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="205">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_equal  [:Dane,       :Blend,     :Horses,  :Blue,    :Tea   ], house_details(solution, 2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="206">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_equal  [:Brit,       :Pallmall,  :Birds,   :Red,     :Milk  ], house_details(solution, 3)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="207">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_equal  [:German,     :Rothmans,  :Fish,    :Green,   :Coffee], house_details(solution, 4)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="208">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_equal  [:Swede,      :Winfield,  :Dog,     :White,   :Beer  ], house_details(solution, 5)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="209">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="210">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="211">
          <span class="hits">1</span>
          
          <code class="ruby">  it &#39;instantiates lists using member and length builtin predicates&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="212">
          <span class="hits">1</span>
          
          <code class="ruby">    builtin :member, :length</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="213">
          <span class="hits">1</span>
          
          <code class="ruby">    predicate :lists</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="214">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="215">
          <span class="hits">1</span>
          
          <code class="ruby">    lists(:L) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">      member(:N,[1,2,3,4,5]),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="217">
          
          
          <code class="ruby">      length(:L, :N),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="218">
          
          
          <code class="ruby">      member(:N, :L)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="219">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="221">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_solutions  lists(:L), [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="222">
          
          
          <code class="ruby">      { L: [1] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="223">
          
          
          <code class="ruby">      { L: [2, nil] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="224">
          
          
          <code class="ruby">      { L: [nil, 2] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="225">
          
          
          <code class="ruby">      { L: [3, nil, nil] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="226">
          
          
          <code class="ruby">      { L: [nil, 3, nil] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="227">
          
          
          <code class="ruby">      { L: [nil, nil, 3] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="228">
          
          
          <code class="ruby">      { L: [4, nil, nil, nil] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="229">
          
          
          <code class="ruby">      { L: [nil, 4, nil, nil] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="230">
          
          
          <code class="ruby">      { L: [nil, nil, 4, nil] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="231">
          
          
          <code class="ruby">      { L: [nil, nil, nil, 4] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="232">
          
          
          <code class="ruby">      { L: [5, nil, nil, nil, nil] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby">      { L: [nil, 5, nil, nil, nil] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="234">
          
          
          <code class="ruby">      { L: [nil, nil, 5, nil, nil] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="235">
          
          
          <code class="ruby">      { L: [nil, nil, nil, 5, nil] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="236">
          
          
          <code class="ruby">      { L: [nil, nil, nil, nil, 5] },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="237">
          
          
          <code class="ruby">    ], goals: 13</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="238">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby">  </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="240">
          <span class="hits">1</span>
          
          <code class="ruby">  it &#39;implements a prime number search&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="241">
          <span class="hits">1</span>
          
          <code class="ruby">    builtin   :gtr, :is, :noteq, :between</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="242">
          <span class="hits">1</span>
          
          <code class="ruby">    predicate :prime, :search_prime</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="243">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="244">
          <span class="hits">1</span>
          
          <code class="ruby">    prime(2).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="245">
          <span class="hits">1</span>
          
          <code class="ruby">    prime(3).fact!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="246">
          <span class="hits">1</span>
          
          <code class="ruby">    prime(:X) &lt;&lt; [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="247">
          
          
          <code class="ruby">      between(:X, 4, 20000),</code>
        </li>
      
        <li class="covered" data-hits="226" data-linenumber="248">
          <span class="hits">226</span>
          
          <code class="ruby">      is(:X_mod_2, :X){|x| x % 2 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="249">
          
          
          <code class="ruby">      noteq(:X_mod_2, 0),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="250">
          
          
          <code class="ruby">      search_prime(:X, 3),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="251">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="252">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="253">
          <span class="hits">1</span>
          
          <code class="ruby">    search_prime(:X, :N) &lt;&lt; [</code>
        </li>
      
        <li class="covered" data-hits="352" data-linenumber="254">
          <span class="hits">352</span>
          
          <code class="ruby">      is(:N_squared, :N){|n| n ** 2 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="255">
          
          
          <code class="ruby">      gtr(:N_squared, :X),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="256">
          
          
          <code class="ruby">      :CUT</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="257">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="258">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="259">
          <span class="hits">1</span>
          
          <code class="ruby">    search_prime(:X, :N) &lt;&lt; [</code>
        </li>
      
        <li class="covered" data-hits="304" data-linenumber="260">
          <span class="hits">304</span>
          
          <code class="ruby">      is(:X_mod_N, :X, :N){|x,n| x % n },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="261">
          
          
          <code class="ruby">      noteq(:X_mod_N, 0),</code>
        </li>
      
        <li class="covered" data-hits="239" data-linenumber="262">
          <span class="hits">239</span>
          
          <code class="ruby">      is(:M, :N){|n| n + 2 },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="263">
          
          
          <code class="ruby">      :CUT,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="264">
          
          
          <code class="ruby">      search_prime(:X, :M),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="265">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="266">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="267">
          <span class="hits">1</span>
          
          <code class="ruby">    known_primes = [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby">      2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="269">
          
          
          <code class="ruby">      101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="270">
          
          
          <code class="ruby">      211, 223, 227, 229</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby">    ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="272">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="273">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_equal    known_primes,     prime(:number).solve_for(:number, max_solutions: 50)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="274">
          <span class="hits">1</span>
          
          <code class="ruby">    assert_equal    3016,             Goal.goal_count</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="275">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="276">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="277">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
      </div>
    </div>
  </body>
</html>
